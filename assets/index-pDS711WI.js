(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Iy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gh={exports:{}},Ea={},Qh={exports:{}},Ce={};var Wm;function Y0(){if(Wm)return Ce;Wm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=k&&b[k]||b["@@iterator"],typeof b=="function"?b:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function q(b,H,oe){this.props=b,this.context=H,this.refs=$,this.updater=oe||j}q.prototype.isReactComponent={},q.prototype.setState=function(b,H){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,H,"setState")},q.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ie(){}ie.prototype=q.prototype;function ne(b,H,oe){this.props=b,this.context=H,this.refs=$,this.updater=oe||j}var z=ne.prototype=new ie;z.constructor=ne,W(z,q.prototype),z.isPureReactComponent=!0;var Z=Array.isArray,Te=Object.prototype.hasOwnProperty,pe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(b,H,oe){var ve,we={},Re=null,Ne=null;if(H!=null)for(ve in H.ref!==void 0&&(Ne=H.ref),H.key!==void 0&&(Re=""+H.key),H)Te.call(H,ve)&&!P.hasOwnProperty(ve)&&(we[ve]=H[ve]);var Me=arguments.length-2;if(Me===1)we.children=oe;else if(1<Me){for(var We=Array(Me),wt=0;wt<Me;wt++)We[wt]=arguments[wt+2];we.children=We}if(b&&b.defaultProps)for(ve in Me=b.defaultProps,Me)we[ve]===void 0&&(we[ve]=Me[ve]);return{$$typeof:r,type:b,key:Re,ref:Ne,props:we,_owner:pe.current}}function I(b,H){return{$$typeof:r,type:b.type,key:H,ref:b.ref,props:b.props,_owner:b._owner}}function N(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function V(b){var H={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(oe){return H[oe]})}var O=/\/+/g;function A(b,H){return typeof b=="object"&&b!==null&&b.key!=null?V(""+b.key):H.toString(36)}function ze(b,H,oe,ve,we){var Re=typeof b;(Re==="undefined"||Re==="boolean")&&(b=null);var Ne=!1;if(b===null)Ne=!0;else switch(Re){case"string":case"number":Ne=!0;break;case"object":switch(b.$$typeof){case r:case e:Ne=!0}}if(Ne)return Ne=b,we=we(Ne),b=ve===""?"."+A(Ne,0):ve,Z(we)?(oe="",b!=null&&(oe=b.replace(O,"$&/")+"/"),ze(we,H,oe,"",function(wt){return wt})):we!=null&&(N(we)&&(we=I(we,oe+(!we.key||Ne&&Ne.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+b)),H.push(we)),1;if(Ne=0,ve=ve===""?".":ve+":",Z(b))for(var Me=0;Me<b.length;Me++){Re=b[Me];var We=ve+A(Re,Me);Ne+=ze(Re,H,oe,We,we)}else if(We=C(b),typeof We=="function")for(b=We.call(b),Me=0;!(Re=b.next()).done;)Re=Re.value,We=ve+A(Re,Me++),Ne+=ze(Re,H,oe,We,we);else if(Re==="object")throw H=String(b),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Ne}function et(b,H,oe){if(b==null)return b;var ve=[],we=0;return ze(b,ve,"","",function(Re){return H.call(oe,Re,we++)}),ve}function ot(b){if(b._status===-1){var H=b._result;H=H(),H.then(function(oe){(b._status===0||b._status===-1)&&(b._status=1,b._result=oe)},function(oe){(b._status===0||b._status===-1)&&(b._status=2,b._result=oe)}),b._status===-1&&(b._status=0,b._result=H)}if(b._status===1)return b._result.default;throw b._result}var Pe={current:null},ee={transition:null},de={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ee,ReactCurrentOwner:pe};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:et,forEach:function(b,H,oe){et(b,function(){H.apply(this,arguments)},oe)},count:function(b){var H=0;return et(b,function(){H++}),H},toArray:function(b){return et(b,function(H){return H})||[]},only:function(b){if(!N(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ce.Component=q,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=g,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ce.act=re,Ce.cloneElement=function(b,H,oe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ve=W({},b.props),we=b.key,Re=b.ref,Ne=b._owner;if(H!=null){if(H.ref!==void 0&&(Re=H.ref,Ne=pe.current),H.key!==void 0&&(we=""+H.key),b.type&&b.type.defaultProps)var Me=b.type.defaultProps;for(We in H)Te.call(H,We)&&!P.hasOwnProperty(We)&&(ve[We]=H[We]===void 0&&Me!==void 0?Me[We]:H[We])}var We=arguments.length-2;if(We===1)ve.children=oe;else if(1<We){Me=Array(We);for(var wt=0;wt<We;wt++)Me[wt]=arguments[wt+2];ve.children=Me}return{$$typeof:r,type:b.type,key:we,ref:Re,props:ve,_owner:Ne}},Ce.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},Ce.createElement=T,Ce.createFactory=function(b){var H=T.bind(null,b);return H.type=b,H},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(b){return{$$typeof:f,render:b}},Ce.isValidElement=N,Ce.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:ot}},Ce.memo=function(b,H){return{$$typeof:v,type:b,compare:H===void 0?null:H}},Ce.startTransition=function(b){var H=ee.transition;ee.transition={};try{b()}finally{ee.transition=H}},Ce.unstable_act=re,Ce.useCallback=function(b,H){return Pe.current.useCallback(b,H)},Ce.useContext=function(b){return Pe.current.useContext(b)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(b){return Pe.current.useDeferredValue(b)},Ce.useEffect=function(b,H){return Pe.current.useEffect(b,H)},Ce.useId=function(){return Pe.current.useId()},Ce.useImperativeHandle=function(b,H,oe){return Pe.current.useImperativeHandle(b,H,oe)},Ce.useInsertionEffect=function(b,H){return Pe.current.useInsertionEffect(b,H)},Ce.useLayoutEffect=function(b,H){return Pe.current.useLayoutEffect(b,H)},Ce.useMemo=function(b,H){return Pe.current.useMemo(b,H)},Ce.useReducer=function(b,H,oe){return Pe.current.useReducer(b,H,oe)},Ce.useRef=function(b){return Pe.current.useRef(b)},Ce.useState=function(b){return Pe.current.useState(b)},Ce.useSyncExternalStore=function(b,H,oe){return Pe.current.useSyncExternalStore(b,H,oe)},Ce.useTransition=function(){return Pe.current.useTransition()},Ce.version="18.3.1",Ce}var Km;function jd(){return Km||(Km=1,Qh.exports=Y0()),Qh.exports}var Gm;function X0(){if(Gm)return Ea;Gm=1;var r=jd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var w,k={},C=null,j=null;v!==void 0&&(C=""+v),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(j=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(k[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)k[w]===void 0&&(k[w]=g[w]);return{$$typeof:e,type:f,key:C,ref:j,props:k,_owner:o.current}}return Ea.Fragment=t,Ea.jsx=h,Ea.jsxs=h,Ea}var Qm;function J0(){return Qm||(Qm=1,Gh.exports=X0()),Gh.exports}var R=J0(),_e=jd();const qe=Iy(_e);var Tu={},Yh={exports:{}},tn={},Xh={exports:{}},Jh={};var Ym;function Z0(){return Ym||(Ym=1,(function(r){function e(ee,de){var re=ee.length;ee.push(de);e:for(;0<re;){var b=re-1>>>1,H=ee[b];if(0<o(H,de))ee[b]=de,ee[re]=H,re=b;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var de=ee[0],re=ee.pop();if(re!==de){ee[0]=re;e:for(var b=0,H=ee.length,oe=H>>>1;b<oe;){var ve=2*(b+1)-1,we=ee[ve],Re=ve+1,Ne=ee[Re];if(0>o(we,re))Re<H&&0>o(Ne,we)?(ee[b]=Ne,ee[Re]=re,b=Re):(ee[b]=we,ee[ve]=re,b=ve);else if(Re<H&&0>o(Ne,re))ee[b]=Ne,ee[Re]=re,b=Re;else break e}}return de}function o(ee,de){var re=ee.sortIndex-de.sortIndex;return re!==0?re:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],w=1,k=null,C=3,j=!1,W=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ee){for(var de=t(v);de!==null;){if(de.callback===null)s(v);else if(de.startTime<=ee)s(v),de.sortIndex=de.expirationTime,e(g,de);else break;de=t(v)}}function Z(ee){if($=!1,z(ee),!W)if(t(g)!==null)W=!0,ot(Te);else{var de=t(v);de!==null&&Pe(Z,de.startTime-ee)}}function Te(ee,de){W=!1,$&&($=!1,ie(T),T=-1),j=!0;var re=C;try{for(z(de),k=t(g);k!==null&&(!(k.expirationTime>de)||ee&&!V());){var b=k.callback;if(typeof b=="function"){k.callback=null,C=k.priorityLevel;var H=b(k.expirationTime<=de);de=r.unstable_now(),typeof H=="function"?k.callback=H:k===t(g)&&s(g),z(de)}else s(g);k=t(g)}if(k!==null)var oe=!0;else{var ve=t(v);ve!==null&&Pe(Z,ve.startTime-de),oe=!1}return oe}finally{k=null,C=re,j=!1}}var pe=!1,P=null,T=-1,I=5,N=-1;function V(){return!(r.unstable_now()-N<I)}function O(){if(P!==null){var ee=r.unstable_now();N=ee;var de=!0;try{de=P(!0,ee)}finally{de?A():(pe=!1,P=null)}}else pe=!1}var A;if(typeof ne=="function")A=function(){ne(O)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,et=ze.port2;ze.port1.onmessage=O,A=function(){et.postMessage(null)}}else A=function(){q(O,0)};function ot(ee){P=ee,pe||(pe=!0,A())}function Pe(ee,de){T=q(function(){ee(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){W||j||(W=!0,ot(Te))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ee){switch(C){case 1:case 2:case 3:var de=3;break;default:de=C}var re=C;C=de;try{return ee()}finally{C=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=C;C=ee;try{return de()}finally{C=re}},r.unstable_scheduleCallback=function(ee,de,re){var b=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?b+re:b):re=b,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,ee={id:w++,callback:de,priorityLevel:ee,startTime:re,expirationTime:H,sortIndex:-1},re>b?(ee.sortIndex=re,e(v,ee),t(g)===null&&ee===t(v)&&($?(ie(T),T=-1):$=!0,Pe(Z,re-b))):(ee.sortIndex=H,e(g,ee),W||j||(W=!0,ot(Te))),ee},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ee){var de=C;return function(){var re=C;C=de;try{return ee.apply(this,arguments)}finally{C=re}}}})(Jh)),Jh}var Xm;function ew(){return Xm||(Xm=1,Xh.exports=Z0()),Xh.exports}var Jm;function tw(){if(Jm)return tn;Jm=1;var r=jd(),e=ew();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},k={};function C(n){return g.call(k,n)?!0:g.call(w,n)?!1:v.test(n)?k[n]=!0:(w[n]=!0,!1)}function j(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W(n,i,a,c){if(i===null||typeof i>"u"||j(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(n,i,a,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){q[n]=new $(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];q[i]=new $(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){q[n]=new $(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){q[n]=new $(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){q[n]=new $(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){q[n]=new $(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){q[n]=new $(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){q[n]=new $(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){q[n]=new $(n,5,!1,n.toLowerCase(),null,!1,!1)});var ie=/[\-:]([a-z])/g;function ne(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(ie,ne);q[i]=new $(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(ie,ne);q[i]=new $(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(ie,ne);q[i]=new $(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){q[n]=new $(n,1,!1,n.toLowerCase(),null,!1,!1)}),q.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){q[n]=new $(n,1,!1,n.toLowerCase(),null,!0,!0)});function z(n,i,a,c){var d=q.hasOwnProperty(i)?q[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(W(i,a,d,c)&&(a=null),c||d===null?C(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),pe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),ee=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,b;function H(n){if(b===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);b=i&&i[1]||""}return`
`+b+n}var oe=!1;function ve(n,i){if(!n||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var c=U}Reflect.construct(n,[],i)}else{try{i.call()}catch(U){c=U}n.call(i.prototype)}else{try{throw Error()}catch(U){c=U}n()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,S=m.length-1;1<=_&&0<=S&&d[_]!==m[S];)S--;for(;1<=_&&0<=S;_--,S--)if(d[_]!==m[S]){if(_!==1||S!==1)do if(_--,S--,0>S||d[_]!==m[S]){var x=`
`+d[_].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=_&&0<=S);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?H(n):""}function we(n){switch(n.tag){case 5:return H(n.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return n=ve(n.type,!1),n;case 11:return n=ve(n.type.render,!1),n;case 1:return n=ve(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case pe:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case ze:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case N:return(n._context.displayName||"Context")+".Provider";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case et:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case ot:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function Ne(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function We(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=We(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function or(n){n._valueTracker||(n._valueTracker=wt(n))}function ds(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=We(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Lr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ii(n,i){var a=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function fs(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ro(n,i){i=i.checked,i!=null&&z(n,"checked",i,!1)}function Po(n,i){Ro(n,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ps(n,i.type,a):i.hasOwnProperty("defaultValue")&&ps(n,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function al(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ps(n,i,a){(i!=="number"||Lr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ar=Array.isArray;function lr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Co(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ms(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(ar(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Me(a)}}function gs(n,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function xo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?pt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ur,No=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ur=ur||document.createElement("div"),ur.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ur.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Mr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ai=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(n){Ai.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Si[i]=Si[n]})});function Do(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Si.hasOwnProperty(n)&&Si[n]?(""+i).trim():i+"px"}function Vo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Do(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var bo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(n,i){if(i){if(bo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Lo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=null;function ys(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vs=null,dn=null,$n=null;function _s(n){if(n=oa(n)){if(typeof vs!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Ml(i),vs(n.stateNode,n.type,i))}}function qn(n){dn?$n?$n.push(n):$n=[n]:dn=n}function Mo(){if(dn){var n=dn,i=$n;if($n=dn=null,_s(n),i)for(n=0;n<i.length;n++)_s(i[n])}}function Ri(n,i){return n(i)}function Fo(){}var cr=!1;function Uo(n,i,a){if(cr)return n(i,a);cr=!0;try{return Ri(n,i,a)}finally{cr=!1,(dn!==null||$n!==null)&&(Fo(),Mo())}}function at(n,i){var a=n.stateNode;if(a===null)return null;var c=Ml(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ws=!1;if(f)try{var An={};Object.defineProperty(An,"passive",{get:function(){ws=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{ws=!1}function Pi(n,i,a,c,d,m,_,S,x){var U=Array.prototype.slice.call(arguments,3);try{i.apply(a,U)}catch(Q){this.onError(Q)}}var Ci=!1,Es=null,kn=!1,jo=null,Tc={onError:function(n){Ci=!0,Es=n}};function Ts(n,i,a,c,d,m,_,S,x){Ci=!1,Es=null,Pi.apply(Tc,arguments)}function ll(n,i,a,c,d,m,_,S,x){if(Ts.apply(this,arguments),Ci){if(Ci){var U=Es;Ci=!1,Es=null}else throw Error(t(198));kn||(kn=!0,jo=U)}}function Rn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function xi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Pn(n){if(Rn(n)!==n)throw Error(t(188))}function ul(n){var i=n.alternate;if(!i){if(i=Rn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Pn(d),n;if(m===c)return Pn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,S=d.child;S;){if(S===a){_=!0,a=d,c=m;break}if(S===c){_=!0,c=d,a=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===a){_=!0,a=m,c=d;break}if(S===c){_=!0,c=m,a=d;break}S=S.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function zo(n){return n=ul(n),n!==null?Is(n):null}function Is(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Is(n);if(i!==null)return i;n=n.sibling}return null}var Ss=e.unstable_scheduleCallback,Bo=e.unstable_cancelCallback,cl=e.unstable_shouldYield,Ic=e.unstable_requestPaint,Ke=e.unstable_now,hl=e.unstable_getCurrentPriorityLevel,Ni=e.unstable_ImmediatePriority,Fr=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,$o=e.unstable_LowPriority,dl=e.unstable_IdlePriority,Di=null,rn=null;function fl(n){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Di,n,void 0,(n.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:ml,qo=Math.log,pl=Math.LN2;function ml(n){return n>>>=0,n===0?32:31-(qo(n)/pl|0)|0}var As=64,ks=4194304;function Ur(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var S=_&~d;S!==0?c=Ur(S):(m&=_,m!==0&&(c=Ur(m)))}else _=a&~d,_!==0?c=Ur(_):m!==0&&(c=Ur(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Bt(i),d=1<<a,c|=n[a],i&=~d;return c}function Sc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-Bt(m),S=1<<_,x=d[_];x===-1?((S&a)===0||(S&c)!==0)&&(d[_]=Sc(S,i)):x<=i&&(n.expiredLanes|=S),m&=~S}}function sn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function bi(){var n=As;return As<<=1,(As&4194240)===0&&(As=64),n}function jr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function zr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Bt(i),n[i]=a}function He(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Bt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Br(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Bt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Ve=0;function $r(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var gl,Rs,yl,vl,_l,Ho=!1,Hn=[],kt=null,Cn=null,xn=null,qr=new Map,pn=new Map,Wn=[],Ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wl(n,i){switch(n){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":qr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(i.pointerId)}}function Gt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=oa(i),i!==null&&Rs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function kc(n,i,a,c,d){switch(i){case"focusin":return kt=Gt(kt,n,i,a,c,d),!0;case"dragenter":return Cn=Gt(Cn,n,i,a,c,d),!0;case"mouseover":return xn=Gt(xn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return qr.set(m,Gt(qr.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,pn.set(m,Gt(pn.get(m)||null,n,i,a,c,d)),!0}return!1}function El(n){var i=Ui(n.target);if(i!==null){var a=Rn(i);if(a!==null){if(i=a.tag,i===13){if(i=xi(a),i!==null){n.blockedOn=i,_l(n.priority,function(){yl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Ps(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);ki=c,a.target.dispatchEvent(c),ki=null}else return i=oa(a),i!==null&&Rs(i),n.blockedOn=a,!1;i.shift()}return!0}function Oi(n,i,a){dr(n)&&a.delete(i)}function Tl(){Ho=!1,kt!==null&&dr(kt)&&(kt=null),Cn!==null&&dr(Cn)&&(Cn=null),xn!==null&&dr(xn)&&(xn=null),qr.forEach(Oi),pn.forEach(Oi)}function Nn(n,i){n.blockedOn===i&&(n.blockedOn=null,Ho||(Ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tl)))}function Dn(n){function i(d){return Nn(d,n)}if(0<Hn.length){Nn(Hn[0],n);for(var a=1;a<Hn.length;a++){var c=Hn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(kt!==null&&Nn(kt,n),Cn!==null&&Nn(Cn,n),xn!==null&&Nn(xn,n),qr.forEach(i),pn.forEach(i),a=0;a<Wn.length;a++)c=Wn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Wn.length&&(a=Wn[0],a.blockedOn===null);)El(a),a.blockedOn===null&&Wn.shift()}var fr=Z.ReactCurrentBatchConfig,Hr=!0;function Je(n,i,a,c){var d=Ve,m=fr.transition;fr.transition=null;try{Ve=1,Wo(n,i,a,c)}finally{Ve=d,fr.transition=m}}function Rc(n,i,a,c){var d=Ve,m=fr.transition;fr.transition=null;try{Ve=4,Wo(n,i,a,c)}finally{Ve=d,fr.transition=m}}function Wo(n,i,a,c){if(Hr){var d=Ps(n,i,a,c);if(d===null)Fc(n,i,c,Li,a),wl(n,c);else if(kc(d,n,i,a,c))c.stopPropagation();else if(wl(n,c),i&4&&-1<Ac.indexOf(n)){for(;d!==null;){var m=oa(d);if(m!==null&&gl(m),m=Ps(n,i,a,c),m===null&&Fc(n,i,c,Li,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Fc(n,i,c,null,a)}}var Li=null;function Ps(n,i,a,c){if(Li=null,n=ys(c),n=Ui(n),n!==null)if(i=Rn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=xi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Li=n,null}function Ko(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hl()){case Ni:return 1;case Fr:return 4;case fn:case $o:return 16;case dl:return 536870912;default:return 16}default:return 16}}var on=null,Cs=null,Qt=null;function Go(){if(Qt)return Qt;var n,i=Cs,a=i.length,c,d="value"in on?on.value:on.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[m-c];c++);return Qt=d.slice(n,1<c?1-c:void 0)}function xs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Kn(){return!0}function Qo(){return!1}function Rt(n){function i(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Kn:Qo,this.isPropagationStopped=Qo,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),i}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Rt(Vn),Gn=re({},Vn,{view:0,detail:0}),Pc=Rt(Gn),Ds,pr,Wr,Mi=re({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wr&&(Wr&&n.type==="mousemove"?(Ds=n.screenX-Wr.screenX,pr=n.screenY-Wr.screenY):pr=Ds=0,Wr=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:pr}}),Vs=Rt(Mi),Yo=re({},Mi,{dataTransfer:0}),Il=Rt(Yo),bs=re({},Gn,{relatedTarget:0}),Os=Rt(bs),Sl=re({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),mr=Rt(Sl),Al=re({},Vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kl=Rt(Al),Rl=re({},Vn,{data:0}),Xo=Rt(Rl),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Pl[n])?!!i[n]:!1}function Qn(){return Cl}var l=re({},Gn,{key:function(n){if(n.key){var i=Ls[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=xs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$t[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(n){return n.type==="keypress"?xs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Rt(l),y=re({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Rt(y),L=re({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),B=Rt(L),te=re({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=Rt(te),gt=re({},Mi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=Rt(gt),Et=[9,13,27,32],ct=f&&"CompositionEvent"in window,mn=null;f&&"documentMode"in document&&(mn=document.documentMode);var an=f&&"TextEvent"in window&&!mn,Fi=f&&(!ct||mn&&8<mn&&11>=mn),Ms=" ",jf=!1;function zf(n,i){switch(n){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fs=!1;function K_(n,i){switch(n){case"compositionend":return Bf(i);case"keypress":return i.which!==32?null:(jf=!0,Ms);case"textInput":return n=i.data,n===Ms&&jf?null:n;default:return null}}function G_(n,i){if(Fs)return n==="compositionend"||!ct&&zf(n,i)?(n=Go(),Qt=Cs=on=null,Fs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fi&&i.locale!=="ko"?null:i.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $f(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Q_[n.type]:i==="textarea"}function qf(n,i,a,c){qn(c),i=bl(i,"onChange"),0<i.length&&(a=new Ns("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Jo=null,Zo=null;function Y_(n){lp(n,0)}function xl(n){var i=$s(n);if(ds(i))return n}function X_(n,i){if(n==="change")return i}var Hf=!1;if(f){var Cc;if(f){var xc="oninput"in document;if(!xc){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),xc=typeof Wf.oninput=="function"}Cc=xc}else Cc=!1;Hf=Cc&&(!document.documentMode||9<document.documentMode)}function Kf(){Jo&&(Jo.detachEvent("onpropertychange",Gf),Zo=Jo=null)}function Gf(n){if(n.propertyName==="value"&&xl(Zo)){var i=[];qf(i,Zo,n,ys(n)),Uo(Y_,i)}}function J_(n,i,a){n==="focusin"?(Kf(),Jo=i,Zo=a,Jo.attachEvent("onpropertychange",Gf)):n==="focusout"&&Kf()}function Z_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xl(Zo)}function e0(n,i){if(n==="click")return xl(i)}function t0(n,i){if(n==="input"||n==="change")return xl(i)}function n0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:n0;function ea(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!bn(n[d],i[d]))return!1}return!0}function Qf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yf(n,i){var a=Qf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qf(a)}}function Xf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Xf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Jf(){for(var n=window,i=Lr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Lr(n.document)}return i}function Nc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function r0(n){var i=Jf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Xf(a.ownerDocument.documentElement,a)){if(c!==null&&Nc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Yf(a,m);var _=Yf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var i0=f&&"documentMode"in document&&11>=document.documentMode,Us=null,Dc=null,ta=null,Vc=!1;function Zf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vc||Us==null||Us!==Lr(c)||(c=Us,"selectionStart"in c&&Nc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ta&&ea(ta,c)||(ta=c,c=bl(Dc,"onSelect"),0<c.length&&(i=new Ns("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Us)))}function Nl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var js={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},bc={},ep={};f&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Dl(n){if(bc[n])return bc[n];if(!js[n])return n;var i=js[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in ep)return bc[n]=i[a];return n}var tp=Dl("animationend"),np=Dl("animationiteration"),rp=Dl("animationstart"),ip=Dl("transitionend"),sp=new Map,op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,i){sp.set(n,i),u(i,[n])}for(var Oc=0;Oc<op.length;Oc++){var Lc=op[Oc],s0=Lc.toLowerCase(),o0=Lc[0].toUpperCase()+Lc.slice(1);Kr(s0,"on"+o0)}Kr(tp,"onAnimationEnd"),Kr(np,"onAnimationIteration"),Kr(rp,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(ip,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function ap(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,ll(c,i,void 0,n),n.currentTarget=null}function lp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var S=c[_],x=S.instance,U=S.currentTarget;if(S=S.listener,x!==m&&d.isPropagationStopped())break e;ap(d,S,U),m=x}else for(_=0;_<c.length;_++){if(S=c[_],x=S.instance,U=S.currentTarget,S=S.listener,x!==m&&d.isPropagationStopped())break e;ap(d,S,U),m=x}}}if(kn)throw n=jo,kn=!1,jo=null,n}function Qe(n,i){var a=i[qc];a===void 0&&(a=i[qc]=new Set);var c=n+"__bubble";a.has(c)||(up(i,n,2,!1),a.add(c))}function Mc(n,i,a){var c=0;i&&(c|=4),up(a,n,c,i)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function ra(n){if(!n[Vl]){n[Vl]=!0,s.forEach(function(a){a!=="selectionchange"&&(a0.has(a)||Mc(a,!1,n),Mc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Vl]||(i[Vl]=!0,Mc("selectionchange",!1,i))}}function up(n,i,a,c){switch(Ko(i)){case 1:var d=Je;break;case 4:d=Rc;break;default:d=Wo}a=d.bind(null,i,a,n),d=void 0,!ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Fc(n,i,a,c,d){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;_=_.return}for(;S!==null;){if(_=Ui(S),_===null)return;if(x=_.tag,x===5||x===6){c=m=_;continue e}S=S.parentNode}}c=c.return}Uo(function(){var U=m,Q=ys(a),X=[];e:{var G=sp.get(n);if(G!==void 0){var se=Ns,ue=n;switch(n){case"keypress":if(xs(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ue="focus",se=Os;break;case"focusout":ue="blur",se=Os;break;case"beforeblur":case"afterblur":se=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Il;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=B;break;case tp:case np:case rp:se=mr;break;case ip:se=Be;break;case"scroll":se=Pc;break;case"wheel":se=Oe;break;case"copy":case"cut":case"paste":se=kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var ce=(i&4)!==0,lt=!ce&&n==="scroll",M=ce?G!==null?G+"Capture":null:G;ce=[];for(var D=U,F;D!==null;){F=D;var J=F.stateNode;if(F.tag===5&&J!==null&&(F=J,M!==null&&(J=at(D,M),J!=null&&ce.push(ia(D,J,F)))),lt)break;D=D.return}0<ce.length&&(G=new se(G,ue,null,a,Q),X.push({event:G,listeners:ce}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",G&&a!==ki&&(ue=a.relatedTarget||a.fromElement)&&(Ui(ue)||ue[gr]))break e;if((se||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=U,ue=ue?Ui(ue):null,ue!==null&&(lt=Rn(ue),ue!==lt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=U),se!==ue)){if(ce=Vs,J="onMouseLeave",M="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ce=E,J="onPointerLeave",M="onPointerEnter",D="pointer"),lt=se==null?G:$s(se),F=ue==null?G:$s(ue),G=new ce(J,D+"leave",se,a,Q),G.target=lt,G.relatedTarget=F,J=null,Ui(Q)===U&&(ce=new ce(M,D+"enter",ue,a,Q),ce.target=F,ce.relatedTarget=lt,J=ce),lt=J,se&&ue)t:{for(ce=se,M=ue,D=0,F=ce;F;F=zs(F))D++;for(F=0,J=M;J;J=zs(J))F++;for(;0<D-F;)ce=zs(ce),D--;for(;0<F-D;)M=zs(M),F--;for(;D--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=zs(ce),M=zs(M)}ce=null}else ce=null;se!==null&&cp(X,G,se,ce,!1),ue!==null&&lt!==null&&cp(X,lt,ue,ce,!0)}}e:{if(G=U?$s(U):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var fe=X_;else if($f(G))if(Hf)fe=t0;else{fe=Z_;var ge=J_}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(fe=e0);if(fe&&(fe=fe(n,U))){qf(X,fe,a,Q);break e}ge&&ge(n,G,U),n==="focusout"&&(ge=G._wrapperState)&&ge.controlled&&G.type==="number"&&ps(G,"number",G.value)}switch(ge=U?$s(U):window,n){case"focusin":($f(ge)||ge.contentEditable==="true")&&(Us=ge,Dc=U,ta=null);break;case"focusout":ta=Dc=Us=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Zf(X,a,Q);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":Zf(X,a,Q)}var ye;if(ct)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Fs?zf(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Fi&&a.locale!=="ko"&&(Fs||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Fs&&(ye=Go()):(on=Q,Cs="value"in on?on.value:on.textContent,Fs=!0)),ge=bl(U,Ie),0<ge.length&&(Ie=new Xo(Ie,n,null,a,Q),X.push({event:Ie,listeners:ge}),ye?Ie.data=ye:(ye=Bf(a),ye!==null&&(Ie.data=ye)))),(ye=an?K_(n,a):G_(n,a))&&(U=bl(U,"onBeforeInput"),0<U.length&&(Q=new Xo("onBeforeInput","beforeinput",null,a,Q),X.push({event:Q,listeners:U}),Q.data=ye))}lp(X,i)})}function ia(n,i,a){return{instance:n,listener:i,currentTarget:a}}function bl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=at(n,a),m!=null&&c.unshift(ia(n,m,d)),m=at(n,i),m!=null&&c.push(ia(n,m,d))),n=n.return}return c}function zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cp(n,i,a,c,d){for(var m=i._reactName,_=[];a!==null&&a!==c;){var S=a,x=S.alternate,U=S.stateNode;if(x!==null&&x===c)break;S.tag===5&&U!==null&&(S=U,d?(x=at(a,m),x!=null&&_.unshift(ia(a,x,S))):d||(x=at(a,m),x!=null&&_.push(ia(a,x,S)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var l0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function hp(n){return(typeof n=="string"?n:""+n).replace(l0,`
`).replace(u0,"")}function Ol(n,i,a){if(i=hp(i),hp(n)!==i&&a)throw Error(t(425))}function Ll(){}var Uc=null,jc=null;function zc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bc=typeof setTimeout=="function"?setTimeout:void 0,c0=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(n){return dp.resolve(null).then(n).catch(d0)}:Bc;function d0(n){setTimeout(function(){throw n})}function $c(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Dn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Dn(i)}function Gr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function fp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Bs,sa="__reactProps$"+Bs,gr="__reactContainer$"+Bs,qc="__reactEvents$"+Bs,f0="__reactListeners$"+Bs,p0="__reactHandles$"+Bs;function Ui(n){var i=n[Yn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[gr]||a[Yn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=fp(n);n!==null;){if(a=n[Yn])return a;n=fp(n)}return i}n=a,a=n.parentNode}return null}function oa(n){return n=n[Yn]||n[gr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $s(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ml(n){return n[sa]||null}var Hc=[],qs=-1;function Qr(n){return{current:n}}function Ye(n){0>qs||(n.current=Hc[qs],Hc[qs]=null,qs--)}function Ge(n,i){qs++,Hc[qs]=n.current,n.current=i}var Yr={},bt=Qr(Yr),Yt=Qr(!1),ji=Yr;function Hs(n,i){var a=n.type.contextTypes;if(!a)return Yr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Xt(n){return n=n.childContextTypes,n!=null}function Fl(){Ye(Yt),Ye(bt)}function pp(n,i,a){if(bt.current!==Yr)throw Error(t(168));Ge(bt,i),Ge(Yt,a)}function mp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Ne(n)||"Unknown",d));return re({},a,c)}function Ul(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yr,ji=bt.current,Ge(bt,n),Ge(Yt,Yt.current),!0}function gp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=mp(n,i,ji),c.__reactInternalMemoizedMergedChildContext=n,Ye(Yt),Ye(bt),Ge(bt,n)):Ye(Yt),Ge(Yt,a)}var yr=null,jl=!1,Wc=!1;function yp(n){yr===null?yr=[n]:yr.push(n)}function m0(n){jl=!0,yp(n)}function Xr(){if(!Wc&&yr!==null){Wc=!0;var n=0,i=Ve;try{var a=yr;for(Ve=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}yr=null,jl=!1}catch(d){throw yr!==null&&(yr=yr.slice(n+1)),Ss(Ni,Xr),d}finally{Ve=i,Wc=!1}}return null}var Ws=[],Ks=0,zl=null,Bl=0,gn=[],yn=0,zi=null,vr=1,_r="";function Bi(n,i){Ws[Ks++]=Bl,Ws[Ks++]=zl,zl=n,Bl=i}function vp(n,i,a){gn[yn++]=vr,gn[yn++]=_r,gn[yn++]=zi,zi=n;var c=vr;n=_r;var d=32-Bt(c)-1;c&=~(1<<d),a+=1;var m=32-Bt(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,vr=1<<32-Bt(i)+d|a<<d|c,_r=m+n}else vr=1<<m|a<<d|c,_r=n}function Kc(n){n.return!==null&&(Bi(n,1),vp(n,1,0))}function Gc(n){for(;n===zl;)zl=Ws[--Ks],Ws[Ks]=null,Bl=Ws[--Ks],Ws[Ks]=null;for(;n===zi;)zi=gn[--yn],gn[yn]=null,_r=gn[--yn],gn[yn]=null,vr=gn[--yn],gn[yn]=null}var ln=null,un=null,Ze=!1,On=null;function _p(n,i){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function wp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,ln=n,un=Gr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,ln=n,un=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=zi!==null?{id:vr,overflow:_r}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,ln=n,un=null,!0):!1;default:return!1}}function Qc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Yc(n){if(Ze){var i=un;if(i){var a=i;if(!wp(n,i)){if(Qc(n))throw Error(t(418));i=Gr(a.nextSibling);var c=ln;i&&wp(n,i)?_p(c,a):(n.flags=n.flags&-4097|2,Ze=!1,ln=n)}}else{if(Qc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ze=!1,ln=n}}}function Ep(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function $l(n){if(n!==ln)return!1;if(!Ze)return Ep(n),Ze=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!zc(n.type,n.memoizedProps)),i&&(i=un)){if(Qc(n))throw Tp(),Error(t(418));for(;i;)_p(n,i),i=Gr(i.nextSibling)}if(Ep(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){un=Gr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}un=null}}else un=ln?Gr(n.stateNode.nextSibling):null;return!0}function Tp(){for(var n=un;n;)n=Gr(n.nextSibling)}function Gs(){un=ln=null,Ze=!1}function Xc(n){On===null?On=[n]:On.push(n)}var g0=Z.ReactCurrentBatchConfig;function aa(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var S=d.refs;_===null?delete S[m]:S[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ql(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Ip(n){var i=n._init;return i(n._payload)}function Sp(n){function i(M,D){if(n){var F=M.deletions;F===null?(M.deletions=[D],M.flags|=16):F.push(D)}}function a(M,D){if(!n)return null;for(;D!==null;)i(M,D),D=D.sibling;return null}function c(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function d(M,D){return M=si(M,D),M.index=0,M.sibling=null,M}function m(M,D,F){return M.index=F,n?(F=M.alternate,F!==null?(F=F.index,F<D?(M.flags|=2,D):F):(M.flags|=2,D)):(M.flags|=1048576,D)}function _(M){return n&&M.alternate===null&&(M.flags|=2),M}function S(M,D,F,J){return D===null||D.tag!==6?(D=Bh(F,M.mode,J),D.return=M,D):(D=d(D,F),D.return=M,D)}function x(M,D,F,J){var fe=F.type;return fe===P?Q(M,D,F.props.children,J,F.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ot&&Ip(fe)===D.type)?(J=d(D,F.props),J.ref=aa(M,D,F),J.return=M,J):(J=pu(F.type,F.key,F.props,null,M.mode,J),J.ref=aa(M,D,F),J.return=M,J)}function U(M,D,F,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=$h(F,M.mode,J),D.return=M,D):(D=d(D,F.children||[]),D.return=M,D)}function Q(M,D,F,J,fe){return D===null||D.tag!==7?(D=Yi(F,M.mode,J,fe),D.return=M,D):(D=d(D,F),D.return=M,D)}function X(M,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Bh(""+D,M.mode,F),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Te:return F=pu(D.type,D.key,D.props,null,M.mode,F),F.ref=aa(M,null,D),F.return=M,F;case pe:return D=$h(D,M.mode,F),D.return=M,D;case ot:var J=D._init;return X(M,J(D._payload),F)}if(ar(D)||de(D))return D=Yi(D,M.mode,F,null),D.return=M,D;ql(M,D)}return null}function G(M,D,F,J){var fe=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return fe!==null?null:S(M,D,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Te:return F.key===fe?x(M,D,F,J):null;case pe:return F.key===fe?U(M,D,F,J):null;case ot:return fe=F._init,G(M,D,fe(F._payload),J)}if(ar(F)||de(F))return fe!==null?null:Q(M,D,F,J,null);ql(M,F)}return null}function se(M,D,F,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(F)||null,S(D,M,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Te:return M=M.get(J.key===null?F:J.key)||null,x(D,M,J,fe);case pe:return M=M.get(J.key===null?F:J.key)||null,U(D,M,J,fe);case ot:var ge=J._init;return se(M,D,F,ge(J._payload),fe)}if(ar(J)||de(J))return M=M.get(F)||null,Q(D,M,J,fe,null);ql(D,J)}return null}function ue(M,D,F,J){for(var fe=null,ge=null,ye=D,Ie=D=0,St=null;ye!==null&&Ie<F.length;Ie++){ye.index>Ie?(St=ye,ye=null):St=ye.sibling;var Ue=G(M,ye,F[Ie],J);if(Ue===null){ye===null&&(ye=St);break}n&&ye&&Ue.alternate===null&&i(M,ye),D=m(Ue,D,Ie),ge===null?fe=Ue:ge.sibling=Ue,ge=Ue,ye=St}if(Ie===F.length)return a(M,ye),Ze&&Bi(M,Ie),fe;if(ye===null){for(;Ie<F.length;Ie++)ye=X(M,F[Ie],J),ye!==null&&(D=m(ye,D,Ie),ge===null?fe=ye:ge.sibling=ye,ge=ye);return Ze&&Bi(M,Ie),fe}for(ye=c(M,ye);Ie<F.length;Ie++)St=se(ye,M,Ie,F[Ie],J),St!==null&&(n&&St.alternate!==null&&ye.delete(St.key===null?Ie:St.key),D=m(St,D,Ie),ge===null?fe=St:ge.sibling=St,ge=St);return n&&ye.forEach(function(oi){return i(M,oi)}),Ze&&Bi(M,Ie),fe}function ce(M,D,F,J){var fe=de(F);if(typeof fe!="function")throw Error(t(150));if(F=fe.call(F),F==null)throw Error(t(151));for(var ge=fe=null,ye=D,Ie=D=0,St=null,Ue=F.next();ye!==null&&!Ue.done;Ie++,Ue=F.next()){ye.index>Ie?(St=ye,ye=null):St=ye.sibling;var oi=G(M,ye,Ue.value,J);if(oi===null){ye===null&&(ye=St);break}n&&ye&&oi.alternate===null&&i(M,ye),D=m(oi,D,Ie),ge===null?fe=oi:ge.sibling=oi,ge=oi,ye=St}if(Ue.done)return a(M,ye),Ze&&Bi(M,Ie),fe;if(ye===null){for(;!Ue.done;Ie++,Ue=F.next())Ue=X(M,Ue.value,J),Ue!==null&&(D=m(Ue,D,Ie),ge===null?fe=Ue:ge.sibling=Ue,ge=Ue);return Ze&&Bi(M,Ie),fe}for(ye=c(M,ye);!Ue.done;Ie++,Ue=F.next())Ue=se(ye,M,Ie,Ue.value,J),Ue!==null&&(n&&Ue.alternate!==null&&ye.delete(Ue.key===null?Ie:Ue.key),D=m(Ue,D,Ie),ge===null?fe=Ue:ge.sibling=Ue,ge=Ue);return n&&ye.forEach(function(Q0){return i(M,Q0)}),Ze&&Bi(M,Ie),fe}function lt(M,D,F,J){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Te:e:{for(var fe=F.key,ge=D;ge!==null;){if(ge.key===fe){if(fe=F.type,fe===P){if(ge.tag===7){a(M,ge.sibling),D=d(ge,F.props.children),D.return=M,M=D;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ot&&Ip(fe)===ge.type){a(M,ge.sibling),D=d(ge,F.props),D.ref=aa(M,ge,F),D.return=M,M=D;break e}a(M,ge);break}else i(M,ge);ge=ge.sibling}F.type===P?(D=Yi(F.props.children,M.mode,J,F.key),D.return=M,M=D):(J=pu(F.type,F.key,F.props,null,M.mode,J),J.ref=aa(M,D,F),J.return=M,M=J)}return _(M);case pe:e:{for(ge=F.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){a(M,D.sibling),D=d(D,F.children||[]),D.return=M,M=D;break e}else{a(M,D);break}else i(M,D);D=D.sibling}D=$h(F,M.mode,J),D.return=M,M=D}return _(M);case ot:return ge=F._init,lt(M,D,ge(F._payload),J)}if(ar(F))return ue(M,D,F,J);if(de(F))return ce(M,D,F,J);ql(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(a(M,D.sibling),D=d(D,F),D.return=M,M=D):(a(M,D),D=Bh(F,M.mode,J),D.return=M,M=D),_(M)):a(M,D)}return lt}var Qs=Sp(!0),Ap=Sp(!1),Hl=Qr(null),Wl=null,Ys=null,Jc=null;function Zc(){Jc=Ys=Wl=null}function eh(n){var i=Hl.current;Ye(Hl),n._currentValue=i}function th(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Xs(n,i){Wl=n,Jc=Ys=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Jt=!0),n.firstContext=null)}function vn(n){var i=n._currentValue;if(Jc!==n)if(n={context:n,memoizedValue:i,next:null},Ys===null){if(Wl===null)throw Error(t(308));Ys=n,Wl.dependencies={lanes:0,firstContext:n}}else Ys=Ys.next=n;return i}var $i=null;function nh(n){$i===null?$i=[n]:$i.push(n)}function kp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,nh(i)):(a.next=d.next,d.next=a),i.interleaved=a,wr(n,c)}function wr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Jr=!1;function rh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Er(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Zr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Fe&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,wr(n,a)}return d=c.interleaved,d===null?(i.next=i,nh(c)):(i.next=d.next,d.next=i),c.interleaved=i,wr(n,a)}function Kl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Br(n,a)}}function Pp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Gl(n,i,a,c){var d=n.updateQueue;Jr=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var x=S,U=x.next;x.next=null,_===null?m=U:_.next=U,_=x;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=U:S.next=U,Q.lastBaseUpdate=x))}if(m!==null){var X=d.baseState;_=0,Q=U=x=null,S=m;do{var G=S.lane,se=S.eventTime;if((c&G)===G){Q!==null&&(Q=Q.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=n,ce=S;switch(G=i,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){X=ue.call(se,X,G);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,G=typeof ue=="function"?ue.call(se,X,G):ue,G==null)break e;X=re({},X,G);break e;case 2:Jr=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,G=d.effects,G===null?d.effects=[S]:G.push(S))}else se={eventTime:se,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(U=Q=se,x=X):Q=Q.next=se,_|=G;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;G=S,S=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(Q===null&&(x=X),d.baseState=x,d.firstBaseUpdate=U,d.lastBaseUpdate=Q,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Wi|=_,n.lanes=_,n.memoizedState=X}}function Cp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var la={},Xn=Qr(la),ua=Qr(la),ca=Qr(la);function qi(n){if(n===la)throw Error(t(174));return n}function ih(n,i){switch(Ge(ca,i),Ge(ua,n),Ge(Xn,la),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=mt(i,n)}Ye(Xn),Ge(Xn,i)}function Js(){Ye(Xn),Ye(ua),Ye(ca)}function xp(n){qi(ca.current);var i=qi(Xn.current),a=mt(i,n.type);i!==a&&(Ge(ua,n),Ge(Xn,a))}function sh(n){ua.current===n&&(Ye(Xn),Ye(ua))}var tt=Qr(0);function Ql(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var oh=[];function ah(){for(var n=0;n<oh.length;n++)oh[n]._workInProgressVersionPrimary=null;oh.length=0}var Yl=Z.ReactCurrentDispatcher,lh=Z.ReactCurrentBatchConfig,Hi=0,nt=null,yt=null,Tt=null,Xl=!1,ha=!1,da=0,y0=0;function Ot(){throw Error(t(321))}function uh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!bn(n[a],i[a]))return!1;return!0}function ch(n,i,a,c,d,m){if(Hi=m,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Yl.current=n===null||n.memoizedState===null?E0:T0,n=a(c,d),ha){m=0;do{if(ha=!1,da=0,25<=m)throw Error(t(301));m+=1,Tt=yt=null,i.updateQueue=null,Yl.current=I0,n=a(c,d)}while(ha)}if(Yl.current=eu,i=yt!==null&&yt.next!==null,Hi=0,Tt=yt=nt=null,Xl=!1,i)throw Error(t(300));return n}function hh(){var n=da!==0;return da=0,n}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function _n(){if(yt===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Tt===null?nt.memoizedState:Tt.next;if(i!==null)Tt=i,yt=n;else{if(n===null)throw Error(t(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?nt.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function fa(n,i){return typeof i=="function"?i(n):i}function dh(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=yt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var S=_=null,x=null,U=m;do{var Q=U.lane;if((Hi&Q)===Q)x!==null&&(x=x.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:n(c,U.action);else{var X={lane:Q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};x===null?(S=x=X,_=c):x=x.next=X,nt.lanes|=Q,Wi|=Q}U=U.next}while(U!==null&&U!==m);x===null?_=c:x.next=S,bn(c,i.memoizedState)||(Jt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=x,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,nt.lanes|=m,Wi|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function fh(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);bn(m,i.memoizedState)||(Jt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Np(){}function Dp(n,i){var a=nt,c=_n(),d=i(),m=!bn(c.memoizedState,d);if(m&&(c.memoizedState=d,Jt=!0),c=c.queue,ph(Op.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,pa(9,bp.bind(null,a,c,d,i),void 0,null),It===null)throw Error(t(349));(Hi&30)!==0||Vp(a,i,d)}return d}function Vp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function bp(n,i,a,c){i.value=a,i.getSnapshot=c,Lp(i)&&Mp(n)}function Op(n,i,a){return a(function(){Lp(i)&&Mp(n)})}function Lp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!bn(n,a)}catch{return!0}}function Mp(n){var i=wr(n,1);i!==null&&Un(i,n,1,-1)}function Fp(n){var i=Jn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},i.queue=n,n=n.dispatch=w0.bind(null,nt,n),[i.memoizedState,n]}function pa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Up(){return _n().memoizedState}function Jl(n,i,a,c){var d=Jn();nt.flags|=n,d.memoizedState=pa(1|i,a,void 0,c===void 0?null:c)}function Zl(n,i,a,c){var d=_n();c=c===void 0?null:c;var m=void 0;if(yt!==null){var _=yt.memoizedState;if(m=_.destroy,c!==null&&uh(c,_.deps)){d.memoizedState=pa(i,a,m,c);return}}nt.flags|=n,d.memoizedState=pa(1|i,a,m,c)}function jp(n,i){return Jl(8390656,8,n,i)}function ph(n,i){return Zl(2048,8,n,i)}function zp(n,i){return Zl(4,2,n,i)}function Bp(n,i){return Zl(4,4,n,i)}function $p(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function qp(n,i,a){return a=a!=null?a.concat([n]):null,Zl(4,4,$p.bind(null,i,n),a)}function mh(){}function Hp(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&uh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Wp(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&uh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Kp(n,i,a){return(Hi&21)===0?(n.baseState&&(n.baseState=!1,Jt=!0),n.memoizedState=a):(bn(a,i)||(a=bi(),nt.lanes|=a,Wi|=a,n.baseState=!0),i)}function v0(n,i){var a=Ve;Ve=a!==0&&4>a?a:4,n(!0);var c=lh.transition;lh.transition={};try{n(!1),i()}finally{Ve=a,lh.transition=c}}function Gp(){return _n().memoizedState}function _0(n,i,a){var c=ri(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Qp(n))Yp(i,a);else if(a=kp(n,i,a,c),a!==null){var d=Ht();Un(a,n,c,d),Xp(a,i,c)}}function w0(n,i,a){var c=ri(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qp(n))Yp(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,S=m(_,a);if(d.hasEagerState=!0,d.eagerState=S,bn(S,_)){var x=i.interleaved;x===null?(d.next=d,nh(i)):(d.next=x.next,x.next=d),i.interleaved=d;return}}catch{}a=kp(n,i,d,c),a!==null&&(d=Ht(),Un(a,n,c,d),Xp(a,i,c))}}function Qp(n){var i=n.alternate;return n===nt||i!==null&&i===nt}function Yp(n,i){ha=Xl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Xp(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Br(n,a)}}var eu={readContext:vn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},E0={readContext:vn,useCallback:function(n,i){return Jn().memoizedState=[n,i===void 0?null:i],n},useContext:vn,useEffect:jp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Jl(4194308,4,$p.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Jl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Jl(4,2,n,i)},useMemo:function(n,i){var a=Jn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Jn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=_0.bind(null,nt,n),[c.memoizedState,n]},useRef:function(n){var i=Jn();return n={current:n},i.memoizedState=n},useState:Fp,useDebugValue:mh,useDeferredValue:function(n){return Jn().memoizedState=n},useTransition:function(){var n=Fp(!1),i=n[0];return n=v0.bind(null,n[1]),Jn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=nt,d=Jn();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));(Hi&30)!==0||Vp(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,jp(Op.bind(null,c,m,n),[n]),c.flags|=2048,pa(9,bp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Jn(),i=It.identifierPrefix;if(Ze){var a=_r,c=vr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=da++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=y0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},T0={readContext:vn,useCallback:Hp,useContext:vn,useEffect:ph,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Wp,useReducer:dh,useRef:Up,useState:function(){return dh(fa)},useDebugValue:mh,useDeferredValue:function(n){var i=_n();return Kp(i,yt.memoizedState,n)},useTransition:function(){var n=dh(fa)[0],i=_n().memoizedState;return[n,i]},useMutableSource:Np,useSyncExternalStore:Dp,useId:Gp,unstable_isNewReconciler:!1},I0={readContext:vn,useCallback:Hp,useContext:vn,useEffect:ph,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Wp,useReducer:fh,useRef:Up,useState:function(){return fh(fa)},useDebugValue:mh,useDeferredValue:function(n){var i=_n();return yt===null?i.memoizedState=n:Kp(i,yt.memoizedState,n)},useTransition:function(){var n=fh(fa)[0],i=_n().memoizedState;return[n,i]},useMutableSource:Np,useSyncExternalStore:Dp,useId:Gp,unstable_isNewReconciler:!1};function Ln(n,i){if(n&&n.defaultProps){i=re({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function gh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:re({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var tu={isMounted:function(n){return(n=n._reactInternals)?Rn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Ht(),d=ri(n),m=Er(c,d);m.payload=i,a!=null&&(m.callback=a),i=Zr(n,m,d),i!==null&&(Un(i,n,d,c),Kl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Ht(),d=ri(n),m=Er(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Zr(n,m,d),i!==null&&(Un(i,n,d,c),Kl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Ht(),c=ri(n),d=Er(a,c);d.tag=2,i!=null&&(d.callback=i),i=Zr(n,d,c),i!==null&&(Un(i,n,c,a),Kl(i,n,c))}};function Jp(n,i,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!ea(a,c)||!ea(d,m):!0}function Zp(n,i,a){var c=!1,d=Yr,m=i.contextType;return typeof m=="object"&&m!==null?m=vn(m):(d=Xt(i)?ji:bt.current,c=i.contextTypes,m=(c=c!=null)?Hs(n,d):Yr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=tu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function em(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&tu.enqueueReplaceState(i,i.state,null)}function yh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},rh(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=vn(m):(m=Xt(i)?ji:bt.current,d.context=Hs(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(gh(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&tu.enqueueReplaceState(d,d.state,null),Gl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Zs(n,i){try{var a="",c=i;do a+=we(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function vh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function _h(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var S0=typeof WeakMap=="function"?WeakMap:Map;function tm(n,i,a){a=Er(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){lu||(lu=!0,bh=c),_h(n,i)},a}function nm(n,i,a){a=Er(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){_h(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){_h(n,i),typeof c!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function rm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new S0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=F0.bind(null,n,i,a),i.then(n,n))}function im(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function sm(n,i,a,c,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Er(-1,1),i.tag=2,Zr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var A0=Z.ReactCurrentOwner,Jt=!1;function qt(n,i,a,c){i.child=n===null?Ap(i,null,a,c):Qs(i,n.child,a,c)}function om(n,i,a,c,d){a=a.render;var m=i.ref;return Xs(i,d),c=ch(n,i,a,c,m,d),a=hh(),n!==null&&!Jt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Tr(n,i,d)):(Ze&&a&&Kc(i),i.flags|=1,qt(n,i,c,d),i.child)}function am(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!zh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,lm(n,i,m,c,d)):(n=pu(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&d)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:ea,a(_,c)&&n.ref===i.ref)return Tr(n,i,d)}return i.flags|=1,n=si(m,c),n.ref=i.ref,n.return=i,i.child=n}function lm(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(ea(m,c)&&n.ref===i.ref)if(Jt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Jt=!0);else return i.lanes=n.lanes,Tr(n,i,d)}return wh(n,i,a,c,d)}function um(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(to,cn),cn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ge(to,cn),cn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ge(to,cn),cn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Ge(to,cn),cn|=c;return qt(n,i,d,a),i.child}function cm(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function wh(n,i,a,c,d){var m=Xt(a)?ji:bt.current;return m=Hs(i,m),Xs(i,d),a=ch(n,i,a,c,m,d),c=hh(),n!==null&&!Jt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Tr(n,i,d)):(Ze&&c&&Kc(i),i.flags|=1,qt(n,i,a,d),i.child)}function hm(n,i,a,c,d){if(Xt(a)){var m=!0;Ul(i)}else m=!1;if(Xs(i,d),i.stateNode===null)ru(n,i),Zp(i,a,c),yh(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,S=i.memoizedProps;_.props=S;var x=_.context,U=a.contextType;typeof U=="object"&&U!==null?U=vn(U):(U=Xt(a)?ji:bt.current,U=Hs(i,U));var Q=a.getDerivedStateFromProps,X=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==c||x!==U)&&em(i,_,c,U),Jr=!1;var G=i.memoizedState;_.state=G,Gl(i,c,_,d),x=i.memoizedState,S!==c||G!==x||Yt.current||Jr?(typeof Q=="function"&&(gh(i,a,Q,c),x=i.memoizedState),(S=Jr||Jp(i,a,S,c,G,x,U))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=x),_.props=c,_.state=x,_.context=U,c=S):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Rp(n,i),S=i.memoizedProps,U=i.type===i.elementType?S:Ln(i.type,S),_.props=U,X=i.pendingProps,G=_.context,x=a.contextType,typeof x=="object"&&x!==null?x=vn(x):(x=Xt(a)?ji:bt.current,x=Hs(i,x));var se=a.getDerivedStateFromProps;(Q=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==X||G!==x)&&em(i,_,c,x),Jr=!1,G=i.memoizedState,_.state=G,Gl(i,c,_,d);var ue=i.memoizedState;S!==X||G!==ue||Yt.current||Jr?(typeof se=="function"&&(gh(i,a,se,c),ue=i.memoizedState),(U=Jr||Jp(i,a,U,c,G,ue,x)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,x)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),_.props=c,_.state=ue,_.context=x,c=U):(typeof _.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),c=!1)}return Eh(n,i,a,c,m,d)}function Eh(n,i,a,c,d,m){cm(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&gp(i,a,!1),Tr(n,i,m);c=i.stateNode,A0.current=i;var S=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Qs(i,n.child,null,m),i.child=Qs(i,null,S,m)):qt(n,i,S,m),i.memoizedState=c.state,d&&gp(i,a,!0),i.child}function dm(n){var i=n.stateNode;i.pendingContext?pp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&pp(n,i.context,!1),ih(n,i.containerInfo)}function fm(n,i,a,c,d){return Gs(),Xc(d),i.flags|=256,qt(n,i,a,c),i.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ih(n){return{baseLanes:n,cachePool:null,transitions:null}}function pm(n,i,a){var c=i.pendingProps,d=tt.current,m=!1,_=(i.flags&128)!==0,S;if((S=_)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ge(tt,d&1),n===null)return Yc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=mu(_,c,0,null),n=Yi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Ih(a),i.memoizedState=Th,n):Sh(i,_));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return k0(n,i,_,c,S,d,a);if(m){m=c.fallback,_=i.mode,d=n.child,S=d.sibling;var x={mode:"hidden",children:c.children};return(_&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=x,i.deletions=null):(c=si(d,x),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?m=si(S,m):(m=Yi(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?Ih(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=Th,c}return m=n.child,n=m.sibling,c=si(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Sh(n,i){return i=mu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function nu(n,i,a,c){return c!==null&&Xc(c),Qs(i,n.child,null,a),n=Sh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function k0(n,i,a,c,d,m,_){if(a)return i.flags&256?(i.flags&=-257,c=vh(Error(t(422))),nu(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=mu({mode:"visible",children:c.children},d,0,null),m=Yi(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Qs(i,n.child,null,_),i.child.memoizedState=Ih(_),i.memoizedState=Th,m);if((i.mode&1)===0)return nu(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,m=Error(t(419)),c=vh(m,c,void 0),nu(n,i,_,c)}if(S=(_&n.childLanes)!==0,Jt||S){if(c=It,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,wr(n,d),Un(c,n,d,-1))}return jh(),c=vh(Error(t(421))),nu(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=U0.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,un=Gr(d.nextSibling),ln=i,Ze=!0,On=null,n!==null&&(gn[yn++]=vr,gn[yn++]=_r,gn[yn++]=zi,vr=n.id,_r=n.overflow,zi=i),i=Sh(i,c.children),i.flags|=4096,i)}function mm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),th(n.return,i,a)}function Ah(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function gm(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(qt(n,i,c.children,a),c=tt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&mm(n,a,i);else if(n.tag===19)mm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ge(tt,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Ql(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Ah(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Ql(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Ah(i,!0,a,null,m);break;case"together":Ah(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ru(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Tr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Wi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=si(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=si(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function R0(n,i,a){switch(i.tag){case 3:dm(i),Gs();break;case 5:xp(i);break;case 1:Xt(i.type)&&Ul(i);break;case 4:ih(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ge(Hl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ge(tt,tt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?pm(n,i,a):(Ge(tt,tt.current&1),n=Tr(n,i,a),n!==null?n.sibling:null);Ge(tt,tt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return gm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ge(tt,tt.current),c)break;return null;case 22:case 23:return i.lanes=0,um(n,i,a)}return Tr(n,i,a)}var ym,kh,vm,_m;ym=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},kh=function(){},vm=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,qi(Xn.current);var m=null;switch(a){case"input":d=Ii(n,d),c=Ii(n,c),m=[];break;case"select":d=re({},d,{value:void 0}),c=re({},c,{value:void 0}),m=[];break;case"textarea":d=Co(n,d),c=Co(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ll)}Oo(a,c);var _;a=null;for(U in d)if(!c.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var S=d[U];for(_ in S)S.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?m||(m=[]):(m=m||[]).push(U,null));for(U in c){var x=c[U];if(S=d?.[U],c.hasOwnProperty(U)&&x!==S&&(x!=null||S!=null))if(U==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in x)x.hasOwnProperty(_)&&S[_]!==x[_]&&(a||(a={}),a[_]=x[_])}else a||(m||(m=[]),m.push(U,a)),a=x;else U==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,S=S?S.__html:void 0,x!=null&&S!==x&&(m=m||[]).push(U,x)):U==="children"?typeof x!="string"&&typeof x!="number"||(m=m||[]).push(U,""+x):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(x!=null&&U==="onScroll"&&Qe("scroll",n),m||S===x||(m=[])):(m=m||[]).push(U,x))}a&&(m=m||[]).push("style",a);var U=m;(i.updateQueue=U)&&(i.flags|=4)}},_m=function(n,i,a,c){a!==c&&(i.flags|=4)};function ma(n,i){if(!Ze)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function P0(n,i,a){var c=i.pendingProps;switch(Gc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Xt(i.type)&&Fl(),Lt(i),null;case 3:return c=i.stateNode,Js(),Ye(Yt),Ye(bt),ah(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&($l(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,On!==null&&(Mh(On),On=null))),kh(n,i),Lt(i),null;case 5:sh(i);var d=qi(ca.current);if(a=i.type,n!==null&&i.stateNode!=null)vm(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Lt(i),null}if(n=qi(Xn.current),$l(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Yn]=i,c[sa]=m,n=(i.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(d=0;d<na.length;d++)Qe(na[d],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":fs(c,m),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Qe("invalid",c);break;case"textarea":ms(c,m),Qe("invalid",c)}Oo(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var S=m[_];_==="children"?typeof S=="string"?c.textContent!==S&&(m.suppressHydrationWarning!==!0&&Ol(c.textContent,S,n),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&Ol(c.textContent,S,n),d=["children",""+S]):o.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&Qe("scroll",c)}switch(a){case"input":or(c),al(c,m,!0);break;case"textarea":or(c),xo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Ll)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=pt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Yn]=i,n[sa]=c,ym(n,i,!1,!1),i.stateNode=n;e:{switch(_=Lo(a,c),a){case"dialog":Qe("cancel",n),Qe("close",n),d=c;break;case"iframe":case"object":case"embed":Qe("load",n),d=c;break;case"video":case"audio":for(d=0;d<na.length;d++)Qe(na[d],n);d=c;break;case"source":Qe("error",n),d=c;break;case"img":case"image":case"link":Qe("error",n),Qe("load",n),d=c;break;case"details":Qe("toggle",n),d=c;break;case"input":fs(n,c),d=Ii(n,c),Qe("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=re({},c,{value:void 0}),Qe("invalid",n);break;case"textarea":ms(n,c),d=Co(n,c),Qe("invalid",n);break;default:d=c}Oo(a,d),S=d;for(m in S)if(S.hasOwnProperty(m)){var x=S[m];m==="style"?Vo(n,x):m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&No(n,x)):m==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Mr(n,x):typeof x=="number"&&Mr(n,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?x!=null&&m==="onScroll"&&Qe("scroll",n):x!=null&&z(n,m,x,_))}switch(a){case"input":or(n),al(n,c,!1);break;case"textarea":or(n),xo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Me(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?lr(n,!!c.multiple,m,!1):c.defaultValue!=null&&lr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Ll)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(n&&i.stateNode!=null)_m(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=qi(ca.current),qi(Xn.current),$l(i)){if(c=i.stateNode,a=i.memoizedProps,c[Yn]=i,(m=c.nodeValue!==a)&&(n=ln,n!==null))switch(n.tag){case 3:Ol(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ol(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Yn]=i,i.stateNode=c}return Lt(i),null;case 13:if(Ye(tt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ze&&un!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Tp(),Gs(),i.flags|=98560,m=!1;else if(m=$l(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Yn]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),m=!1}else On!==null&&(Mh(On),On=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(tt.current&1)!==0?vt===0&&(vt=3):jh())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return Js(),kh(n,i),n===null&&ra(i.stateNode.containerInfo),Lt(i),null;case 10:return eh(i.type._context),Lt(i),null;case 17:return Xt(i.type)&&Fl(),Lt(i),null;case 19:if(Ye(tt),m=i.memoizedState,m===null)return Lt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)ma(m,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=Ql(n),_!==null){for(i.flags|=128,ma(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ge(tt,tt.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ke()>no&&(i.flags|=128,c=!0,ma(m,!1),i.lanes=4194304)}else{if(!c)if(n=Ql(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ma(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ze)return Lt(i),null}else 2*Ke()-m.renderingStartTime>no&&a!==1073741824&&(i.flags|=128,c=!0,ma(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ke(),i.sibling=null,a=tt.current,Ge(tt,c?a&1|2:a&1),i):(Lt(i),null);case 22:case 23:return Uh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(cn&1073741824)!==0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function C0(n,i){switch(Gc(i),i.tag){case 1:return Xt(i.type)&&Fl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Js(),Ye(Yt),Ye(bt),ah(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return sh(i),null;case 13:if(Ye(tt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Gs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ye(tt),null;case 4:return Js(),null;case 10:return eh(i.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var iu=!1,Mt=!1,x0=typeof WeakSet=="function"?WeakSet:Set,le=null;function eo(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(n,i,c)}else a.current=null}function Rh(n,i,a){try{a()}catch(c){st(n,i,c)}}var wm=!1;function N0(n,i){if(Uc=Hr,n=Jf(),Nc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,S=-1,x=-1,U=0,Q=0,X=n,G=null;t:for(;;){for(var se;X!==a||d!==0&&X.nodeType!==3||(S=_+d),X!==m||c!==0&&X.nodeType!==3||(x=_+c),X.nodeType===3&&(_+=X.nodeValue.length),(se=X.firstChild)!==null;)G=X,X=se;for(;;){if(X===n)break t;if(G===a&&++U===d&&(S=_),G===m&&++Q===c&&(x=_),(se=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=se}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(jc={focusedElem:n,selectionRange:a},Hr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,lt=ue.memoizedState,M=i.stateNode,D=M.getSnapshotBeforeUpdate(i.elementType===i.type?ce:Ln(i.type,ce),lt);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){st(i,i.return,J)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ue=wm,wm=!1,ue}function ga(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Rh(i,a,m)}d=d.next}while(d!==c)}}function su(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Ph(n){var i=n.ref;if(i!==null){var a=n.stateNode;n.tag,n=a,typeof i=="function"?i(n):i.current=n}}function Em(n){var i=n.alternate;i!==null&&(n.alternate=null,Em(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Yn],delete i[sa],delete i[qc],delete i[f0],delete i[p0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Tm(n){return n.tag===5||n.tag===3||n.tag===4}function Im(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ch(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ll));else if(c!==4&&(n=n.child,n!==null))for(Ch(n,i,a),n=n.sibling;n!==null;)Ch(n,i,a),n=n.sibling}function xh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(xh(n,i,a),n=n.sibling;n!==null;)xh(n,i,a),n=n.sibling}var Pt=null,Mn=!1;function ei(n,i,a){for(a=a.child;a!==null;)Sm(n,i,a),a=a.sibling}function Sm(n,i,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 5:Mt||eo(a,i);case 6:var c=Pt,d=Mn;Pt=null,ei(n,i,a),Pt=c,Mn=d,Pt!==null&&(Mn?(n=Pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Mn?(n=Pt,a=a.stateNode,n.nodeType===8?$c(n.parentNode,a):n.nodeType===1&&$c(n,a),Dn(n)):$c(Pt,a.stateNode));break;case 4:c=Pt,d=Mn,Pt=a.stateNode.containerInfo,Mn=!0,ei(n,i,a),Pt=c,Mn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&Rh(a,i,_),d=d.next}while(d!==c)}ei(n,i,a);break;case 1:if(!Mt&&(eo(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){st(a,i,S)}ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ei(n,i,a),Mt=c):ei(n,i,a);break;default:ei(n,i,a)}}function Am(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new x0),i.forEach(function(c){var d=j0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Fn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 5:Pt=S.stateNode,Mn=!1;break e;case 3:Pt=S.stateNode.containerInfo,Mn=!0;break e;case 4:Pt=S.stateNode.containerInfo,Mn=!0;break e}S=S.return}if(Pt===null)throw Error(t(160));Sm(m,_,d),Pt=null,Mn=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(U){st(d,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)km(i,n),i=i.sibling}function km(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fn(i,n),Zn(n),c&4){try{ga(3,n,n.return),su(3,n)}catch(ce){st(n,n.return,ce)}try{ga(5,n,n.return)}catch(ce){st(n,n.return,ce)}}break;case 1:Fn(i,n),Zn(n),c&512&&a!==null&&eo(a,a.return);break;case 5:if(Fn(i,n),Zn(n),c&512&&a!==null&&eo(a,a.return),n.flags&32){var d=n.stateNode;try{Mr(d,"")}catch(ce){st(n,n.return,ce)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,S=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&Ro(d,m),Lo(S,_);var U=Lo(S,m);for(_=0;_<x.length;_+=2){var Q=x[_],X=x[_+1];Q==="style"?Vo(d,X):Q==="dangerouslySetInnerHTML"?No(d,X):Q==="children"?Mr(d,X):z(d,Q,X,U)}switch(S){case"input":Po(d,m);break;case"textarea":gs(d,m);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?lr(d,!!m.multiple,se,!1):G!==!!m.multiple&&(m.defaultValue!=null?lr(d,!!m.multiple,m.defaultValue,!0):lr(d,!!m.multiple,m.multiple?[]:"",!1))}d[sa]=m}catch(ce){st(n,n.return,ce)}}break;case 6:if(Fn(i,n),Zn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ce){st(n,n.return,ce)}}break;case 3:if(Fn(i,n),Zn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(i.containerInfo)}catch(ce){st(n,n.return,ce)}break;case 4:Fn(i,n),Zn(n);break;case 13:Fn(i,n),Zn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Vh=Ke())),c&4&&Am(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(U=Mt)||Q,Fn(i,n),Mt=U):Fn(i,n),Zn(n),c&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!Q&&(n.mode&1)!==0)for(le=n,Q=n.child;Q!==null;){for(X=le=Q;le!==null;){switch(G=le,se=G.child,G.tag){case 0:case 11:case 14:case 15:ga(4,G,G.return);break;case 1:eo(G,G.return);var ue=G.stateNode;if(typeof ue.componentWillUnmount=="function"){c=G,a=G.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){st(c,a,ce)}}break;case 5:eo(G,G.return);break;case 22:if(G.memoizedState!==null){Cm(X);continue}}se!==null?(se.return=G,le=se):Cm(X)}Q=Q.sibling}e:for(Q=null,X=n;;){if(X.tag===5){if(Q===null){Q=X;try{d=X.stateNode,U?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=X.stateNode,x=X.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,S.style.display=Do("display",_))}catch(ce){st(n,n.return,ce)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=U?"":X.memoizedProps}catch(ce){st(n,n.return,ce)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Fn(i,n),Zn(n),c&4&&Am(n);break;case 21:break;default:Fn(i,n),Zn(n)}}function Zn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Tm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Mr(d,""),c.flags&=-33);var m=Im(n);xh(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,S=Im(n);Ch(n,S,_);break;default:throw Error(t(161))}}catch(x){st(n,n.return,x)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function D0(n,i,a){le=n,Rm(n)}function Rm(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||iu;if(!_){var S=d.alternate,x=S!==null&&S.memoizedState!==null||Mt;S=iu;var U=Mt;if(iu=_,(Mt=x)&&!U)for(le=d;le!==null;)_=le,x=_.child,_.tag===22&&_.memoizedState!==null?xm(d):x!==null?(x.return=_,le=x):xm(d);for(;m!==null;)le=m,Rm(m),m=m.sibling;le=d,iu=S,Mt=U}Pm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,le=m):Pm(n)}}function Pm(n){for(;le!==null;){var i=le;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||su(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Ln(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Cp(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Cp(i,_,a)}break;case 5:var S=i.stateNode;if(a===null&&i.flags&4){a=S;var x=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var Q=U.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Dn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&Ph(i)}catch(G){st(i,i.return,G)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function Cm(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function xm(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{su(4,i)}catch(x){st(i,a,x)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(x){st(i,d,x)}}var m=i.return;try{Ph(i)}catch(x){st(i,m,x)}break;case 5:var _=i.return;try{Ph(i)}catch(x){st(i,_,x)}}}catch(x){st(i,i.return,x)}if(i===n){le=null;break}var S=i.sibling;if(S!==null){S.return=i.return,le=S;break}le=i.return}}var V0=Math.ceil,ou=Z.ReactCurrentDispatcher,Nh=Z.ReactCurrentOwner,wn=Z.ReactCurrentBatchConfig,Fe=0,It=null,ht=null,Ct=0,cn=0,to=Qr(0),vt=0,ya=null,Wi=0,au=0,Dh=0,va=null,Zt=null,Vh=0,no=1/0,Ir=null,lu=!1,bh=null,ti=null,uu=!1,ni=null,cu=0,_a=0,Oh=null,hu=-1,du=0;function Ht(){return(Fe&6)!==0?Ke():hu!==-1?hu:hu=Ke()}function ri(n){return(n.mode&1)===0?1:(Fe&2)!==0&&Ct!==0?Ct&-Ct:g0.transition!==null?(du===0&&(du=bi()),du):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:Ko(n.type)),n)}function Un(n,i,a,c){if(50<_a)throw _a=0,Oh=null,Error(t(185));zr(n,a,c),((Fe&2)===0||n!==It)&&(n===It&&((Fe&2)===0&&(au|=a),vt===4&&ii(n,Ct)),en(n,c),a===1&&Fe===0&&(i.mode&1)===0&&(no=Ke()+500,jl&&Xr()))}function en(n,i){var a=n.callbackNode;hr(n,i);var c=Vi(n,n===It?Ct:0);if(c===0)a!==null&&Bo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Bo(a),i===1)n.tag===0?m0(Dm.bind(null,n)):yp(Dm.bind(null,n)),h0(function(){(Fe&6)===0&&Xr()}),a=null;else{switch($r(c)){case 1:a=Ni;break;case 4:a=Fr;break;case 16:a=fn;break;case 536870912:a=dl;break;default:a=fn}a=jm(a,Nm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Nm(n,i){if(hu=-1,du=0,(Fe&6)!==0)throw Error(t(327));var a=n.callbackNode;if(ro()&&n.callbackNode!==a)return null;var c=Vi(n,n===It?Ct:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=fu(n,c);else{i=c;var d=Fe;Fe|=2;var m=bm();(It!==n||Ct!==i)&&(Ir=null,no=Ke()+500,Gi(n,i));do try{L0();break}catch(S){Vm(n,S)}while(!0);Zc(),ou.current=m,Fe=d,ht!==null?i=0:(It=null,Ct=0,i=vt)}if(i!==0){if(i===2&&(d=sn(n),d!==0&&(c=d,i=Lh(n,d))),i===1)throw a=ya,Gi(n,0),ii(n,c),en(n,Ke()),a;if(i===6)ii(n,c);else{if(d=n.current.alternate,(c&30)===0&&!b0(d)&&(i=fu(n,c),i===2&&(m=sn(n),m!==0&&(c=m,i=Lh(n,m))),i===1))throw a=ya,Gi(n,0),ii(n,c),en(n,Ke()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Qi(n,Zt,Ir);break;case 3:if(ii(n,c),(c&130023424)===c&&(i=Vh+500-Ke(),10<i)){if(Vi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Ht(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Bc(Qi.bind(null,n,Zt,Ir),i);break}Qi(n,Zt,Ir);break;case 4:if(ii(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-Bt(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*V0(c/1960))-c,10<c){n.timeoutHandle=Bc(Qi.bind(null,n,Zt,Ir),c);break}Qi(n,Zt,Ir);break;case 5:Qi(n,Zt,Ir);break;default:throw Error(t(329))}}}return en(n,Ke()),n.callbackNode===a?Nm.bind(null,n):null}function Lh(n,i){var a=va;return n.current.memoizedState.isDehydrated&&(Gi(n,i).flags|=256),n=fu(n,i),n!==2&&(i=Zt,Zt=a,i!==null&&Mh(i)),n}function Mh(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function b0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!bn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ii(n,i){for(i&=~Dh,i&=~au,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Bt(i),c=1<<a;n[a]=-1,i&=~c}}function Dm(n){if((Fe&6)!==0)throw Error(t(327));ro();var i=Vi(n,0);if((i&1)===0)return en(n,Ke()),null;var a=fu(n,i);if(n.tag!==0&&a===2){var c=sn(n);c!==0&&(i=c,a=Lh(n,c))}if(a===1)throw a=ya,Gi(n,0),ii(n,i),en(n,Ke()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Qi(n,Zt,Ir),en(n,Ke()),null}function Fh(n,i){var a=Fe;Fe|=1;try{return n(i)}finally{Fe=a,Fe===0&&(no=Ke()+500,jl&&Xr())}}function Ki(n){ni!==null&&ni.tag===0&&(Fe&6)===0&&ro();var i=Fe;Fe|=1;var a=wn.transition,c=Ve;try{if(wn.transition=null,Ve=1,n)return n()}finally{Ve=c,wn.transition=a,Fe=i,(Fe&6)===0&&Xr()}}function Uh(){cn=to.current,Ye(to)}function Gi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,c0(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(Gc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Fl();break;case 3:Js(),Ye(Yt),Ye(bt),ah();break;case 5:sh(c);break;case 4:Js();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:eh(c.type._context);break;case 22:case 23:Uh()}a=a.return}if(It=n,ht=n=si(n.current,null),Ct=cn=i,vt=0,ya=null,Dh=au=Wi=0,Zt=va=null,$i!==null){for(i=0;i<$i.length;i++)if(a=$i[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}$i=null}return n}function Vm(n,i){do{var a=ht;try{if(Zc(),Yl.current=eu,Xl){for(var c=nt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Xl=!1}if(Hi=0,Tt=yt=nt=null,ha=!1,da=0,Nh.current=null,a===null||a.return===null){vt=1,ya=i,ht=null;break}e:{var m=n,_=a.return,S=a,x=i;if(i=Ct,S.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var U=x,Q=S,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var G=Q.alternate;G?(Q.updateQueue=G.updateQueue,Q.memoizedState=G.memoizedState,Q.lanes=G.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var se=im(_);if(se!==null){se.flags&=-257,sm(se,_,S,m,i),se.mode&1&&rm(m,U,i),i=se,x=U;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(x),i.updateQueue=ce}else ue.add(x);break e}else{if((i&1)===0){rm(m,U,i),jh();break e}x=Error(t(426))}}else if(Ze&&S.mode&1){var lt=im(_);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),sm(lt,_,S,m,i),Xc(Zs(x,S));break e}}m=x=Zs(x,S),vt!==4&&(vt=2),va===null?va=[m]:va.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var M=tm(m,x,i);Pp(m,M);break e;case 1:S=x;var D=m.type,F=m.stateNode;if((m.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ti===null||!ti.has(F)))){m.flags|=65536,i&=-i,m.lanes|=i;var J=nm(m,S,i);Pp(m,J);break e}}m=m.return}while(m!==null)}Lm(a)}catch(fe){i=fe,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function bm(){var n=ou.current;return ou.current=eu,n===null?eu:n}function jh(){(vt===0||vt===3||vt===2)&&(vt=4),It===null||(Wi&268435455)===0&&(au&268435455)===0||ii(It,Ct)}function fu(n,i){var a=Fe;Fe|=2;var c=bm();(It!==n||Ct!==i)&&(Ir=null,Gi(n,i));do try{O0();break}catch(d){Vm(n,d)}while(!0);if(Zc(),Fe=a,ou.current=c,ht!==null)throw Error(t(261));return It=null,Ct=0,vt}function O0(){for(;ht!==null;)Om(ht)}function L0(){for(;ht!==null&&!cl();)Om(ht)}function Om(n){var i=Um(n.alternate,n,cn);n.memoizedProps=n.pendingProps,i===null?Lm(n):ht=i,Nh.current=null}function Lm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=P0(a,i,cn),a!==null){ht=a;return}}else{if(a=C0(a,i),a!==null){a.flags&=32767,ht=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=n}while(i!==null);vt===0&&(vt=5)}function Qi(n,i,a){var c=Ve,d=wn.transition;try{wn.transition=null,Ve=1,M0(n,i,a,c)}finally{wn.transition=d,Ve=c}return null}function M0(n,i,a,c){do ro();while(ni!==null);if((Fe&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(He(n,m),n===It&&(ht=It=null,Ct=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||uu||(uu=!0,jm(fn,function(){return ro(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=wn.transition,wn.transition=null;var _=Ve;Ve=1;var S=Fe;Fe|=4,Nh.current=null,N0(n,a),km(a,n),r0(jc),Hr=!!Uc,jc=Uc=null,n.current=a,D0(a),Ic(),Fe=S,Ve=_,wn.transition=m}else n.current=a;if(uu&&(uu=!1,ni=n,cu=d),m=n.pendingLanes,m===0&&(ti=null),fl(a.stateNode),en(n,Ke()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(lu)throw lu=!1,n=bh,bh=null,n;return(cu&1)!==0&&n.tag!==0&&ro(),m=n.pendingLanes,(m&1)!==0?n===Oh?_a++:(_a=0,Oh=n):_a=0,Xr(),null}function ro(){if(ni!==null){var n=$r(cu),i=wn.transition,a=Ve;try{if(wn.transition=null,Ve=16>n?16:n,ni===null)var c=!1;else{if(n=ni,ni=null,cu=0,(Fe&6)!==0)throw Error(t(331));var d=Fe;for(Fe|=4,le=n.current;le!==null;){var m=le,_=m.child;if((le.flags&16)!==0){var S=m.deletions;if(S!==null){for(var x=0;x<S.length;x++){var U=S[x];for(le=U;le!==null;){var Q=le;switch(Q.tag){case 0:case 11:case 15:ga(8,Q,m)}var X=Q.child;if(X!==null)X.return=Q,le=X;else for(;le!==null;){Q=le;var G=Q.sibling,se=Q.return;if(Em(Q),Q===U){le=null;break}if(G!==null){G.return=se,le=G;break}le=se}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var lt=ce.sibling;ce.sibling=null,ce=lt}while(ce!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,le=_;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ga(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,le=M;break e}le=m.return}}var D=n.current;for(le=D;le!==null;){_=le;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,le=F;else e:for(_=D;le!==null;){if(S=le,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:su(9,S)}}catch(fe){st(S,S.return,fe)}if(S===_){le=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,le=J;break e}le=S.return}}if(Fe=d,Xr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Di,n)}catch{}c=!0}return c}finally{Ve=a,wn.transition=i}}return!1}function Mm(n,i,a){i=Zs(a,i),i=tm(n,i,1),n=Zr(n,i,1),i=Ht(),n!==null&&(zr(n,1,i),en(n,i))}function st(n,i,a){if(n.tag===3)Mm(n,n,a);else for(;i!==null;){if(i.tag===3){Mm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))){n=Zs(a,n),n=nm(i,n,1),i=Zr(i,n,1),n=Ht(),i!==null&&(zr(i,1,n),en(i,n));break}}i=i.return}}function F0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Ht(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Ct&a)===a&&(vt===4||vt===3&&(Ct&130023424)===Ct&&500>Ke()-Vh?Gi(n,0):Dh|=a),en(n,i)}function Fm(n,i){i===0&&((n.mode&1)===0?i=1:(i=ks,ks<<=1,(ks&130023424)===0&&(ks=4194304)));var a=Ht();n=wr(n,i),n!==null&&(zr(n,i,a),en(n,a))}function U0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Fm(n,a)}function j0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Fm(n,a)}var Um;Um=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Yt.current)Jt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Jt=!1,R0(n,i,a);Jt=(n.flags&131072)!==0}else Jt=!1,Ze&&(i.flags&1048576)!==0&&vp(i,Bl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ru(n,i),n=i.pendingProps;var d=Hs(i,bt.current);Xs(i,a),d=ch(null,i,c,n,d,a);var m=hh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Xt(c)?(m=!0,Ul(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,rh(i),d.updater=tu,i.stateNode=d,d._reactInternals=i,yh(i,c,n,a),i=Eh(null,i,c,!0,m,a)):(i.tag=0,Ze&&m&&Kc(i),qt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ru(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=B0(c),n=Ln(c,n),d){case 0:i=wh(null,i,c,n,a);break e;case 1:i=hm(null,i,c,n,a);break e;case 11:i=om(null,i,c,n,a);break e;case 14:i=am(null,i,c,Ln(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ln(c,d),wh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ln(c,d),hm(n,i,c,d,a);case 3:e:{if(dm(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Rp(n,i),Gl(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=Zs(Error(t(423)),i),i=fm(n,i,c,a,d);break e}else if(c!==d){d=Zs(Error(t(424)),i),i=fm(n,i,c,a,d);break e}else for(un=Gr(i.stateNode.containerInfo.firstChild),ln=i,Ze=!0,On=null,a=Ap(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gs(),c===d){i=Tr(n,i,a);break e}qt(n,i,c,a)}i=i.child}return i;case 5:return xp(i),n===null&&Yc(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,zc(c,d)?_=null:m!==null&&zc(c,m)&&(i.flags|=32),cm(n,i),qt(n,i,_,a),i.child;case 6:return n===null&&Yc(i),null;case 13:return pm(n,i,a);case 4:return ih(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Qs(i,null,c,a):qt(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ln(c,d),om(n,i,c,d,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,Ge(Hl,c._currentValue),c._currentValue=_,m!==null)if(bn(m.value,_)){if(m.children===d.children&&!Yt.current){i=Tr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var S=m.dependencies;if(S!==null){_=m.child;for(var x=S.firstContext;x!==null;){if(x.context===c){if(m.tag===1){x=Er(-1,a&-a),x.tag=2;var U=m.updateQueue;if(U!==null){U=U.shared;var Q=U.pending;Q===null?x.next=x:(x.next=Q.next,Q.next=x),U.pending=x}}m.lanes|=a,x=m.alternate,x!==null&&(x.lanes|=a),th(m.return,a,i),S.lanes|=a;break}x=x.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,S=_.alternate,S!==null&&(S.lanes|=a),th(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}qt(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Xs(i,a),d=vn(d),c=c(d),i.flags|=1,qt(n,i,c,a),i.child;case 14:return c=i.type,d=Ln(c,i.pendingProps),d=Ln(c.type,d),am(n,i,c,d,a);case 15:return lm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Ln(c,d),ru(n,i),i.tag=1,Xt(c)?(n=!0,Ul(i)):n=!1,Xs(i,a),Zp(i,c,d),yh(i,c,d,a),Eh(null,i,c,!0,n,a);case 19:return gm(n,i,a);case 22:return um(n,i,a)}throw Error(t(156,i.tag))};function jm(n,i){return Ss(n,i)}function z0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,a,c){return new z0(n,i,a,c)}function zh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function B0(n){if(typeof n=="function")return zh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===et)return 14}return 2}function si(n,i){var a=n.alternate;return a===null?(a=En(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function pu(n,i,a,c,d,m){var _=2;if(c=n,typeof n=="function")zh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case P:return Yi(a.children,d,m,i);case T:_=8,d|=8;break;case I:return n=En(12,a,i,d|2),n.elementType=I,n.lanes=m,n;case A:return n=En(13,a,i,d),n.elementType=A,n.lanes=m,n;case ze:return n=En(19,a,i,d),n.elementType=ze,n.lanes=m,n;case Pe:return mu(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:_=10;break e;case V:_=9;break e;case O:_=11;break e;case et:_=14;break e;case ot:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=En(_,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function Yi(n,i,a,c){return n=En(7,n,c,i),n.lanes=a,n}function mu(n,i,a,c){return n=En(22,n,c,i),n.elementType=Pe,n.lanes=a,n.stateNode={isHidden:!1},n}function Bh(n,i,a){return n=En(6,n,null,i),n.lanes=a,n}function $h(n,i,a){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function $0(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jr(0),this.expirationTimes=jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function qh(n,i,a,c,d,m,_,S,x){return n=new $0(n,i,a,S,x),i===1?(i=1,m===!0&&(i|=8)):i=0,m=En(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},rh(m),n}function q0(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function zm(n){if(!n)return Yr;n=n._reactInternals;e:{if(Rn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Xt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Xt(a))return mp(n,a,i)}return i}function Bm(n,i,a,c,d,m,_,S,x){return n=qh(a,c,!0,n,d,m,_,S,x),n.context=zm(null),a=n.current,c=Ht(),d=ri(a),m=Er(c,d),m.callback=i??null,Zr(a,m,d),n.current.lanes=d,zr(n,d,c),en(n,c),n}function gu(n,i,a,c){var d=i.current,m=Ht(),_=ri(d);return a=zm(a),i.context===null?i.context=a:i.pendingContext=a,i=Er(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Zr(d,i,_),n!==null&&(Un(n,d,_,m),Kl(n,d,_)),_}function yu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function $m(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Hh(n,i){$m(n,i),(n=n.alternate)&&$m(n,i)}function H0(){return null}var qm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Wh(n){this._internalRoot=n}vu.prototype.render=Wh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));gu(n,i,null,null)},vu.prototype.unmount=Wh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ki(function(){gu(null,n,null,null)}),i[gr]=null}};function vu(n){this._internalRoot=n}vu.prototype.unstable_scheduleHydration=function(n){if(n){var i=vl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Wn.length&&i!==0&&i<Wn[a].priority;a++);Wn.splice(a,0,n),a===0&&El(n)}};function Kh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function _u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function W0(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var U=yu(_);m.call(U)}}var _=Bm(i,c,n,0,null,!1,!1,"",Hm);return n._reactRootContainer=_,n[gr]=_.current,ra(n.nodeType===8?n.parentNode:n),Ki(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var U=yu(x);S.call(U)}}var x=qh(n,0,!1,null,null,!1,!1,"",Hm);return n._reactRootContainer=x,n[gr]=x.current,ra(n.nodeType===8?n.parentNode:n),Ki(function(){gu(i,x,a,c)}),x}function wu(n,i,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var S=d;d=function(){var x=yu(_);S.call(x)}}gu(i,_,n,d)}else _=W0(a,i,n,d,c);return yu(_)}gl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ur(i.pendingLanes);a!==0&&(Br(i,a|1),en(i,Ke()),(Fe&6)===0&&(no=Ke()+500,Xr()))}break;case 13:Ki(function(){var c=wr(n,1);if(c!==null){var d=Ht();Un(c,n,1,d)}}),Hh(n,1)}},Rs=function(n){if(n.tag===13){var i=wr(n,134217728);if(i!==null){var a=Ht();Un(i,n,134217728,a)}Hh(n,134217728)}},yl=function(n){if(n.tag===13){var i=ri(n),a=wr(n,i);if(a!==null){var c=Ht();Un(a,n,i,c)}Hh(n,i)}},vl=function(){return Ve},_l=function(n,i){var a=Ve;try{return Ve=n,i()}finally{Ve=a}},vs=function(n,i,a){switch(i){case"input":if(Po(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=Ml(c);if(!d)throw Error(t(90));ds(c),Po(c,d)}}}break;case"textarea":gs(n,a);break;case"select":i=a.value,i!=null&&lr(n,!!a.multiple,i,!1)}},Ri=Fh,Fo=Ki;var K0={usingClientEntryPoint:!1,Events:[oa,$s,Ml,qn,Mo,Fh]},wa={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G0={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=zo(n),n===null?null:n.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||H0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Di=Eu.inject(G0),rn=Eu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K0,tn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(i))throw Error(t(200));return q0(n,i,null,a)},tn.createRoot=function(n,i){if(!Kh(n))throw Error(t(299));var a=!1,c="",d=qm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=qh(n,1,!1,null,null,a,!1,c,d),n[gr]=i.current,ra(n.nodeType===8?n.parentNode:n),new Wh(i)},tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=zo(i),n=n===null?null:n.stateNode,n},tn.flushSync=function(n){return Ki(n)},tn.hydrate=function(n,i,a){if(!_u(i))throw Error(t(200));return wu(null,n,i,!0,a)},tn.hydrateRoot=function(n,i,a){if(!Kh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=qm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=Bm(i,null,n,1,a??null,d,!1,m,_),n[gr]=i.current,ra(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new vu(i)},tn.render=function(n,i,a){if(!_u(i))throw Error(t(200));return wu(null,n,i,!1,a)},tn.unmountComponentAtNode=function(n){if(!_u(n))throw Error(t(40));return n._reactRootContainer?(Ki(function(){wu(null,null,n,!1,function(){n._reactRootContainer=null,n[gr]=null})}),!0):!1},tn.unstable_batchedUpdates=Fh,tn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!_u(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return wu(n,i,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Zm;function nw(){if(Zm)return Yh.exports;Zm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yh.exports=tw(),Yh.exports}var eg;function rw(){if(eg)return Tu;eg=1;var r=nw();return Tu.createRoot=r.createRoot,Tu.hydrateRoot=r.hydrateRoot,Tu}var iw=rw();const sw=Iy(iw);var tg={};const Sy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ow=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,w=u>>2,k=(u&3)<<4|f>>4;let C=(f&15)<<2|v>>6,j=v&63;g||(j=64,h||(C=64)),s.push(t[w],t[k],t[C],t[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ow(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const k=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||f==null||v==null||k==null)throw new aw;const C=u<<2|f>>4;if(s.push(C),v!==64){const j=f<<4&240|v>>2;if(s.push(j),k!==64){const W=v<<6&192|k;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lw=function(r){const e=Sy(r);return Ay.encodeByteArray(e,!0)},Bu=function(r){return lw(r).replace(/\./g,"")},ky=function(r){try{return Ay.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cw=()=>uw().__FIREBASE_DEFAULTS__,hw=()=>{if(typeof process>"u"||typeof tg>"u")return;const r=tg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ky(r[1]);return e&&JSON.parse(e)},ic=()=>{try{return cw()||hw()||dw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ry=r=>{var e,t;return(t=(e=ic())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},fw=r=>{const e=Ry(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Py=()=>{var r;return(r=ic())===null||r===void 0?void 0:r.config},Cy=r=>{var e;return(e=ic())===null||e===void 0?void 0:e[`_${r}`]};class pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function mw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bu(JSON.stringify(t)),Bu(JSON.stringify(h)),""].join(".")}function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function yw(){var r;const e=(r=ic())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _w(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ew(){const r=zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Tw(){return!yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iw(){try{return typeof indexedDB=="object"}catch{return!1}}function Sw(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}const Aw="FirebaseError";class br extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Aw,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?kw(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new br(o,f,s)}}function kw(r,e){return r.replace(Rw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Rw=/\{\$([^}]+)}/g;function Pw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $u(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(ng(u)&&ng(h)){if(!$u(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ng(r){return r!==null&&typeof r=="object"}function Qa(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ia(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Sa(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function Cw(r,e){const t=new xw(r,e);return t.subscribe.bind(t)}class xw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Nw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Zh),o.error===void 0&&(o.error=Zh),o.complete===void 0&&(o.complete=Zh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nw(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Zh(){}function Kt(r){return r&&r._delegate?r._delegate:r}class is{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ji="[DEFAULT]";class Dw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new pw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bw(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Vw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vw(r){return r===Ji?void 0:r}function bw(r){return r.instantiationMode==="EAGER"}class Ow{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Dw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(be||(be={}));const Lw={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},Mw=be.INFO,Fw={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},Uw=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Fw[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zd{constructor(e){this.name=e,this._logLevel=Mw,this._logHandler=Uw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const jw=(r,e)=>e.some(t=>r instanceof t);let rg,ig;function zw(){return rg||(rg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bw(){return ig||(ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xy=new WeakMap,pd=new WeakMap,Ny=new WeakMap,ed=new WeakMap,Bd=new WeakMap;function $w(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(fi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&xy.set(t,r)}).catch(()=>{}),Bd.set(e,r),e}function qw(r){if(pd.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});pd.set(r,e)}let md={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return pd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ny.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Hw(r){md=r(md)}function Ww(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(td(this),e,...t);return Ny.set(s,e.sort?e.sort():[e]),fi(s)}:Bw().includes(r)?function(...e){return r.apply(td(this),e),fi(xy.get(this))}:function(...e){return fi(r.apply(td(this),e))}}function Kw(r){return typeof r=="function"?Ww(r):(r instanceof IDBTransaction&&qw(r),jw(r,zw())?new Proxy(r,md):r)}function fi(r){if(r instanceof IDBRequest)return $w(r);if(ed.has(r))return ed.get(r);const e=Kw(r);return e!==r&&(ed.set(r,e),Bd.set(e,r)),e}const td=r=>Bd.get(r);function Gw(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),f=fi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(fi(h.result),g.oldVersion,g.newVersion,fi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const Qw=["get","getKey","getAll","getAllKeys","count"],Yw=["put","add","delete","clear"],nd=new Map;function sg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Yw.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Qw.includes(t)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return nd.set(e,u),u}Hw(r=>({...r,get:(e,t,s)=>sg(e,t)||r.get(e,t,s),has:(e,t)=>!!sg(e,t)||r.has(e,t)}));class Xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Jw(r){const e=r.getComponent();return e?.type==="VERSION"}const gd="@firebase/app",og="0.10.13";const Cr=new zd("@firebase/app"),Zw="@firebase/app-compat",eE="@firebase/analytics-compat",tE="@firebase/analytics",nE="@firebase/app-check-compat",rE="@firebase/app-check",iE="@firebase/auth",sE="@firebase/auth-compat",oE="@firebase/database",aE="@firebase/data-connect",lE="@firebase/database-compat",uE="@firebase/functions",cE="@firebase/functions-compat",hE="@firebase/installations",dE="@firebase/installations-compat",fE="@firebase/messaging",pE="@firebase/messaging-compat",mE="@firebase/performance",gE="@firebase/performance-compat",yE="@firebase/remote-config",vE="@firebase/remote-config-compat",_E="@firebase/storage",wE="@firebase/storage-compat",EE="@firebase/firestore",TE="@firebase/vertexai-preview",IE="@firebase/firestore-compat",SE="firebase",AE="10.14.1";const yd="[DEFAULT]",kE={[gd]:"fire-core",[Zw]:"fire-core-compat",[tE]:"fire-analytics",[eE]:"fire-analytics-compat",[rE]:"fire-app-check",[nE]:"fire-app-check-compat",[iE]:"fire-auth",[sE]:"fire-auth-compat",[oE]:"fire-rtdb",[aE]:"fire-data-connect",[lE]:"fire-rtdb-compat",[uE]:"fire-fn",[cE]:"fire-fn-compat",[hE]:"fire-iid",[dE]:"fire-iid-compat",[fE]:"fire-fcm",[pE]:"fire-fcm-compat",[mE]:"fire-perf",[gE]:"fire-perf-compat",[yE]:"fire-rc",[vE]:"fire-rc-compat",[_E]:"fire-gcs",[wE]:"fire-gcs-compat",[EE]:"fire-fst",[IE]:"fire-fst-compat",[TE]:"fire-vertex","fire-js":"fire-js",[SE]:"fire-js-all"};const qu=new Map,RE=new Map,vd=new Map;function ag(r,e){try{r.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ho(r){const e=r.name;if(vd.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,r);for(const t of qu.values())ag(t,r);for(const t of RE.values())ag(t,r);return!0}function $d(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r.settings!==void 0}const PE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Ga("app","Firebase",PE);class CE{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const wo=AE;function Dy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:yd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw pi.create("bad-app-name",{appName:String(o)});if(t||(t=Py()),!t)throw pi.create("no-options");const u=qu.get(o);if(u){if($u(t,u.options)&&$u(s,u.config))return u;throw pi.create("duplicate-app",{appName:o})}const h=new Ow(o);for(const g of vd.values())h.addComponent(g);const f=new CE(t,s,h);return qu.set(o,f),f}function Vy(r=yd){const e=qu.get(r);if(!e&&r===yd&&Py())return Dy();if(!e)throw pi.create("no-app",{appName:r});return e}function mi(r,e,t){var s;let o=(s=kE[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(f.join(" "));return}ho(new is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const xE="firebase-heartbeat-database",NE=1,Oa="firebase-heartbeat-store";let rd=null;function by(){return rd||(rd=Gw(xE,NE,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Oa)}catch(t){console.warn(t)}}}}).catch(r=>{throw pi.create("idb-open",{originalErrorMessage:r.message})})),rd}async function DE(r){try{const t=(await by()).transaction(Oa),s=await t.objectStore(Oa).get(Oy(r));return await t.done,s}catch(e){if(e instanceof br)Cr.warn(e.message);else{const t=pi.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(t.message)}}}async function lg(r,e){try{const s=(await by()).transaction(Oa,"readwrite");await s.objectStore(Oa).put(e,Oy(r)),await s.done}catch(t){if(t instanceof br)Cr.warn(t.message);else{const s=pi.create("idb-set",{originalErrorMessage:t?.message});Cr.warn(s.message)}}}function Oy(r){return`${r.name}!${r.options.appId}`}const VE=1024,bE=720*60*60*1e3;class OE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ME(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ug();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=bE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ug(),{heartbeatsToSend:s,unsentEntries:o}=LE(this._heartbeatsCache.heartbeats),u=Bu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Cr.warn(t),""}}}function ug(){return new Date().toISOString().substring(0,10)}function LE(r,e=VE){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),cg(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),cg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ME{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iw()?Sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DE(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return lg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return lg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function cg(r){return Bu(JSON.stringify({version:2,heartbeats:r})).length}function FE(r){ho(new is("platform-logger",e=>new Xw(e),"PRIVATE")),ho(new is("heartbeat",e=>new OE(e),"PRIVATE")),mi(gd,og,r),mi(gd,og,"esm2017"),mi("fire-js","")}FE("");function qd(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function Ly(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UE=Ly,My=new Ga("auth","Firebase",Ly());const Hu=new zd("@firebase/auth");function jE(r,...e){Hu.logLevel<=be.WARN&&Hu.warn(`Auth (${wo}): ${r}`,...e)}function Du(r,...e){Hu.logLevel<=be.ERROR&&Hu.error(`Auth (${wo}): ${r}`,...e)}function Sn(r,...e){throw Wd(r,...e)}function zn(r,...e){return Wd(r,...e)}function Hd(r,e,t){const s=Object.assign(Object.assign({},UE()),{[e]:t});return new Ga("auth","Firebase",s).create(e,{appName:r.name})}function er(r){return Hd(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zE(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Sn(r,"argument-error"),Hd(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wd(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return My.create(r,...e)}function Ee(r,e,...t){if(!r)throw Wd(e,...t)}function Ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Du(e),new Error(e)}function xr(r,e){r||Ar(e)}function _d(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function BE(){return hg()==="http:"||hg()==="https:"}function hg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function $E(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BE()||_w()||"connection"in navigator)?navigator.onLine:!0}function qE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ya{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile=gw()||ww()}get(){return $E()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kd(r,e){xr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Fy{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WE=new Ya(3e4,6e4);function Ei(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ti(r,e,t,s,o={}){return Uy(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const f=Qa(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:g},u);return vw()||(v.referrerPolicy="no-referrer"),Fy.fetch()(jy(r,r.config.apiHost,t,f),v)})}async function Uy(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},HE),e);try{const o=new GE(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Iu(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const f=u.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Iu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Iu(r,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Hd(r,w,v);Sn(r,w)}}catch(o){if(o instanceof br)throw o;Sn(r,"network-request-failed",{message:String(o)})}}async function Xa(r,e,t,s,o={}){const u=await Ti(r,e,t,s,o);return"mfaPendingCredential"in u&&Sn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function jy(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Kd(r.config,o):`${r.config.apiScheme}://${o}`}function KE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),WE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=zn(r,e,s);return o.customData._tokenResponse=t,o}function dg(r){return r!==void 0&&r.enterprise!==void 0}class QE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function YE(r,e){return Ti(r,"GET","/v2/recaptchaConfig",Ei(r,e))}async function XE(r,e){return Ti(r,"POST","/v1/accounts:delete",e)}async function zy(r,e){return Ti(r,"POST","/v1/accounts:lookup",e)}function Ca(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JE(r,e=!1){const t=Kt(r),s=await t.getIdToken(e),o=Gd(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ca(id(o.auth_time)),issuedAtTime:Ca(id(o.iat)),expirationTime:Ca(id(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function id(r){return Number(r)*1e3}function Gd(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const o=ky(t);return o?JSON.parse(o):(Du("Failed to decode base64 JWT payload"),null)}catch(o){return Du("Caught error parsing JWT payload as JSON",o?.toString()),null}}function fg(r){const e=Gd(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function La(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof br&&ZE(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZE({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class eT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wu(r){var e;const t=r.auth,s=await r.getIdToken(),o=await La(r,zy(t,{idToken:s}));Ee(o?.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?By(u.providerUserInfo):[],f=nT(r.providerData,h),g=r.isAnonymous,v=!(r.email&&u.passwordHash)&&!f?.length,w=g?v:!1,k={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new wd(u.createdAt,u.lastLoginAt),isAnonymous:w};Object.assign(r,k)}async function tT(r){const e=Kt(r);await Wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nT(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function By(r){return r.map(e=>{var{providerId:t}=e,s=qd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function rT(r,e){const t=await Uy(r,{},async()=>{const s=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=jy(r,o,"/v1/token",`key=${u}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Fy.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iT(r,e){return Ti(r,"POST","/v2/accounts:revokeToken",Ei(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=fg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await rT(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function ai(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=qd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new wd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await La(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JE(this,e)}reload(){return tT(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Wu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await La(this,XE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,f,g,v,w;const k=(s=t.displayName)!==null&&s!==void 0?s:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,j=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,W=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(f=t.tenantId)!==null&&f!==void 0?f:void 0,q=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,ie=(v=t.createdAt)!==null&&v!==void 0?v:void 0,ne=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:z,emailVerified:Z,isAnonymous:Te,providerData:pe,stsTokenManager:P}=t;Ee(z&&P,e,"internal-error");const T=ao.fromJSON(this.name,P);Ee(typeof z=="string",e,"internal-error"),ai(k,e.name),ai(C,e.name),Ee(typeof Z=="boolean",e,"internal-error"),Ee(typeof Te=="boolean",e,"internal-error"),ai(j,e.name),ai(W,e.name),ai($,e.name),ai(q,e.name),ai(ie,e.name),ai(ne,e.name);const I=new kr({uid:z,auth:e,email:C,emailVerified:Z,displayName:k,isAnonymous:Te,photoURL:W,phoneNumber:j,tenantId:$,stsTokenManager:T,createdAt:ie,lastLoginAt:ne});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(N=>Object.assign({},N))),q&&(I._redirectEventId=q),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new ao;o.updateFromServerResponse(t);const u=new kr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Wu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?By(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,f=new ao;f.updateFromIdToken(s);const g=new kr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,v),g}}const pg=new Map;function Rr(r){xr(r instanceof Function,"Expected a class definition");let e=pg.get(r);return e?(xr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,pg.set(r,e),e)}class $y{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$y.type="NONE";const mg=$y;function Vu(r,e,t){return`firebase:${r}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vu("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(Rr(mg),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Rr(mg);const h=Vu(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(h);if(w){const k=kr._fromJSON(e,w);v!==u&&(f=k),u=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new lo(u,e,s):(u=g[0],f&&await u._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new lo(u,e,s))}}function gg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ky(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qy(e))return"Blackberry";if(Yy(e))return"Webos";if(Hy(e))return"Safari";if((e.includes("chrome/")||Wy(e))&&!e.includes("edge/"))return"Chrome";if(Gy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function qy(r=zt()){return/firefox\//i.test(r)}function Hy(r=zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wy(r=zt()){return/crios\//i.test(r)}function Ky(r=zt()){return/iemobile/i.test(r)}function Gy(r=zt()){return/android/i.test(r)}function Qy(r=zt()){return/blackberry/i.test(r)}function Yy(r=zt()){return/webos/i.test(r)}function Qd(r=zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sT(r=zt()){var e;return Qd(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oT(){return Ew()&&document.documentMode===10}function Xy(r=zt()){return Qd(r)||Gy(r)||Yy(r)||Qy(r)||/windows phone/i.test(r)||Ky(r)}function Jy(r,e=[]){let t;switch(r){case"Browser":t=gg(zt());break;case"Worker":t=`${gg(zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wo}/${s}`}class aT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,f)=>{try{const g=e(u);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lT(r,e={}){return Ti(r,"GET","/v2/passwordPolicy",Ei(r,e))}const uT=6;class cT{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:uT,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class hT{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yg(this),this.idTokenSubscription=new yg(this),this.beforeStateQueue=new aT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=My,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zy(this,{idToken:e}),s=await kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(er(this));const t=e?Kt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lT(this),t=new cT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await iT(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&jE(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Or(r){return Kt(r)}class yg{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cw(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dT(r){sc=r}function Zy(r){return sc.loadJS(r)}function fT(){return sc.recaptchaEnterpriseScript}function pT(){return sc.gapiScript}function mT(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const gT="recaptcha-enterprise",yT="NO_RECAPTCHA";class vT{constructor(e){this.type=gT,this.auth=Or(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,f)=>{YE(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new QE(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(g=>{f(g)})})}function o(u,h,f){const g=window.grecaptcha;dg(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(yT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,h)=>{s(this.auth).then(f=>{if(!t&&dg(window.grecaptcha))o(f,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=fT();g.length!==0&&(g+=f),Zy(g).then(()=>{o(f,u,h)}).catch(v=>{h(v)})}}).catch(f=>{h(f)})})}}async function vg(r,e,t,s=!1){const o=new vT(r);let u;try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ed(r,e,t,s){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await vg(r,e,t,t==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await vg(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function _T(r,e){const t=$d(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if($u(u,e??{}))return o;Sn(o,"already-initialized")}return t.initialize({options:e})}function wT(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function ET(r,e,t){const s=Or(r);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ev(e),{host:h,port:f}=TT(e),g=f===null?"":`:${f}`;s.config.emulator={url:`${u}//${h}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),IT()}function ev(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function TT(r){const e=ev(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_g(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:_g(h)}}}function _g(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function IT(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Yd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function ST(r,e){return Ti(r,"POST","/v1/accounts:signUp",e)}async function AT(r,e){return Xa(r,"POST","/v1/accounts:signInWithPassword",Ei(r,e))}async function kT(r,e){return Xa(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}async function RT(r,e){return Xa(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}class Ma extends Yd{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ma(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ma(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ed(e,t,"signInWithPassword",AT);case"emailLink":return kT(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ed(e,s,"signUpPassword",ST);case"emailLink":return RT(e,{idToken:t,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(r,e){return Xa(r,"POST","/v1/accounts:signInWithIdp",Ei(r,e))}const PT="http://localhost";class ss extends Yd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=qd(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ss(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:PT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qa(t)}return e}}function CT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xT(r){const e=Ia(Sa(r)).link,t=e?Ia(Sa(e)).deep_link_id:null,s=Ia(Sa(r)).deep_link_id;return(s?Ia(Sa(s)).link:null)||s||t||e||r}class Xd{constructor(e){var t,s,o,u,h,f;const g=Ia(Sa(e)),v=(t=g.apiKey)!==null&&t!==void 0?t:null,w=(s=g.oobCode)!==null&&s!==void 0?s:null,k=CT((o=g.mode)!==null&&o!==void 0?o:null);Ee(v&&w&&k,"argument-error"),this.apiKey=v,this.operation=k,this.code=w,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=g.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=xT(e);try{return new Xd(t)}catch{return null}}}class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,t){return Ma._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Xd.parseLink(t);return Ee(s,"argument-error"),Ma._fromEmailAndCode(e,s.code,s.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Jd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ja extends Jd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class li extends Ja{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";class Sr extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ss._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Sr.credential(t,s)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";class ui extends Ja{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";class ci extends Ja{constructor(){super("twitter.com")}static credential(e,t){return ss._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ci.credential(t,s)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";async function tv(r,e){return Xa(r,"POST","/v1/accounts:signUp",Ei(r,e))}class Nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await kr._fromIdTokenResponse(e,s,o),h=wg(s);return new Nr({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=wg(s);return new Nr({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function wg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function NT(r){var e;if(In(r.app))return Promise.reject(er(r));const t=Or(r);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Nr({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await tv(t,{returnSecureToken:!0}),o=await Nr._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}class Ku extends br{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ku.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ku(e,t,s,o)}}function nv(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ku._fromErrorAndOperation(r,u,e,s):u})}async function DT(r,e,t=!1){const s=await La(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Nr._forOperation(r,"link",s)}async function VT(r,e,t=!1){const{auth:s}=r;if(In(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await La(r,nv(s,o,e,r),t);Ee(u.idToken,s,"internal-error");const h=Gd(u.idToken);Ee(h,s,"internal-error");const{sub:f}=h;return Ee(r.uid===f,s,"user-mismatch"),Nr._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Sn(s,"user-mismatch"),u}}async function rv(r,e,t=!1){if(In(r.app))return Promise.reject(er(r));const s="signIn",o=await nv(r,s,e),u=await Nr._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function bT(r,e){return rv(Or(r),e)}async function iv(r){const e=Or(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OT(r,e,t){if(In(r.app))return Promise.reject(er(r));const s=Or(r),h=await Ed(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tv).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&iv(r),g}),f=await Nr._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function LT(r,e,t){return In(r.app)?Promise.reject(er(r)):bT(Kt(r),Eo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iv(r),s})}function MT(r,e,t,s){return Kt(r).onIdTokenChanged(e,t,s)}function FT(r,e,t){return Kt(r).beforeAuthStateChanged(e,t)}function UT(r,e,t,s){return Kt(r).onAuthStateChanged(e,t,s)}function Eg(r){return Kt(r).signOut()}const Gu="__sak";class sv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jT=1e3,zT=10;class ov extends sv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);oT()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zT):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},jT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ov.type="LOCAL";const BT=ov;class av extends sv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}av.type="SESSION";const lv=av;function $T(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new oc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,u)),g=await $T(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oc.receivers=[];function Zd(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class qT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((f,g)=>{const v=Zd("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(k){const C=k;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(C.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function tr(){return window}function HT(r){tr().location.href=r}function uv(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function WT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KT(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GT(){return uv()?self:null}const cv="firebaseLocalStorageDb",QT=1,Qu="firebaseLocalStorage",hv="fbase_key";class Za{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ac(r,e){return r.transaction([Qu],e?"readwrite":"readonly").objectStore(Qu)}function YT(){const r=indexedDB.deleteDatabase(cv);return new Za(r).toPromise()}function Td(){const r=indexedDB.open(cv,QT);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qu,{keyPath:hv})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qu)?e(s):(s.close(),await YT(),e(await Td()))})})}async function Tg(r,e,t){const s=ac(r,!0).put({[hv]:e,value:t});return new Za(s).toPromise()}async function XT(r,e){const t=ac(r,!1).get(e),s=await new Za(t).toPromise();return s===void 0?null:s.value}function Ig(r,e){const t=ac(r,!0).delete(e);return new Za(t).toPromise()}const JT=800,ZT=3;class dv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Td(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>ZT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oc._getInstance(GT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WT(),!this.activeServiceWorker)return;this.sender=new qT(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Td();return await Tg(e,Gu,"1"),await Ig(e,Gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>XT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ig(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ac(o,!1).getAll();return new Za(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dv.type="LOCAL";const eI=dv;new Ya(3e4,6e4);function fv(r,e){return e?Rr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ef extends Yd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tI(r){return rv(r.auth,new ef(r),r.bypassAuthState)}function nI(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),VT(t,new ef(r),r.bypassAuthState)}async function rI(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),DT(t,new ef(r),r.bypassAuthState)}class pv{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tI;case"linkViaPopup":case"linkViaRedirect":return rI;case"reauthViaPopup":case"reauthViaRedirect":return nI;default:Sn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iI=new Ya(2e3,1e4);async function sI(r,e,t){if(In(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const s=Or(r);zE(r,e,Jd);const o=fv(s,t);return new Zi(s,"signInViaPopup",e,o).executeNotNull()}class Zi extends pv{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Zd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iI.get())};e()}}Zi.currentPopupAction=null;const oI="pendingRedirect",bu=new Map;class aI extends pv{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=bu.get(this.auth._key());if(!e){try{const s=await lI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}bu.set(this.auth._key(),e)}return this.bypassAuthState||bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lI(r,e){const t=hI(e),s=cI(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function uI(r,e){bu.set(r._key(),e)}function cI(r){return Rr(r._redirectPersistence)}function hI(r){return Vu(oI,r.config.apiKey,r.name)}async function dI(r,e,t=!1){if(In(r.app))return Promise.reject(er(r));const s=Or(r),o=fv(s,e),h=await new aI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const fI=600*1e3;class pI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!mv(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sg(e))}saveEventToCache(e){this.cachedEventUids.add(Sg(e)),this.lastProcessedEventTime=Date.now()}}function Sg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function mv({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function mI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mv(r);default:return!1}}async function gI(r,e={}){return Ti(r,"GET","/v1/projects",e)}const yI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vI=/^https?/;async function _I(r){if(r.config.emulator)return;const{authorizedDomains:e}=await gI(r);for(const t of e)try{if(wI(t))return}catch{}Sn(r,"unauthorized-domain")}function wI(r){const e=_d(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!vI.test(t))return!1;if(yI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const EI=new Ya(3e4,6e4);function Ag(){const r=tr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function TI(r){return new Promise((e,t)=>{var s,o,u;function h(){Ag(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ag(),t(zn(r,"network-request-failed"))},timeout:EI.get()})}if(!((o=(s=tr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=tr().gapi)===null||u===void 0)&&u.load)h();else{const f=mT("iframefcb");return tr()[f]=()=>{gapi.load?h():t(zn(r,"network-request-failed"))},Zy(`${pT()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Ou=null,e})}let Ou=null;function II(r){return Ou=Ou||TI(r),Ou}const SI=new Ya(5e3,15e3),AI="__/auth/iframe",kI="emulator/auth/iframe",RI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Kd(e,kI):`https://${r.config.authDomain}/${AI}`,s={apiKey:e.apiKey,appName:r.name,v:wo},o=PI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Qa(s).slice(1)}`}async function xI(r){const e=await II(r),t=tr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:CI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=zn(r,"network-request-failed"),f=tr().setTimeout(()=>{u(h)},SI.get());function g(){tr().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const NI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DI=500,VI=600,bI="_blank",OI="http://localhost";class kg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LI(r,e,t,s=DI,o=VI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},NI),{width:s.toString(),height:o.toString(),top:u,left:h}),v=zt().toLowerCase();t&&(f=Wy(v)?bI:t),qy(v)&&(e=e||OI,g.scrollbars="yes");const w=Object.entries(g).reduce((C,[j,W])=>`${C}${j}=${W},`,"");if(sT(v)&&f!=="_self")return MI(e||"",f),new kg(null);const k=window.open(e||"",f,w);Ee(k,r,"popup-blocked");try{k.focus()}catch{}return new kg(k)}function MI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const FI="__/auth/handler",UI="emulator/auth/handler",jI=encodeURIComponent("fac");async function Rg(r,e,t,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:wo,eventId:o};if(e instanceof Jd){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Pw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,k]of Object.entries({}))h[w]=k}if(e instanceof Ja){const w=e.getScopes().filter(k=>k!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await r._getAppCheckToken(),v=g?`#${jI}=${encodeURIComponent(g)}`:"";return`${zI(r)}?${Qa(f).slice(1)}${v}`}function zI({config:r}){return r.emulator?Kd(r,UI):`https://${r.authDomain}/${FI}`}const sd="webStorageSupport";class BI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lv,this._completeRedirectFn=dI,this._overrideRedirectResult=uI}async _openPopup(e,t,s,o){var u;xr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Rg(e,t,s,_d(),o);return LI(e,h,Zd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Rg(e,t,s,_d(),o);return HT(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await xI(e),s=new pI(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sd,{type:sd},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[sd];h!==void 0&&t(!!h),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_I(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xy()||Hy()||Qd()}}const $I=BI;var Pg="@firebase/auth",Cg="1.7.9";class qI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(r){ho(new is("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jy(r)},v=new hT(s,o,u,g);return wT(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ho(new is("auth-internal",e=>{const t=Or(e.getProvider("auth").getImmediate());return(s=>new qI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(Pg,Cg,HI(r)),mi(Pg,Cg,"esm2017")}const KI=300,GI=Cy("authIdTokenMaxAge")||KI;let xg=null;const QI=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>GI)return;const o=t?.token;xg!==o&&(xg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YI(r=Vy()){const e=$d(r,"auth");if(e.isInitialized())return e.getImmediate();const t=_T(r,{popupRedirectResolver:$I,persistence:[eI,BT,lv]}),s=Cy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=QI(u.toString());FT(t,h,()=>h(t.currentUser)),MT(t,f=>h(f))}}const o=Ry("auth");return o&&ET(t,`http://${o}`),t}function XI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}dT({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=zn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",XI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");var JI="firebase",ZI="10.14.1";mi(JI,ZI,"app");var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,gv;(function(){var r;function e(P,T){function I(){}I.prototype=T.prototype,P.D=T.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(N,V,O){for(var A=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)A[ze-2]=arguments[ze];return T.prototype[V].apply(N,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,T,I){I||(I=0);var N=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)N[V]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=P.g[0],I=P.g[1],V=P.g[2];var O=P.g[3],A=T+(O^I&(V^O))+N[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=O+(V^T&(I^V))+N[1]+3905402710&4294967295,O=T+(A<<12&4294967295|A>>>20),A=V+(I^O&(T^I))+N[2]+606105819&4294967295,V=O+(A<<17&4294967295|A>>>15),A=I+(T^V&(O^T))+N[3]+3250441966&4294967295,I=V+(A<<22&4294967295|A>>>10),A=T+(O^I&(V^O))+N[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(V^T&(I^V))+N[5]+1200080426&4294967295,O=T+(A<<12&4294967295|A>>>20),A=V+(I^O&(T^I))+N[6]+2821735955&4294967295,V=O+(A<<17&4294967295|A>>>15),A=I+(T^V&(O^T))+N[7]+4249261313&4294967295,I=V+(A<<22&4294967295|A>>>10),A=T+(O^I&(V^O))+N[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(V^T&(I^V))+N[9]+2336552879&4294967295,O=T+(A<<12&4294967295|A>>>20),A=V+(I^O&(T^I))+N[10]+4294925233&4294967295,V=O+(A<<17&4294967295|A>>>15),A=I+(T^V&(O^T))+N[11]+2304563134&4294967295,I=V+(A<<22&4294967295|A>>>10),A=T+(O^I&(V^O))+N[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(V^T&(I^V))+N[13]+4254626195&4294967295,O=T+(A<<12&4294967295|A>>>20),A=V+(I^O&(T^I))+N[14]+2792965006&4294967295,V=O+(A<<17&4294967295|A>>>15),A=I+(T^V&(O^T))+N[15]+1236535329&4294967295,I=V+(A<<22&4294967295|A>>>10),A=T+(V^O&(I^V))+N[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^V&(T^I))+N[6]+3225465664&4294967295,O=T+(A<<9&4294967295|A>>>23),A=V+(T^I&(O^T))+N[11]+643717713&4294967295,V=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(V^O))+N[0]+3921069994&4294967295,I=V+(A<<20&4294967295|A>>>12),A=T+(V^O&(I^V))+N[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^V&(T^I))+N[10]+38016083&4294967295,O=T+(A<<9&4294967295|A>>>23),A=V+(T^I&(O^T))+N[15]+3634488961&4294967295,V=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(V^O))+N[4]+3889429448&4294967295,I=V+(A<<20&4294967295|A>>>12),A=T+(V^O&(I^V))+N[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^V&(T^I))+N[14]+3275163606&4294967295,O=T+(A<<9&4294967295|A>>>23),A=V+(T^I&(O^T))+N[3]+4107603335&4294967295,V=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(V^O))+N[8]+1163531501&4294967295,I=V+(A<<20&4294967295|A>>>12),A=T+(V^O&(I^V))+N[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^V&(T^I))+N[2]+4243563512&4294967295,O=T+(A<<9&4294967295|A>>>23),A=V+(T^I&(O^T))+N[7]+1735328473&4294967295,V=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(V^O))+N[12]+2368359562&4294967295,I=V+(A<<20&4294967295|A>>>12),A=T+(I^V^O)+N[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^V)+N[8]+2272392833&4294967295,O=T+(A<<11&4294967295|A>>>21),A=V+(O^T^I)+N[11]+1839030562&4294967295,V=O+(A<<16&4294967295|A>>>16),A=I+(V^O^T)+N[14]+4259657740&4294967295,I=V+(A<<23&4294967295|A>>>9),A=T+(I^V^O)+N[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^V)+N[4]+1272893353&4294967295,O=T+(A<<11&4294967295|A>>>21),A=V+(O^T^I)+N[7]+4139469664&4294967295,V=O+(A<<16&4294967295|A>>>16),A=I+(V^O^T)+N[10]+3200236656&4294967295,I=V+(A<<23&4294967295|A>>>9),A=T+(I^V^O)+N[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^V)+N[0]+3936430074&4294967295,O=T+(A<<11&4294967295|A>>>21),A=V+(O^T^I)+N[3]+3572445317&4294967295,V=O+(A<<16&4294967295|A>>>16),A=I+(V^O^T)+N[6]+76029189&4294967295,I=V+(A<<23&4294967295|A>>>9),A=T+(I^V^O)+N[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^V)+N[12]+3873151461&4294967295,O=T+(A<<11&4294967295|A>>>21),A=V+(O^T^I)+N[15]+530742520&4294967295,V=O+(A<<16&4294967295|A>>>16),A=I+(V^O^T)+N[2]+3299628645&4294967295,I=V+(A<<23&4294967295|A>>>9),A=T+(V^(I|~O))+N[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~V))+N[7]+1126891415&4294967295,O=T+(A<<10&4294967295|A>>>22),A=V+(T^(O|~I))+N[14]+2878612391&4294967295,V=O+(A<<15&4294967295|A>>>17),A=I+(O^(V|~T))+N[5]+4237533241&4294967295,I=V+(A<<21&4294967295|A>>>11),A=T+(V^(I|~O))+N[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~V))+N[3]+2399980690&4294967295,O=T+(A<<10&4294967295|A>>>22),A=V+(T^(O|~I))+N[10]+4293915773&4294967295,V=O+(A<<15&4294967295|A>>>17),A=I+(O^(V|~T))+N[1]+2240044497&4294967295,I=V+(A<<21&4294967295|A>>>11),A=T+(V^(I|~O))+N[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~V))+N[15]+4264355552&4294967295,O=T+(A<<10&4294967295|A>>>22),A=V+(T^(O|~I))+N[6]+2734768916&4294967295,V=O+(A<<15&4294967295|A>>>17),A=I+(O^(V|~T))+N[13]+1309151649&4294967295,I=V+(A<<21&4294967295|A>>>11),A=T+(V^(I|~O))+N[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~V))+N[11]+3174756917&4294967295,O=T+(A<<10&4294967295|A>>>22),A=V+(T^(O|~I))+N[2]+718787259&4294967295,V=O+(A<<15&4294967295|A>>>17),A=I+(O^(V|~T))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+O&4294967295}s.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var I=T-this.blockSize,N=this.B,V=this.h,O=0;O<T;){if(V==0)for(;O<=I;)o(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<T;)if(N[V++]=P.charCodeAt(O++),V==this.blockSize){o(this,N),V=0;break}}else for(;O<T;)if(N[V++]=P[O++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var I=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=I&255,I/=256;for(this.u(P),P=Array(16),T=I=0;4>T;++T)for(var N=0;32>N;N+=8)P[I++]=this.g[T]>>>N&255;return P};function u(P,T){var I=f;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=T(P)}function h(P,T){this.h=T;for(var I=[],N=!0,V=P.length-1;0<=V;V--){var O=P[V]|0;N&&O==T||(I[V]=O,N=!1)}this.g=I}var f={};function g(P){return-128<=P&&128>P?u(P,function(T){return new h([T|0],0>T?-1:0)}):new h([P|0],0>P?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return k;if(0>P)return q(v(-P));for(var T=[],I=1,N=0;P>=I;N++)T[N]=P/I|0,I*=4294967296;return new h(T,0)}function w(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return q(w(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),N=k,V=0;V<P.length;V+=8){var O=Math.min(8,P.length-V),A=parseInt(P.substring(V,V+O),T);8>O?(O=v(Math.pow(T,O)),N=N.j(O).add(v(A))):(N=N.j(I),N=N.add(v(A)))}return N}var k=g(0),C=g(1),j=g(16777216);r=h.prototype,r.m=function(){if($(this))return-q(this).m();for(var P=0,T=1,I=0;I<this.g.length;I++){var N=this.i(I);P+=(0<=N?N:4294967296+N)*T,T*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(W(this))return"0";if($(this))return"-"+q(this).toString(P);for(var T=v(Math.pow(P,6)),I=this,N="";;){var V=Z(I,T).g;I=ie(I,V.j(T));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=V,W(I))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function W(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function $(P){return P.h==-1}r.l=function(P){return P=ie(this,P),$(P)?-1:W(P)?0:1};function q(P){for(var T=P.g.length,I=[],N=0;N<T;N++)I[N]=~P.g[N];return new h(I,~P.h).add(C)}r.abs=function(){return $(this)?q(this):this},r.add=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],N=0,V=0;V<=T;V++){var O=N+(this.i(V)&65535)+(P.i(V)&65535),A=(O>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);N=A>>>16,O&=65535,A&=65535,I[V]=A<<16|O}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ie(P,T){return P.add(q(T))}r.j=function(P){if(W(this)||W(P))return k;if($(this))return $(P)?q(this).j(q(P)):q(q(this).j(P));if($(P))return q(this.j(q(P)));if(0>this.l(j)&&0>P.l(j))return v(this.m()*P.m());for(var T=this.g.length+P.g.length,I=[],N=0;N<2*T;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<P.g.length;V++){var O=this.i(N)>>>16,A=this.i(N)&65535,ze=P.i(V)>>>16,et=P.i(V)&65535;I[2*N+2*V]+=A*et,ne(I,2*N+2*V),I[2*N+2*V+1]+=O*et,ne(I,2*N+2*V+1),I[2*N+2*V+1]+=A*ze,ne(I,2*N+2*V+1),I[2*N+2*V+2]+=O*ze,ne(I,2*N+2*V+2)}for(N=0;N<T;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=T;N<2*T;N++)I[N]=0;return new h(I,0)};function ne(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function z(P,T){this.g=P,this.h=T}function Z(P,T){if(W(T))throw Error("division by zero");if(W(P))return new z(k,k);if($(P))return T=Z(q(P),T),new z(q(T.g),q(T.h));if($(T))return T=Z(P,q(T)),new z(q(T.g),T.h);if(30<P.g.length){if($(P)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=C,N=T;0>=N.l(P);)I=Te(I),N=Te(N);var V=pe(I,1),O=pe(N,1);for(N=pe(N,2),I=pe(I,2);!W(N);){var A=O.add(N);0>=A.l(P)&&(V=V.add(I),O=A),N=pe(N,1),I=pe(I,1)}return T=ie(P,V.j(T)),new z(V,T)}for(V=k;0<=P.l(T);){for(I=Math.max(1,Math.floor(P.m()/T.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=v(I),A=O.j(T);$(A)||0<A.l(P);)I-=N,O=v(I),A=O.j(T);W(O)&&(O=C),V=V.add(O),P=ie(P,A)}return new z(V,P)}r.A=function(P){return Z(this,P).h},r.and=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)&P.i(N);return new h(I,this.h&P.h)},r.or=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)|P.i(N);return new h(I,this.h|P.h)},r.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)^P.i(N);return new h(I,this.h^P.h)};function Te(P){for(var T=P.g.length+1,I=[],N=0;N<T;N++)I[N]=P.i(N)<<1|P.i(N-1)>>>31;return new h(I,P.h)}function pe(P,T){var I=T>>5;T%=32;for(var N=P.g.length-I,V=[],O=0;O<N;O++)V[O]=0<T?P.i(O+I)>>>T|P.i(O+I+1)<<32-T:P.i(O+I);return new h(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,ts=h}).apply(typeof Ng<"u"?Ng:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yv,Aa,vv,Lu,Id,_v,wv,Ev;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in y))break e;y=y[L]}l=l[l.length-1],E=y[l],p=p(E),p!=E&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,E=!1,L={next:function(){if(!E&&y<l.length){var B=y++;return{value:p(B,l[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,y){return l.call.apply(l.bind,arguments)}function k(l,p,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(p,L)}}return function(){return l.apply(p,arguments)}}function C(l,p,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:k,C.apply(null,arguments)}function j(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function W(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,L,B){for(var te=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)te[Be-2]=arguments[Be];return p.prototype[L].apply(E,te)}}function $(l){const p=l.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=l[E];return y}return[]}function q(l,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const L=l.length||0,B=E.length||0;l.length=L+B;for(let te=0;te<B;te++)l[L+te]=E[te]}else l.push(E)}}class ie{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(l){return/^[\s\xa0]*$/.test(l)}function z(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function Z(l){return Z[" "](l),l}Z[" "]=function(){};var Te=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function pe(l,p,y){for(const E in l)p.call(y,l[E],E,l)}function P(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,p){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)l[y]=E[y];for(let B=0;B<I.length;B++)y=I[B],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function V(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function O(l){f.setTimeout(()=>{throw l},0)}function A(){var l=de;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ze{constructor(){this.h=this.g=null}add(p,y){const E=et.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var et=new ie(()=>new ot,l=>l.reset());class ot{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,ee=!1,de=new ze,re=()=>{const l=f.Promise.resolve(void 0);Pe=()=>{l.then(b)}};var b=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){O(y)}var p=et;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ee=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l})();function we(l,p){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Te){e:{try{Z(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&we.aa.h.call(this)}}W(we,oe);var Re={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Me=0;function We(l,p,y,E,L){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=L,this.key=++Me,this.da=this.fa=!1}function wt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function or(l){this.src=l,this.g={},this.h=0}or.prototype.add=function(l,p,y,E,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var te=Lr(l,p,E,L);return-1<te?(p=l[te],y||(p.fa=!1)):(p=new We(p,this.src,B,!!E,L),p.fa=y,l.push(p)),p};function ds(l,p){var y=p.type;if(y in l.g){var E=l.g[y],L=Array.prototype.indexOf.call(E,p,void 0),B;(B=0<=L)&&Array.prototype.splice.call(E,L,1),B&&(wt(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Lr(l,p,y,E){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==p&&B.capture==!!y&&B.ha==E)return L}return-1}var Ii="closure_lm_"+(1e6*Math.random()|0),fs={};function Ro(l,p,y,E,L){if(Array.isArray(p)){for(var B=0;B<p.length;B++)Ro(l,p[B],y,E,L);return null}return y=xo(y),l&&l[Ne]?l.K(p,y,v(E)?!!E.capture:!1,L):Po(l,p,y,!1,E,L)}function Po(l,p,y,E,L,B){if(!p)throw Error("Invalid event type");var te=v(L)?!!L.capture:!!L,Be=ms(l);if(Be||(l[Ii]=Be=new or(l)),y=Be.add(p,y,E,te,B),y.proxy)return y;if(E=al(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)ve||(L=te),L===void 0&&(L=!1),l.addEventListener(p.toString(),E,L);else if(l.attachEvent)l.attachEvent(lr(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function al(){function l(y){return p.call(l.src,l.listener,y)}const p=Co;return l}function ps(l,p,y,E,L){if(Array.isArray(p))for(var B=0;B<p.length;B++)ps(l,p[B],y,E,L);else E=v(E)?!!E.capture:!!E,y=xo(y),l&&l[Ne]?(l=l.i,p=String(p).toString(),p in l.g&&(B=l.g[p],y=Lr(B,y,E,L),-1<y&&(wt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete l.g[p],l.h--)))):l&&(l=ms(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Lr(p,y,E,L)),(y=-1<l?p[l]:null)&&ar(y))}function ar(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Ne])ds(p.i,l);else{var y=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(y,E,l.capture):p.detachEvent?p.detachEvent(lr(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=ms(p))?(ds(y,l),y.h==0&&(y.src=null,p[Ii]=null)):wt(l)}}}function lr(l){return l in fs?fs[l]:fs[l]="on"+l}function Co(l,p){if(l.da)l=!0;else{p=new we(p,this);var y=l.listener,E=l.ha||l.src;l.fa&&ar(l),l=y.call(E,p)}return l}function ms(l){return l=l[Ii],l instanceof or?l:null}var gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xo(l){return typeof l=="function"?l:(l[gs]||(l[gs]=function(p){return l.handleEvent(p)}),l[gs])}function pt(){H.call(this),this.i=new or(this),this.M=this,this.F=null}W(pt,H),pt.prototype[Ne]=!0,pt.prototype.removeEventListener=function(l,p,y,E){ps(this,l,p,y,E)};function mt(l,p){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new oe(p,l);else if(p instanceof oe)p.target=p.target||l;else{var L=p;p=new oe(E,l),N(p,L)}if(L=!0,y)for(var B=y.length-1;0<=B;B--){var te=p.g=y[B];L=ur(te,E,!0,p)&&L}if(te=p.g=l,L=ur(te,E,!0,p)&&L,L=ur(te,E,!1,p)&&L,y)for(B=0;B<y.length;B++)te=p.g=y[B],L=ur(te,E,!1,p)&&L}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],E=0;E<y.length;E++)wt(y[E]);delete l.g[p],l.h--}}this.F=null},pt.prototype.K=function(l,p,y,E){return this.i.add(String(l),p,!1,y,E)},pt.prototype.L=function(l,p,y,E){return this.i.add(String(l),p,!0,y,E)};function ur(l,p,y,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,B=0;B<p.length;++B){var te=p[B];if(te&&!te.da&&te.capture==y){var Be=te.listener,gt=te.ha||te.src;te.fa&&ds(l.i,te),L=Be.call(gt,E)!==!1&&L}}return L&&!E.defaultPrevented}function No(l,p,y){if(typeof l=="function")y&&(l=C(l,y));else if(l&&typeof l.handleEvent=="function")l=C(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function Mr(l){l.g=No(()=>{l.g=null,l.i&&(l.i=!1,Mr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Si extends H{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Mr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(l){H.call(this),this.h=l,this.g={}}W(Ai,H);var Do=[];function Vo(l){pe(l.g,function(p,y){this.g.hasOwnProperty(y)&&ar(p)},l),l.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Vo(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bo=f.JSON.stringify,Oo=f.JSON.parse,Lo=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function ki(){}ki.prototype.h=null;function ys(l){return l.h||(l.h=l.i())}function vs(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){oe.call(this,"d")}W($n,oe);function _s(){oe.call(this,"c")}W(_s,oe);var qn={},Mo=null;function Ri(){return Mo=Mo||new pt}qn.La="serverreachability";function Fo(l){oe.call(this,qn.La,l)}W(Fo,oe);function cr(l){const p=Ri();mt(p,new Fo(p))}qn.STAT_EVENT="statevent";function Uo(l,p){oe.call(this,qn.STAT_EVENT,l),this.stat=p}W(Uo,oe);function at(l){const p=Ri();mt(p,new Uo(p,l))}qn.Ma="timingevent";function ws(l,p){oe.call(this,qn.Ma,l),this.size=p}W(ws,oe);function An(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function Pi(){this.g=!0}Pi.prototype.xa=function(){this.g=!1};function Ci(l,p,y,E,L,B){l.info(function(){if(l.g)if(B)for(var te="",Be=B.split("&"),gt=0;gt<Be.length;gt++){var Oe=Be[gt].split("=");if(1<Oe.length){var Et=Oe[0];Oe=Oe[1];var ct=Et.split("_");te=2<=ct.length&&ct[1]=="type"?te+(Et+"="+Oe+"&"):te+(Et+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+y+`
`+te})}function Es(l,p,y,E,L,B,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+y+`
`+B+" "+te})}function kn(l,p,y,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Tc(l,y)+(E?" "+E:"")})}function jo(l,p){l.info(function(){return"TIMEOUT: "+p})}Pi.prototype.info=function(){};function Tc(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return bo(y)}catch{return p}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ll={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function xi(){}W(xi,ki),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},Rn=new xi;function Pn(l,p,y,E){this.j=l,this.i=p,this.l=y,this.R=E||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ul}function ul(){this.i=null,this.g="",this.h=!1}var zo={},Is={};function Ss(l,p,y){l.L=1,l.v=Br(sn(p)),l.m=y,l.P=!0,Bo(l,null)}function Bo(l,p){l.F=Date.now(),Ke(l),l.A=sn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),qr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new ul,l.g=Rl(l.j,y?p:null,!l.m),0<l.O&&(l.M=new Si(C(l.Y,l,l.g),l.O)),p=l.U,y=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Do[0]=L.toString()),L=Do);for(var B=0;B<L.length;B++){var te=Ro(y,L[B],E||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),cr(),Ci(l.i,l.u,l.A,l.l,l.R,l.m)}Pn.prototype.ca=function(l){l=l.target;const p=this.M;p&&Qt(l)==3?p.j():this.Y(l)},Pn.prototype.Y=function(l){try{if(l==this.g)e:{const ct=Qt(this.g);var p=this.g.Ba();const mn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||ct!=4||p==7||(p==8||0>=mn?cr(3):cr(2)),Ni(this);var y=this.g.Z();this.X=y;t:if(cl(this)){var E=Go(this.g);l="";var L=E.length,B=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Fr(this);var te="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!(B&&p==L-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,Es(this.i,this.u,this.A,this.l,this.R,ct,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,gt=this.g;if((Be=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Be)){var Oe=Be;break t}}Oe=null}if(y=Oe)kn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$o(this,y);else{this.o=!1,this.s=3,at(12),fn(this),Fr(this);break e}}if(this.P){y=!0;let an;for(;!this.J&&this.C<te.length;)if(an=Ic(this,te),an==Is){ct==4&&(this.s=4,at(14),y=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==zo){this.s=4,at(15),kn(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else kn(this.i,this.l,an,null),$o(this,an);if(cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||te.length!=0||this.h.h||(this.s=1,at(16),y=!1),this.o=this.o&&y,!y)kn(this.i,this.l,te,"[Invalid Chunked Response]"),fn(this),Fr(this);else if(0<te.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Yo(Et),Et.M=!0,at(11))}}else kn(this.i,this.l,te,null),$o(this,te);ct==4&&fn(this),this.o&&!this.J&&(ct==4?Os(this.j,this):(this.o=!1,Ke(this)))}else xs(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),fn(this),Fr(this)}}}catch{}};function cl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ic(l,p){var y=l.C,E=p.indexOf(`
`,y);return E==-1?Is:(y=Number(p.substring(y,E)),isNaN(y)?zo:(E+=1,E+y>p.length?Is:(p=p.slice(E,E+y),l.C=E+y,p)))}Pn.prototype.cancel=function(){this.J=!0,fn(this)};function Ke(l){l.S=Date.now()+l.I,hl(l,l.I)}function hl(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=An(C(l.ba,l),p)}function Ni(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Pn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(jo(this.i,this.A),this.L!=2&&(cr(),at(17)),fn(this),this.s=2,Fr(this)):hl(this,this.S-l)};function Fr(l){l.j.G==0||l.J||Os(l.j,l)}function fn(l){Ni(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Vo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function $o(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||Bt(y.h,l))){if(!l.K&&Bt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)bs(y),Vn(y);else break e;Vs(y),at(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=An(C(y.Za,y),6e3));if(1>=fl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else mr(y,11)}else if((l.K||y.g==l)&&bs(y),!ne(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let Oe=L[p];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const Et=Oe[3];Et!=null&&(y.la=Et,y.j.info("VER="+y.la));const ct=Oe[4];ct!=null&&(y.Aa=ct,y.j.info("SVER="+y.Aa));const mn=Oe[5];mn!=null&&typeof mn=="number"&&0<mn&&(E=1.5*mn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const an=l.g;if(an){const Fi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var B=E.h;B.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(qo(B,B.h),B.h=null))}if(E.D){const Ms=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Ms&&(E.ya=Ms,He(E.I,E.D,Ms))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var te=l;if(E.qa=kl(E,E.J?E.ia:null,E.W),te.K){pl(E.h,te);var Be=te,gt=E.L;gt&&(Be.I=gt),Be.B&&(Ni(Be),Ke(Be)),E.g=te}else Mi(E);0<y.i.length&&Gn(y)}else Oe[0]!="stop"&&Oe[0]!="close"||mr(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?mr(y,7):Rt(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}cr(4)}catch{}}var dl=class{constructor(l,p){this.g=l,this.map=p}};function Di(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function fl(l){return l.h?1:l.g?l.g.size:0}function Bt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function qo(l,p){l.g?l.g.add(p):l.h=p}function pl(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Di.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ml(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return $(l.i)}function As(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,E=0;E<y;E++)p.push(l[E]);return p}p=[],y=0;for(E in l)p[y++]=l[E];return p}function ks(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const E in l)p[y++]=E;return p}}}function Ur(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=ks(l),E=As(l),L=E.length,B=0;B<L;B++)p.call(void 0,E[B],y&&y[B],l)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),L=null;if(0<=E){var B=l[y].substring(0,E);L=l[y].substring(E+1)}else B=l[y];p(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function hr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof hr){this.h=l.h,bi(this,l.j),this.o=l.o,this.g=l.g,jr(this,l.s),this.l=l.l;var p=l.i,y=new Hn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),zr(this,y),this.m=l.m}else l&&(p=String(l).match(Vi))?(this.h=!1,bi(this,p[1]||"",!0),this.o=Ve(p[2]||""),this.g=Ve(p[3]||"",!0),jr(this,p[4]),this.l=Ve(p[5]||"",!0),zr(this,p[6]||"",!0),this.m=Ve(p[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}hr.prototype.toString=function(){var l=[],p=this.j;p&&l.push($r(p,Rs,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push($r(p,Rs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push($r(y,y.charAt(0)=="/"?vl:yl,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",$r(y,Ho)),l.join("")};function sn(l){return new hr(l)}function bi(l,p,y){l.j=y?Ve(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function jr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function zr(l,p,y){p instanceof Hn?(l.i=p,Wn(l.i,l.h)):(y||(p=$r(p,_l)),l.i=new Hn(p,l.h))}function He(l,p,y){l.i.set(p,y)}function Br(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ve(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function $r(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,gl),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Rs=/[#\/\?@]/g,yl=/[#\?:]/g,vl=/[#\?]/g,_l=/[#\?@]/g,Ho=/#/g;function Hn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function kt(l){l.g||(l.g=new Map,l.h=0,l.i&&Sc(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Hn.prototype,r.add=function(l,p){kt(this),this.i=null,l=pn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function Cn(l,p){kt(l),p=pn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function xn(l,p){return kt(l),p=pn(l,p),l.g.has(p)}r.forEach=function(l,p){kt(this),this.g.forEach(function(y,E){y.forEach(function(L){l.call(p,L,E,this)},this)},this)},r.na=function(){kt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const L=l[E];for(let B=0;B<L.length;B++)y.push(p[E])}return y},r.V=function(l){kt(this);let p=[];if(typeof l=="string")xn(this,l)&&(p=p.concat(this.g.get(pn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},r.set=function(l,p){return kt(this),this.i=null,l=pn(this,l),xn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function qr(l,p,y){Cn(l,p),0<y.length&&(l.i=null,l.g.set(pn(l,p),$(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const B=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var L=B;te[E]!==""&&(L+="="+encodeURIComponent(String(te[E]))),l.push(L)}}return this.i=l.join("&")};function pn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Wn(l,p){p&&!l.j&&(kt(l),l.i=null,l.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Cn(this,E),qr(this,L,y))},l)),l.j=p}function Ac(l,p){const y=new Pi;if(f.Image){const E=new Image;E.onload=j(Gt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=j(Gt,y,"TestLoadImage: error",!1,p,E),E.onabort=j(Gt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=j(Gt,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function wl(l,p){const y=new Pi,E=new AbortController,L=setTimeout(()=>{E.abort(),Gt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Gt(y,"TestPingServer: ok",!0,p):Gt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Gt(y,"TestPingServer: error",!1,p)})}function Gt(l,p,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function kc(){this.g=new Lo}function El(l,p,y){const E=y||"";try{Ur(l,function(L,B){let te=L;v(L)&&(te=bo(L)),p.push(E+B+"="+encodeURIComponent(te))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function dr(l){this.l=l.Ub||null,this.j=l.eb||!1}W(dr,ki),dr.prototype.g=function(){return new Oi(this.l,this.j)},dr.prototype.i=(function(l){return function(){return l}})({});function Oi(l,p){pt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(Oi,pt),r=Oi.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Dn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Nn(this):Dn(this),this.readyState==3&&Tl(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,Nn(this))},r.Qa=function(l){this.g&&(this.response=l,Nn(this))},r.ga=function(){this.g&&Nn(this)};function Nn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Dn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Dn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function fr(l){let p="";return pe(l,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Hr(l,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=fr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):He(l,p,y))}function Je(l){pt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Je,pt);var Rc=/^https?$/i,Wo=["POST","PUT"];r=Je.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?ys(this.o):ys(Rn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(B){Li(this,B);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())y.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Wo,p,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of y)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){Li(this,B)}};function Li(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Ps(l),on(l)}function Ps(l){l.A||(l.A=!0,mt(l,"complete"),mt(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,mt(this,"complete"),mt(this,"abort"),on(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),on(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ko(this):this.bb())},r.bb=function(){Ko(this)};function Ko(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Qt(l)!=4||l.Z()!=2)){if(l.u&&Qt(l)==4)No(l.Ea,0,l);else if(mt(l,"readystatechange"),Qt(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=te===0){var L=String(l.D).match(Vi)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),E=!Rc.test(L?L.toLowerCase():"")}y=E}if(y)mt(l,"complete"),mt(l,"success");else{l.m=6;try{var B=2<Qt(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",Ps(l)}}finally{on(l)}}}}function on(l,p){if(l.g){Cs(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||mt(l,"ready");try{y.onreadystatechange=E}catch{}}}function Cs(l){l.I&&(f.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Qt(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Oo(p)}};function Go(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(l){const p={};l=(l.g&&2<=Qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ne(l[E]))continue;var y=V(l[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=p[L]||[];p[L]=B,B.push(y)}P(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Qo(l){this.Aa=0,this.i=[],this.j=new Pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,l),this.cb=Kn("retryDelaySeedMs",1e4,l),this.Wa=Kn("forwardChannelMaxRetries",2,l),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(l&&l.concurrentRequestLimit),this.Da=new kc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qo.prototype,r.la=8,r.G=1,r.connect=function(l,p,y,E){at(0),this.W=l,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=kl(this,null,this.W),Gn(this)};function Rt(l){if(Ns(l),l.G==3){var p=l.U++,y=sn(l.I);if(He(y,"SID",l.K),He(y,"RID",p),He(y,"TYPE","terminate"),pr(l,y),p=new Pn(l,l.j,p),p.L=2,p.v=Br(sn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=Rl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ke(p)}Al(l)}function Vn(l){l.g&&(Yo(l),l.g.cancel(),l.g=null)}function Ns(l){Vn(l),l.u&&(f.clearTimeout(l.u),l.u=null),bs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function Gn(l){if(!rn(l.h)&&!l.s){l.s=!0;var p=l.Ga;Pe||re(),ee||(Pe(),ee=!0),de.add(p,l),l.B=0}}function Pc(l,p){return fl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=An(C(l.Ga,l,p),Sl(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Pn(this,this.j,l);let B=this.o;if(this.S&&(B?(B=T(B),N(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Wr(this,L,p),y=sn(this.I),He(y,"RID",l),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),pr(this,y),B&&(this.O?p="headers="+encodeURIComponent(String(fr(B)))+"&"+p:this.m&&Hr(y,this.m,B)),qo(this.h,L),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",p),He(y,"SID","null"),L.T=!0,Ss(L,y,null)):Ss(L,y,p),this.G=2}}else this.G==3&&(l?Ds(this,l):this.i.length==0||rn(this.h)||Ds(this))};function Ds(l,p){var y;p?y=p.l:y=l.U++;const E=sn(l.I);He(E,"SID",l.K),He(E,"RID",y),He(E,"AID",l.T),pr(l,E),l.m&&l.o&&Hr(E,l.m,l.o),y=new Pn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Wr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),qo(l.h,y),Ss(y,E,p)}function pr(l,p){l.H&&pe(l.H,function(y,E){He(p,E,y)}),l.l&&Ur({},function(y,E){He(p,E,y)})}function Wr(l,p,y){y=Math.min(l.i.length,y);var E=l.l?C(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const te=["count="+y];B==-1?0<y?(B=L[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let Be=!0;for(let gt=0;gt<y;gt++){let Oe=L[gt].g;const Et=L[gt].map;if(Oe-=B,0>Oe)B=Math.max(0,L[gt].g-100),Be=!1;else try{El(Et,te,"req"+Oe+"_")}catch{E&&E(Et)}}if(Be){E=te.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,E}function Mi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Pe||re(),ee||(Pe(),ee=!0),de.add(p,l),l.v=0}}function Vs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=An(C(l.Fa,l),Sl(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,Il(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=An(C(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Vn(this),Il(this))};function Yo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function Il(l){l.g=new Pn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=sn(l.qa);He(p,"RID","rpc"),He(p,"SID",l.K),He(p,"AID",l.T),He(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(p,"TO",l.ja),He(p,"TYPE","xmlhttp"),pr(l,p),l.m&&l.o&&Hr(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Br(sn(p)),y.m=null,y.P=!0,Bo(y,l)}r.Za=function(){this.C!=null&&(this.C=null,Vn(this),Vs(this),at(19))};function bs(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Os(l,p){var y=null;if(l.g==p){bs(l),Yo(l),l.g=null;var E=2}else if(Bt(l.h,p))y=p.D,pl(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=l.B;E=Ri(),mt(E,new ws(E,y)),Gn(l)}else Mi(l);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&Pc(l,p)||E==2&&Vs(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),L){case 1:mr(l,5);break;case 4:mr(l,10);break;case 3:mr(l,6);break;default:mr(l,2)}}}function Sl(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function mr(l,p){if(l.j.info("Error code "+p),p==2){var y=C(l.fb,l),E=l.Xa;const L=!E;E=new hr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||bi(E,"https"),Br(E),L?Ac(E.toString(),y):wl(E.toString(),y)}else at(2);l.G=0,l.l&&l.l.sa(p),Al(l),Ns(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Al(l){if(l.G=0,l.ka=[],l.l){const p=ml(l.h);(p.length!=0||l.i.length!=0)&&(q(l.ka,p),q(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function kl(l,p,y){var E=y instanceof hr?sn(y):new hr(y);if(E.g!="")p&&(E.g=p+"."+E.g),jr(E,E.s);else{var L=f.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var B=new hr(null);E&&bi(B,E),p&&(B.g=p),L&&jr(B,L),y&&(B.l=y),E=B}return y=l.D,p=l.ya,y&&p&&He(E,y,p),He(E,"VER",l.la),pr(l,E),E}function Rl(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Je(new dr({eb:y})):new Je(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xo(){}r=Xo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ls(){}Ls.prototype.g=function(l,p){return new $t(l,p)};function $t(l,p){pt.call(this),this.g=new Qo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!ne(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ne(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Qn(this)}W($t,pt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Rt(this.g)},$t.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=bo(l),l=y);p.i.push(new dl(p.Ya++,l)),p.G==3&&Gn(p)},$t.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,$t.aa.N.call(this)};function Pl(l){$n.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}W(Pl,$n);function Cl(){_s.call(this),this.status=1}W(Cl,_s);function Qn(l){this.g=l}W(Qn,Xo),Qn.prototype.ua=function(){mt(this.g,"a")},Qn.prototype.ta=function(l){mt(this.g,new Pl(l))},Qn.prototype.sa=function(l){mt(this.g,new Cl)},Qn.prototype.ra=function(){mt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Ev=function(){return new Ls},wv=function(){return Ri()},_v=qn,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,Lu=Ts,ll.COMPLETE="complete",vv=ll,vs.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Aa=vs,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,yv=Je}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const Dg="@firebase/firestore";let Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let To="10.14.0";const os=new zd("@firebase/firestore");function Ta(){return os.logLevel}function he(r,...e){if(os.logLevel<=be.DEBUG){const t=e.map(tf);os.debug(`Firestore (${To}): ${r}`,...t)}}function Dr(r,...e){if(os.logLevel<=be.ERROR){const t=e.map(tf);os.error(`Firestore (${To}): ${r}`,...t)}}function fo(r,...e){if(os.logLevel<=be.WARN){const t=e.map(tf);os.warn(`Firestore (${To}): ${r}`,...t)}}function tf(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Se(r="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+r;throw Dr(e),new Error(e)}function $e(r,e){r||Se()}function ke(r,e){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Tv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class t1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class n1{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new Tv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Ut(e)}}class r1{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i1{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new r1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string"),this.R=t.token,new s1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function a1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=a1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function po(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}class _t{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new _t(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new _t(0,0))}static max(){return new Ae(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fa{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xe extends Fa{construct(e,t,s){return new Xe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Xe(t)}static emptyPath(){return new Xe([])}}const l1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Fa{construct(e,t,s){return new Nt(e,t,s)}static isValidIdentifier(e){return l1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(Xe.fromString(e))}static fromName(e){return new me(Xe.fromString(e).popFirst(5))}static empty(){return new me(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Xe(e.slice()))}}function u1(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new _t(t+1,0):new _t(t,s));return new yi(o,me.empty(),e)}function c1(r){return new yi(r.readTime,r.key,-1)}class yi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new yi(Ae.min(),me.empty(),-1)}static max(){return new yi(Ae.max(),me.empty(),-1)}}function h1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(r.documentKey,e.documentKey),t!==0?t:je(r.largestBatchId,e.largestBatchId))}const d1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function el(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==d1)throw r;he("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,s)=>{t(e)}))}static reject(e){return new Y(((t,s)=>{s(e)}))}static waitFor(e){return new Y(((t,s)=>{let o=0,u=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++u,h&&u===o&&t()}),(g=>s(g)))})),h=!0,u===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const s of e)t=t.next((o=>o?Y.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new Y(((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next((w=>{h[v]=w,++f,f===u&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new Y(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function p1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(r){return r.name==="IndexedDbTransactionError"}class nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nf.oe=-1;function lc(r){return r==null}function Yu(r){return r===0&&1/r==-1/0}function m1(r){return typeof r=="number"&&Number.isInteger(r)&&!Yu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Vg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Io(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Sv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||xt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Au(this.root,e,this.comparator,!1)}getReverseIterator(){return new Au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Au(this.root,e,this.comparator,!0)}}class Au{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??xt.RED,this.left=o??xt.EMPTY,this.right=u??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bg(this.data.getIterator())}getIteratorFrom(e){return new bg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class bg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Dt(Nt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Av extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Av("Invalid base64 string: "+u):u}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const g1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(r){if($e(!!r),typeof r=="string"){let e=0;const t=g1.exec(r);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(r.seconds),nanos:ut(r.nanos)}}function ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Vt.fromBase64String(r):Vt.fromUint8Array(r)}function rf(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function sf(r){const e=r.mapValue.fields.__previous_value__;return rf(e)?sf(e):e}function Ua(r){const e=vi(r.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}class y1{constructor(e,t,s,o,u,h,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}class ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}const ku={mapValue:{}};function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rf(r)?4:_1(r)?9007199254740991:v1(r)?10:11:Se()}function sr(r,e){if(r===e)return!0;const t=ls(r);if(t!==ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ua(r).isEqual(Ua(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=vi(o.timestampValue),f=vi(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return ut(o.geoPointValue.latitude)===ut(u.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ut(o.integerValue)===ut(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ut(o.doubleValue),f=ut(u.doubleValue);return h===f?Yu(h)===Yu(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Vg(h)!==Vg(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!sr(h[g],f[g])))return!1;return!0})(r,e);default:return Se()}}function za(r,e){return(r.values||[]).find((t=>sr(t,e)))!==void 0}function mo(r,e){if(r===e)return 0;const t=ls(r),s=ls(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const f=ut(u.integerValue||u.doubleValue),g=ut(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return Og(r.timestampValue,e.timestampValue);case 4:return Og(Ua(r),Ua(e));case 5:return je(r.stringValue,e.stringValue);case 6:return(function(u,h){const f=as(u),g=as(h);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const f=u.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const w=je(f[v],g[v]);if(w!==0)return w}return je(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const f=je(ut(u.latitude),ut(h.latitude));return f!==0?f:je(ut(u.longitude),ut(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Lg(r.arrayValue,e.arrayValue);case 10:return(function(u,h){var f,g,v,w;const k=u.fields||{},C=h.fields||{},j=(f=k.value)===null||f===void 0?void 0:f.arrayValue,W=(g=C.value)===null||g===void 0?void 0:g.arrayValue,$=je(((v=j?.values)===null||v===void 0?void 0:v.length)||0,((w=W?.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:Lg(j,W)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ku.mapValue&&h===ku.mapValue)return 0;if(u===ku.mapValue)return 1;if(h===ku.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let k=0;k<g.length&&k<w.length;++k){const C=je(g[k],w[k]);if(C!==0)return C;const j=mo(f[g[k]],v[w[k]]);if(j!==0)return j}return je(g.length,w.length)})(r.mapValue,e.mapValue);default:throw Se()}}function Og(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const t=vi(r),s=vi(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function Lg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=mo(t[o],s[o]);if(u)return u}return je(t.length,s.length)}function go(r){return Sd(r)}function Sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=vi(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return as(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return me.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Sd(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sd(t.fields[h])}`;return o+"}"})(r.mapValue):Se()}function Mg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ad(r){return!!r&&"integerValue"in r}function of(r){return!!r&&"arrayValue"in r}function Fg(r){return!!r&&"nullValue"in r}function Ug(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mu(r){return!!r&&"mapValue"in r}function v1(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Io(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=xa(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function _1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Mu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(t)}setAll(e){let t=Nt.emptyPath(),s={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=xa(h):o.push(f.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Mu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Io(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Tn(xa(this.value))}}function kv(r){const e=[];return Io(r.fields,((t,s)=>{const o=new Nt([t]);if(Mu(s)){const u=kv(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new jn(e)}class jt{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new jt(e,0,Ae.min(),Ae.min(),Ae.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new jt(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new jt(e,2,t,Ae.min(),Ae.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,Ae.min(),Ae.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xu{constructor(e,t){this.position=e,this.inclusive=t}}function jg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),t.key):s=mo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!sr(r.position[t],e.position[t]))return!1;return!0}class Ba{constructor(e,t="asc"){this.field=e,this.dir=t}}function w1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}let Rv=class{};class ft extends Rv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new T1(e,t,s):t==="array-contains"?new A1(e,s):t==="in"?new k1(e,s):t==="not-in"?new R1(e,s):t==="array-contains-any"?new P1(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new I1(e,s):new S1(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(mo(t,this.value)):t!==null&&ls(this.value)===ls(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends Rv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Bn(e,t)}matches(e){return Pv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Pv(r){return r.op==="and"}function Cv(r){return E1(r)&&Pv(r)}function E1(r){for(const e of r.filters)if(e instanceof Bn)return!1;return!0}function kd(r){if(r instanceof ft)return r.field.canonicalString()+r.op.toString()+go(r.value);if(Cv(r))return r.filters.map((e=>kd(e))).join(",");{const e=r.filters.map((t=>kd(t))).join(",");return`${r.op}(${e})`}}function xv(r,e){return r instanceof ft?(function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&sr(s.value,o.value)})(r,e):r instanceof Bn?(function(s,o){return o instanceof Bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,f)=>u&&xv(h,o.filters[f])),!0):!1})(r,e):void Se()}function Nv(r){return r instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`})(r):r instanceof Bn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Nv).join(" ,")+"}"})(r):"Filter"}class T1 extends ft{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class I1 extends ft{constructor(e,t){super(e,"in",t),this.keys=Dv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class S1 extends ft{constructor(e,t){super(e,"not-in",t),this.keys=Dv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Dv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>me.fromName(s.referenceValue)))}class A1 extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return of(t)&&za(t.arrayValue,this.value)}}class k1 extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&za(this.value.arrayValue,t)}}class R1 extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!za(this.value.arrayValue,t)}}class P1 extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!of(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>za(this.value.arrayValue,s)))}}class C1{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.ue=null}}function Bg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new C1(r,e,t,s,o,u,h)}function af(r){const e=ke(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>kd(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),lc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>go(s))).join(",")),e.ue=t}return e.ue}function lf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!w1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!xv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!zg(r.startAt,e.startAt)&&zg(r.endAt,e.endAt)}function Rd(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class So{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function x1(r,e,t,s,o,u,h,f){return new So(r,e,t,s,o,u,h,f)}function uf(r){return new So(r)}function $g(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Vv(r){return r.collectionGroup!==null}function Na(r){const e=ke(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Dt(Nt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(f=f.add(v.field))}))})),f})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Ba(u,s))})),t.has(Nt.keyField().canonicalString())||e.ce.push(new Ba(Nt.keyField(),s))}return e.ce}function nr(r){const e=ke(r);return e.le||(e.le=N1(e,Na(r))),e.le}function N1(r,e){if(r.limitType==="F")return Bg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ba(o.field,u)}));const t=r.endAt?new Xu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xu(r.startAt.position,r.startAt.inclusive):null;return Bg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Pd(r,e){const t=r.filters.concat([e]);return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Cd(r,e,t){return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function uc(r,e){return lf(nr(r),nr(e))&&r.limitType===e.limitType}function bv(r){return`${af(nr(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Nv(o))).join(", ")}]`),lc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>go(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>go(o))).join(",")),`Target(${s})`})(nr(r))}; limitType=${r.limitType})`}function cc(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Na(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,f,g){const v=jg(h,f,g);return h.inclusive?v<=0:v<0})(s.startAt,Na(s),o)||s.endAt&&!(function(h,f,g){const v=jg(h,f,g);return h.inclusive?v>=0:v>0})(s.endAt,Na(s),o))})(r,e)}function D1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ov(r){return(e,t)=>{let s=!1;for(const o of Na(r)){const u=V1(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function V1(r,e,t){const s=r.field.isKeyField()?me.comparator(e.key,t.key):(function(u,h,f){const g=h.data.field(u),v=f.data.field(u);return g!==null&&v!==null?mo(g,v):Se()})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}const b1=new rt(me.comparator);function Vr(){return b1}const Lv=new rt(me.comparator);function ka(...r){let e=Lv;for(const t of r)e=e.insert(t.key,t);return e}function Mv(r){let e=Lv;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function es(){return Da()}function Fv(){return Da()}function Da(){return new Ao((r=>r.toString()),((r,e)=>r.isEqual(e)))}const O1=new rt(me.comparator),L1=new Dt(me.comparator);function De(...r){let e=L1;for(const t of r)e=e.add(t);return e}const M1=new Dt(je);function F1(){return M1}function cf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function Uv(r){return{integerValue:""+r}}function U1(r,e){return m1(e)?Uv(e):cf(r,e)}class hc{constructor(){this._=void 0}}function j1(r,e,t){return r instanceof $a?(function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rf(u)&&(u=sf(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(t,e):r instanceof qa?zv(r,e):r instanceof Ha?Bv(r,e):(function(o,u){const h=jv(o,u),f=qg(h)+qg(o.Pe);return Ad(h)&&Ad(o.Pe)?Uv(f):cf(o.serializer,f)})(r,e)}function z1(r,e,t){return r instanceof qa?zv(r,e):r instanceof Ha?Bv(r,e):t}function jv(r,e){return r instanceof Ju?(function(s){return Ad(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class $a extends hc{}class qa extends hc{constructor(e){super(),this.elements=e}}function zv(r,e){const t=$v(e);for(const s of r.elements)t.some((o=>sr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ha extends hc{constructor(e){super(),this.elements=e}}function Bv(r,e){let t=$v(e);for(const s of r.elements)t=t.filter((o=>!sr(o,s)));return{arrayValue:{values:t}}}class Ju extends hc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qg(r){return ut(r.integerValue||r.doubleValue)}function $v(r){return of(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class B1{constructor(e,t){this.field=e,this.transform=t}}function $1(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof qa&&o instanceof qa||s instanceof Ha&&o instanceof Ha?po(s.elements,o.elements,sr):s instanceof Ju&&o instanceof Ju?sr(s.Pe,o.Pe):s instanceof $a&&o instanceof $a})(r.transform,e.transform)}class q1{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class dc{}function qv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hf(r.key,rr.none()):new nl(r.key,r.data,rr.none());{const t=r.data,s=Tn.empty();let o=new Dt(Nt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new us(r.key,s,new jn(o.toArray()),rr.none())}}function H1(r,e,t){r instanceof nl?(function(o,u,h){const f=o.value.clone(),g=Wg(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof us?(function(o,u,h){if(!Fu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Wg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Hv(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Va(r,e,t,s){return r instanceof nl?(function(u,h,f,g){if(!Fu(u.precondition,h))return f;const v=u.value.clone(),w=Kg(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,t,s):r instanceof us?(function(u,h,f,g){if(!Fu(u.precondition,h))return f;const v=Kg(u.fieldTransforms,g,h),w=h.data;return w.setAll(Hv(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((k=>k.field)))})(r,e,t,s):(function(u,h,f){return Fu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function W1(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=jv(s.transform,o||null);u!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,u))}return t||null}function Hg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,h)=>$1(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nl extends dc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends dc{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Hv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Wg(r,e,t){const s=new Map;$e(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,z1(h,f,t[o]))}return s}function Kg(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,j1(u,h,e))}return s}class hf extends dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K1 extends dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G1{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&H1(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Va(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Va(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Fv();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const g=qv(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((t,s)=>Hg(t,s)))&&po(this.baseMutations,e.baseMutations,((t,s)=>Hg(t,s)))}}class df{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=(function(){return O1})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new df(e,t,s,o)}}class Q1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y1{constructor(e,t){this.count=e,this.unchangedNames=t}}var dt,Le;function X1(r){switch(r){default:return Se();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Wv(r){if(r===void 0)return Dr("GRPC error has no .code"),K.UNKNOWN;switch(r){case dt.OK:return K.OK;case dt.CANCELLED:return K.CANCELLED;case dt.UNKNOWN:return K.UNKNOWN;case dt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case dt.INTERNAL:return K.INTERNAL;case dt.UNAVAILABLE:return K.UNAVAILABLE;case dt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case dt.NOT_FOUND:return K.NOT_FOUND;case dt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case dt.ABORTED:return K.ABORTED;case dt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case dt.DATA_LOSS:return K.DATA_LOSS;default:return Se()}}(Le=dt||(dt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function J1(){return new TextEncoder}const Z1=new ts([4294967295,4294967295],0);function Gg(r){const e=J1().encode(r),t=new gv;return t.update(e),new Uint8Array(t.digest())}function Qg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([t,s],0),new ts([o,u],0)]}class ff{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ra(`Invalid padding: ${t}`);if(s<0)throw new Ra(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ts.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(ts.fromNumber(s)));return o.compare(Z1)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Gg(e),[s,o]=Qg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ff(u,o,t);return s.forEach((f=>h.insert(f))),h}insert(e){if(this.Ie===0)return;const t=Gg(e),[s,o]=Qg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fc{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new fc(Ae.min(),o,new rt(je),Vr(),De())}}class rl{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rl(s,t,De(),De(),De())}}class Uu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class Kv{constructor(e,t){this.targetId=e,this.me=t}}class Gv{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Yg{constructor(){this.fe=0,this.ge=Jg(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),s=De();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}})),new rl(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Jg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Xg(),this.Qe=new rt(je)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Se()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(Rd(u))if(s===0){const h=new me(u.path);this.Ue(t,h,jt.newNoDocument(h,Ae.min()))}else $e(s===1);else{const h=this.Ye(t);if(h!==s){const f=this.Ze(e),g=f?this.Xe(f,e,h):1;if(g!==0){this.je(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=as(s).toUint8Array()}catch(g){if(g instanceof Av)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new ff(h,o,u)}catch(g){return fo(g instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ie===0?null:f}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Le.tt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,u,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((u,h)=>{const f=this.Je(h);if(f){if(u.current&&Rd(f.target)){const g=new me(f.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,jt.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}}));let s=De();this.qe.forEach(((u,h)=>{let f=!0;h.forEachWhile((g=>{const v=this.Je(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const o=new fc(e,t,this.Qe,this.ke,s);return this.ke=Vr(),this.qe=Xg(),this.Qe=new rt(je),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Yg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt(je),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xg(){return new rt(me.comparator)}function Jg(){return new rt(me.comparator)}const tS={asc:"ASCENDING",desc:"DESCENDING"},nS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rS={and:"AND",or:"OR"};class iS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xd(r,e){return r.useProto3Json||lc(e)?e:{value:e}}function Zu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sS(r,e){return Zu(r,e.toTimestamp())}function ir(r){return $e(!!r),Ae.fromTimestamp((function(t){const s=vi(t);return new _t(s.seconds,s.nanos)})(r))}function pf(r,e){return Nd(r,e).canonicalString()}function Nd(r,e){const t=(function(o){return new Xe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Yv(r){const e=Xe.fromString(r);return $e(t_(e)),e}function Dd(r,e){return pf(r.databaseId,e.path)}function od(r,e){const t=Yv(e);if(t.get(1)!==r.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new me(Jv(t))}function Xv(r,e){return pf(r.databaseId,e)}function oS(r){const e=Yv(r);return e.length===4?Xe.emptyPath():Jv(e)}function Vd(r){return new Xe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jv(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Zg(r,e,t){return{name:Dd(r,e),fields:t.value.mapValue.fields}}function aS(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,w){return v.useProto3Json?($e(w===void 0||typeof w=="string"),Vt.fromBase64String(w||"")):($e(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Vt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(v){const w=v.code===void 0?K.UNKNOWN:Wv(v.code);return new ae(w,v.message||"")})(h);t=new Gv(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=od(r,s.document.name),u=ir(s.document.updateTime),h=s.document.createTime?ir(s.document.createTime):Ae.min(),f=new Tn({mapValue:{fields:s.document.fields}}),g=jt.newFoundDocument(o,u,h,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new Uu(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=od(r,s.document),u=s.readTime?ir(s.readTime):Ae.min(),h=jt.newNoDocument(o,u),f=s.removedTargetIds||[];t=new Uu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=od(r,s.document),u=s.removedTargetIds||[];t=new Uu([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Y1(o,u),f=s.targetId;t=new Kv(f,h)}}return t}function lS(r,e){let t;if(e instanceof nl)t={update:Zg(r,e.key,e.value)};else if(e instanceof hf)t={delete:Dd(r,e.key)};else if(e instanceof us)t={update:Zg(r,e.key,e.data),updateMask:yS(e.fieldMask)};else{if(!(e instanceof K1))return Se();t={verify:Dd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const f=h.transform;if(f instanceof $a)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ha)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ju)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Se()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()})(r,e.precondition)),t}function uS(r,e){return r&&r.length>0?($e(e!==void 0),r.map((t=>(function(o,u){let h=o.updateTime?ir(o.updateTime):ir(u);return h.isEqual(Ae.min())&&(h=ir(u)),new q1(h,o.transformResults||[])})(t,e)))):[]}function cS(r,e){return{documents:[Xv(r,e.path)]}}function hS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Xv(r,o);const u=(function(v){if(v.length!==0)return e_(Bn.create(v,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((w=>(function(C){return{field:so(C.field),direction:pS(C.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=xd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:t,parent:o}}function dS(r){let e=oS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=(function(k){const C=Zv(k);return C instanceof Bn&&Cv(C)?C.getFilters():[C]})(t.where));let h=[];t.orderBy&&(h=(function(k){return k.map((C=>(function(W){return new Ba(oo(W.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(C)))})(t.orderBy));let f=null;t.limit&&(f=(function(k){let C;return C=typeof k=="object"?k.value:k,lc(C)?null:C})(t.limit));let g=null;t.startAt&&(g=(function(k){const C=!!k.before,j=k.values||[];return new Xu(j,C)})(t.startAt));let v=null;return t.endAt&&(v=(function(k){const C=!k.before,j=k.values||[];return new Xu(j,C)})(t.endAt)),x1(e,o,h,u,f,"F",g,v)}function fS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zv(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=oo(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(t.unaryFilter.field);return ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}})(r):r.fieldFilter!==void 0?(function(t){return ft.create(oo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Bn.create(t.compositeFilter.filters.map((s=>Zv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}})(t.compositeFilter.op))})(r):Se()}function pS(r){return tS[r]}function mS(r){return nS[r]}function gS(r){return rS[r]}function so(r){return{fieldPath:r.canonicalString()}}function oo(r){return Nt.fromServerFormat(r.fieldPath)}function e_(r){return r instanceof ft?(function(t){if(t.op==="=="){if(Ug(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(Fg(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ug(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(Fg(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:mS(t.op),value:t.value}}})(r):r instanceof Bn?(function(t){const s=t.getFilters().map((o=>e_(o)));return s.length===1?s[0]:{compositeFilter:{op:gS(t.op),filters:s}}})(r):Se()}function yS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function t_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class hi{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),f=Vt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vS{constructor(e){this.ct=e}}function _S(r){const e=dS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cd(e,e.limit,"L"):e}class wS{constructor(){this.un=new ES}addToCollectionParentIndex(e,t){return this.un.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(yi.min())}updateCollectionGroup(e,t,s){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class ES{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(Xe.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(Xe.comparator)).toArray()}}class yo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yo(0)}static kn(){return new yo(-1)}}class TS{constructor(){this.changes=new Ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Va(s.mutation,o,jn.empty(),_t.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const o=es();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=ka();return u.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=es();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,s,o){let u=Vr();const h=Da(),f=(function(){return Da()})();return t.forEach(((g,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof us)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Va(w.mutation,v,w.mutation.getFieldMask(),_t.now())):h.set(v.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>{var k;return f.set(v,new IS(w,(k=h.get(v))!==null&&k!==void 0?k:null))})),f)))}recalculateAndSaveOverlays(e,t){const s=Da();let o=new rt(((h,f)=>h-f)),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const v=t.get(g);if(v===null)return;let w=s.get(g)||jn.empty();w=f.applyToLocalView(v,w),s.set(g,w);const k=(o.get(f.batchId)||De()).add(g);o=o.insert(f.batchId,k)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,w=g.value,k=Fv();w.forEach((C=>{if(!u.has(C)){const j=qv(t.get(C),s.get(C));j!==null&&k.set(C,j),u=u.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,k))}return Y.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Y.resolve(es());let f=-1,g=u;return h.next((v=>Y.forEach(v,((w,k)=>(f<k.largestBatchId&&(f=k.largestBatchId),u.get(w)?Y.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{g=g.insert(w,C)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,De()))).next((w=>({batchId:f,changes:Mv(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((s=>{let o=ka();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ka();return this.indexManager.getCollectionParents(e,u).next((f=>Y.forEach(f,(g=>{const v=(function(k,C){return new So(C,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((k,C)=>{h=h.insert(k,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,jt.newInvalidDocument(w)))}));let f=ka();return h.forEach(((g,v)=>{const w=u.get(g);w!==void 0&&Va(w.mutation,v,jn.empty(),_t.now()),cc(t,v)&&(f=f.insert(g,v))})),f}))}}class AS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Y.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:_S(o.bundledQuery),readTime:ir(o.readTime)}})(t)),Y.resolve()}}class kS{constructor(){this.overlays=new rt(me.comparator),this.Ir=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=es();return Y.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.ht(e,t,u)})),Y.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(s)),Y.resolve()}getOverlaysForCollection(e,t,s){const o=es(),u=t.length+1,h=new me(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new rt(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=es(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=es(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,w)=>f.set(v,w))),!(f.size()>=o)););return Y.resolve(f)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Q1(t,s));let u=this.Ir.get(t);u===void 0&&(u=De(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}class RS{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}class mf{constructor(){this.Tr=new Dt(At.Er),this.dr=new Dt(At.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new At(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new At(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new me(new Xe([])),s=new At(t,e),o=new At(t,e+1),u=[];return this.dr.forEachInRange([s,o],(h=>{this.Vr(h),u.push(h.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new me(new Xe([])),s=new At(t,e),o=new At(t,e+1);let u=De();return this.dr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new At(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return me.comparator(e.key,t.key)||je(e.wr,t.wr)}static Ar(e,t){return je(e.wr,t.wr)||me.comparator(e.key,t.key)}}class PS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dt(At.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new G1(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.br=this.br.add(new At(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(h)}lookupMutationBatch(e,t){return Y.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return Y.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],(h=>{const f=this.Dr(h.wr);u.push(f)})),Y.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(je);return t.forEach((o=>{const u=new At(o,0),h=new At(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],(f=>{s=s.add(f.wr)}))})),Y.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new At(new me(u),0);let f=new Dt(je);return this.br.forEachWhile((g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.wr)),!0)}),h),Y.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){$e(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return Y.forEach(t.mutations,(o=>{const u=new At(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new At(t,0),o=this.br.firstAfterOrEqual(s);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class CS{constructor(e){this.Mr=e,this.docs=(function(){return new rt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Y.resolve(s?s.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let s=Vr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():jt.newInvalidDocument(o))})),Y.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Vr();const h=t.path,f=new me(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||h1(c1(w),s)<=0||(o.has(w.key)||cc(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return Y.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}Or(e,t){return Y.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new xS(this)}getSize(e){return Y.resolve(this.size)}}class xS extends TS{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),Y.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class NS{constructor(e){this.persistence=e,this.Nr=new Ao((t=>af(t)),lf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mf,this.targetCount=0,this.kr=yo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Kn(t),Y.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach(((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Y.waitFor(u).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return Y.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),Y.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Y.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return Y.resolve(s)}containsKey(e,t){return Y.resolve(this.Br.containsKey(t))}}class DS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new nf(0),this.Kr=!1,this.Kr=!0,this.$r=new RS,this.referenceDelegate=e(this),this.Ur=new NS(this),this.indexManager=new wS,this.remoteDocumentCache=(function(o){return new CS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new vS(t),this.Gr=new AS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new PS(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new VS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,t){return Y.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class VS extends f1{constructor(e){super(),this.currentSequenceNumber=e}}class gf{constructor(e){this.persistence=e,this.Jr=new mf,this.Yr=null}static Zr(e){return new gf(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),Y.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,(s=>{const o=me.fromPath(s);return this.ei(e,o).next((u=>{u||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Y.or([()=>Y.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class yf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=De(),o=De();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yf(e,t.fromCache,s,o)}}class bS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class OS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Tw()?8:p1(zt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.Zi(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new bS;return this.Xi(e,t,h).next((f=>{if(u.result=f,this.zi)return this.es(e,t,h,f.size)}))})).next((()=>u.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(Ta()<=be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Ta()<=be.DEBUG&&he("QueryEngine","Query:",io(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Ta()<=be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):Y.resolve())}Yi(e,t){if($g(t))return Y.resolve(null);let s=nr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Cd(t,null,"F"),s=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=De(...u);return this.Ji.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,s).next((g=>{const v=this.ts(t,f);return this.ns(t,v,h,g.readTime)?this.Yi(e,Cd(t,null,"F")):this.rs(e,v,t,g)}))))})))))}Zi(e,t,s,o){return $g(t)||o.isEqual(Ae.min())?Y.resolve(null):this.Ji.getDocuments(e,s).next((u=>{const h=this.ts(t,u);return this.ns(t,h,s,o)?Y.resolve(null):(Ta()<=be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(t)),this.rs(e,h,t,u1(o,-1)).next((f=>f)))}))}ts(e,t){let s=new Dt(Ov(e));return t.forEach(((o,u)=>{cc(e,u)&&(s=s.add(u))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return Ta()<=be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",io(t)),this.Ji.getDocumentsMatchingQuery(e,t,yi.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}class LS{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new rt(je),this._s=new Ao((u=>af(u)),lf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function MS(r,e,t,s){return new LS(r,e,t,s)}async function n_(r,e){const t=ke(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],f=[];let g=De();for(const v of o){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){f.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((v=>({hs:v,removedBatchIds:h,addedBatchIds:f})))}))}))}function FS(r,e){const t=ke(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return(function(f,g,v,w){const k=v.batch,C=k.keys();let j=Y.resolve();return C.forEach((W=>{j=j.next((()=>w.getEntry(g,W))).next(($=>{const q=v.docVersions.get(W);$e(q!==null),$.version.compareTo(q)<0&&(k.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),w.addEntry($)))}))})),j.next((()=>f.mutationQueue.removeMutationBatch(g,k)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let g=De();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function r_(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function US(r,e){const t=ke(r),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const f=[];e.targetChanges.forEach(((w,k)=>{const C=o.get(k);if(!C)return;f.push(t.Ur.removeMatchingKeys(u,w.removedDocuments,k).next((()=>t.Ur.addMatchingKeys(u,w.addedDocuments,k))));let j=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(k)!==null?j=j.withResumeToken(Vt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(w.resumeToken,s)),o=o.insert(k,j),(function($,q,ie){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(C,j,w)&&f.push(t.Ur.updateTargetData(u,j))}));let g=Vr(),v=De();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))})),f.push(jS(u,h,e.documentUpdates).next((w=>{g=w.Ps,v=w.Is}))),!s.isEqual(Ae.min())){const w=t.Ur.getLastRemoteSnapshotVersion(u).next((k=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s)));f.push(w)}return Y.waitFor(f).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(t.os=o,u)))}function jS(r,e,t){let s=De(),o=De();return t.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Vr();return t.forEach(((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):he("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)})),{Ps:h,Is:o}}))}function zS(r,e){const t=ke(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function BS(r,e){const t=ke(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((u=>u?(o=u,Y.resolve(o)):t.Ur.allocateTargetId(s).next((h=>(o=new hi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function bd(r,e,t){const s=ke(r),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!tl(h))throw h;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function ey(r,e,t){const s=ke(r);let o=Ae.min(),u=De();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,w){const k=ke(g),C=k._s.get(w);return C!==void 0?Y.resolve(k.os.get(C)):k.Ur.getTargetData(v,w)})(s,h,nr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,f.targetId).next((g=>{u=g}))})).next((()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:De()))).next((f=>($S(s,D1(e),f),{documents:f,Ts:u})))))}function $S(r,e,t){let s=r.us.get(e)||Ae.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.us.set(e,s)}class ty{constructor(){this.activeTargetIds=F1()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(){this.so=new ty,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ty,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HS{_o(e){}shutdown(){}}class ny{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ru=null;function ad(){return Ru===null?Ru=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ru++,"0x"+Ru.toString(16)}const WS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ft="WebChannelConnection";class GS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,h){const f=ad(),g=this.xo(t,s.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,u,h),this.No(t,g,v,o).then((w=>(he("RestConnection",`Received RPC '${t}' ${f}: `,w),w)),(w=>{throw fo("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",o),w}))}Lo(t,s,o,u,h,f){return this.Mo(t,s,o,u,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,h)=>t[h]=u)),o&&o.headers.forEach(((u,h)=>t[h]=u))}xo(t,s){const o=WS[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=ad();return new Promise(((h,f)=>{const g=new yv;g.setWithCredentials(!0),g.listenOnce(vv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Lu.NO_ERROR:const w=g.getResponseJson();he(Ft,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Lu.TIMEOUT:he(Ft,`RPC '${e}' ${u} timed out`),f(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const k=g.getStatus();if(he(Ft,`RPC '${e}' ${u} failed with status:`,k,"response text:",g.getResponseText()),k>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const j=C?.error;if(j&&j.status&&j.message){const W=(function(q){const ie=q.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ie)>=0?ie:K.UNKNOWN})(j.status);f(new ae(W,j.message))}else f(new ae(K.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ae(K.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(Ft,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);he(Ft,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)}))}Bo(e,t,s){const o=ad(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ev(),f=wv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");he(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,g);const k=h.createWebChannel(w,g);let C=!1,j=!1;const W=new KS({Io:q=>{j?he(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(C||(he(Ft,`Opening RPC '${e}' stream ${o} transport.`),k.open(),C=!0),he(Ft,`RPC '${e}' stream ${o} sending:`,q),k.send(q))},To:()=>k.close()}),$=(q,ie,ne)=>{q.listen(ie,(z=>{try{ne(z)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return $(k,Aa.EventType.OPEN,(()=>{j||(he(Ft,`RPC '${e}' stream ${o} transport opened.`),W.yo())})),$(k,Aa.EventType.CLOSE,(()=>{j||(j=!0,he(Ft,`RPC '${e}' stream ${o} transport closed`),W.So())})),$(k,Aa.EventType.ERROR,(q=>{j||(j=!0,fo(Ft,`RPC '${e}' stream ${o} transport errored:`,q),W.So(new ae(K.UNAVAILABLE,"The operation could not be completed")))})),$(k,Aa.EventType.MESSAGE,(q=>{var ie;if(!j){const ne=q.data[0];$e(!!ne);const z=ne,Z=z.error||((ie=z[0])===null||ie===void 0?void 0:ie.error);if(Z){he(Ft,`RPC '${e}' stream ${o} received error:`,Z);const Te=Z.status;let pe=(function(I){const N=dt[I];if(N!==void 0)return Wv(N)})(Te),P=Z.message;pe===void 0&&(pe=K.INTERNAL,P="Unknown error status: "+Te+" with message "+Z.message),j=!0,W.So(new ae(pe,P)),k.close()}else he(Ft,`RPC '${e}' stream ${o} received:`,ne),W.bo(ne)}})),$(f,_v.STAT_EVENT,(q=>{q.stat===Id.PROXY?he(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Id.NOPROXY&&he(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.wo()}),0),W}}function ld(){return typeof document<"u"?document:null}function pc(r){return new iS(r,!0)}class i_{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class s_{constructor(e,t,s,o,u,h,f,g){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new i_(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new ae(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QS extends s_{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=aS(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?ir(h.readTime):Ae.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=Vd(this.serializer),t.addTarget=(function(u,h){let f;const g=h.target;if(f=Rd(g)?{documents:cS(u,g)}:{query:hS(u,g)._t},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Qv(u,h.resumeToken);const v=xd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Zu(u,h.snapshotVersion.toTimestamp());const v=xd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}return f})(this.serializer,e);const s=fS(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=Vd(this.serializer),t.removeTarget=e,this.a_(t)}}class YS extends s_{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=uS(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=Vd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>lS(this.serializer,s)))};this.a_(t)}}class XS extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Mo(e,Nd(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(K.UNKNOWN,u.toString())}))}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Lo(e,Nd(t,s),o,h,f,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae(K.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class JS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(t),this.D_=!1):he("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class ZS{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((h=>{s.enqueueAndForget((async()=>{cs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const v=ke(g);v.L_.add(4),await il(v),v.q_.set("Unknown"),v.L_.delete(4),await mc(v)})(this))}))})),this.q_=new JS(s,o)}}async function mc(r){if(cs(r))for(const e of r.B_)await e(!0)}async function il(r){for(const e of r.B_)await e(!1)}function o_(r,e){const t=ke(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Ef(t)?wf(t):ko(t).r_()&&_f(t,e))}function vf(r,e){const t=ke(r),s=ko(t);t.N_.delete(e),s.r_()&&a_(t,e),t.N_.size===0&&(s.r_()?s.o_():cs(t)&&t.q_.set("Unknown"))}function _f(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ko(r).A_(e)}function a_(r,e){r.Q_.xe(e),ko(r).R_(e)}function wf(r){r.Q_=new eS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.q_.v_()}function Ef(r){return cs(r)&&!ko(r).n_()&&r.N_.size>0}function cs(r){return ke(r).L_.size===0}function l_(r){r.Q_=void 0}async function eA(r){r.q_.set("Online")}async function tA(r){r.N_.forEach(((e,t)=>{_f(r,e)}))}async function nA(r,e){l_(r),Ef(r)?(r.q_.M_(e),wf(r)):r.q_.set("Unknown")}async function rA(r,e,t){if(r.q_.set("Online"),e instanceof Gv&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const f of u.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.N_.delete(f),o.Q_.removeTarget(f))})(r,e)}catch(s){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ec(r,s)}else if(e instanceof Uu?r.Q_.Ke(e):e instanceof Kv?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ae.min()))try{const s=await r_(r.localStore);t.compareTo(s)>=0&&await(function(u,h){const f=u.Q_.rt(h);return f.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.N_.get(v);w&&u.N_.set(v,w.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,v)=>{const w=u.N_.get(g);if(!w)return;u.N_.set(g,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),a_(u,g);const k=new hi(w.target,g,v,w.sequenceNumber);_f(u,k)})),u.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(s){he("RemoteStore","Failed to raise snapshot:",s),await ec(r,s)}}async function ec(r,e,t){if(!tl(e))throw e;r.L_.add(1),await il(r),r.q_.set("Offline"),t||(t=()=>r_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await mc(r)}))}function u_(r,e){return e().catch((t=>ec(r,t,e)))}async function gc(r){const e=ke(r),t=_i(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iA(e);)try{const o=await zS(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,sA(e,o)}catch(o){await ec(e,o)}c_(e)&&h_(e)}function iA(r){return cs(r)&&r.O_.length<10}function sA(r,e){r.O_.push(e);const t=_i(r);t.r_()&&t.V_&&t.m_(e.mutations)}function c_(r){return cs(r)&&!_i(r).n_()&&r.O_.length>0}function h_(r){_i(r).start()}async function oA(r){_i(r).p_()}async function aA(r){const e=_i(r);for(const t of r.O_)e.m_(t.mutations)}async function lA(r,e,t){const s=r.O_.shift(),o=df.from(s,e,t);await u_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await gc(r)}async function uA(r,e){e&&_i(r).V_&&await(async function(s,o){if((function(h){return X1(h)&&h!==K.ABORTED})(o.code)){const u=s.O_.shift();_i(s).s_(),await u_(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gc(s)}})(r,e),c_(r)&&h_(r)}async function ry(r,e){const t=ke(r);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const s=cs(t);t.L_.add(3),await il(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await mc(t)}async function cA(r,e){const t=ke(r);e?(t.L_.delete(2),await mc(t)):e||(t.L_.add(2),await il(t),t.q_.set("Unknown"))}function ko(r){return r.K_||(r.K_=(function(t,s,o){const u=ke(t);return u.w_(),new QS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Eo:eA.bind(null,r),Ro:tA.bind(null,r),mo:nA.bind(null,r),d_:rA.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Ef(r)?wf(r):r.q_.set("Unknown")):(await r.K_.stop(),l_(r))}))),r.K_}function _i(r){return r.U_||(r.U_=(function(t,s,o){const u=ke(t);return u.w_(),new YS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:oA.bind(null,r),mo:uA.bind(null,r),f_:aA.bind(null,r),g_:lA.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await gc(r)):(await r.U_.stop(),r.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class Tf{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new Tf(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function If(r,e){if(Dr("AsyncQueue",`${e}: ${r}`),tl(r))return new ae(K.UNAVAILABLE,`${e}: ${r}`);throw r}class co{constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=ka(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class iy{constructor(){this.W_=new rt(me.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class vo{constructor(e,t,s,o,u,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new vo(e,t,co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class hA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class dA{constructor(){this.queries=sy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=ke(t),u=o.queries;o.queries=sy(),u.forEach(((h,f)=>{for(const g of f.j_)g.onError(s)}))})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function sy(){return new Ao((r=>bv(r)),uc)}async function d_(r,e){const t=ke(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new hA,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=If(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&Sf(t)}async function f_(r,e){const t=ke(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fA(r,e){const t=ke(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.j_)f.X_(o)&&(s=!0);h.z_=o}}s&&Sf(t)}function pA(r,e,t){const s=ke(r),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function Sf(r){r.Y_.forEach((e=>{e.next()}))}var Od,oy;(oy=Od||(Od={})).ea="default",oy.Cache="cache";class p_{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Od.Cache}}class m_{constructor(e){this.key=e}}class g_{constructor(e){this.key=e}}class mA{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=Ov(e),this.Ra=new co(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new iy,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,k)=>{const C=o.get(w),j=cc(this.query,k)?k:null,W=!!C&&this.mutatedKeys.has(C.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let q=!1;C&&j?C.data.isEqual(j.data)?W!==$&&(s.track({type:3,doc:j}),q=!0):this.ga(C,j)||(s.track({type:2,doc:j}),q=!0,(g&&this.Aa(j,g)>0||v&&this.Aa(j,v)<0)&&(f=!0)):!C&&j?(s.track({type:0,doc:j}),q=!0):C&&!j&&(s.track({type:1,doc:C}),q=!0,(g||v)&&(f=!0)),q&&(j?(h=h.add(j),u=$?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{Ra:h,fa:s,ns:f,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((w,k)=>(function(j,W){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return $(j)-$(W)})(w.type,k.type)||this.Aa(w.doc,k.doc))),this.pa(s),o=o!=null&&o;const f=t&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,v=g!==this.Ea;return this.Ea=g,h.length!==0||v?{snapshot:new vo(this.query,e.Ra,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new g_(s))})),this.da.forEach((s=>{e.has(s)||t.push(new m_(s))})),t}ba(e){this.Ta=e.Ts,this.da=De();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yA{constructor(e){this.key=e,this.va=!1}}class vA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Ao((f=>bv(f)),uc),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(me.comparator),this.Na=new Map,this.La=new mf,this.Ba={},this.ka=new Map,this.qa=yo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _A(r,e,t=!0){const s=T_(r);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await y_(s,e,t,!0),o}async function wA(r,e){const t=T_(r);await y_(t,e,!0,!1)}async function y_(r,e,t,s){const o=await BS(r.localStore,nr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await EA(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&o_(r.remoteStore,o),f}async function EA(r,e,t,s,o){r.Ka=(k,C,j)=>(async function($,q,ie,ne){let z=q.view.ma(ie);z.ns&&(z=await ey($.localStore,q.query,!1).then((({documents:P})=>q.view.ma(P,z))));const Z=ne&&ne.targetChanges.get(q.targetId),Te=ne&&ne.targetMismatches.get(q.targetId)!=null,pe=q.view.applyChanges(z,$.isPrimaryClient,Z,Te);return ly($,q.targetId,pe.wa),pe.snapshot})(r,k,C,j);const u=await ey(r.localStore,e,!0),h=new mA(e,u.Ts),f=h.ma(u.documents),g=rl.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);ly(r,t,v.wa);const w=new gA(e,t,h);return r.Fa.set(e,w),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),v.snapshot}async function TA(r,e,t){const s=ke(r),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter((h=>!uc(h,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vf(s.remoteStore,o.targetId),Ld(s,o.targetId)})).catch(el)):(Ld(s,o.targetId),await bd(s.localStore,o.targetId,!0))}async function IA(r,e){const t=ke(r),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vf(t.remoteStore,s.targetId))}async function SA(r,e,t){const s=NA(r);try{const o=await(function(h,f){const g=ke(h),v=_t.now(),w=f.reduce(((j,W)=>j.add(W.key)),De());let k,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let W=Vr(),$=De();return g.cs.getEntries(j,w).next((q=>{W=q,W.forEach(((ie,ne)=>{ne.isValidDocument()||($=$.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,W))).next((q=>{k=q;const ie=[];for(const ne of f){const z=W1(ne,k.get(ne.key).overlayedDocument);z!=null&&ie.push(new us(ne.key,z,kv(z.value.mapValue),rr.exists(!0)))}return g.mutationQueue.addMutationBatch(j,v,ie,f)})).next((q=>{C=q;const ie=q.applyToLocalDocumentSet(k,$);return g.documentOverlayCache.saveOverlays(j,q.batchId,ie)}))})).then((()=>({batchId:C.batchId,changes:Mv(k)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let v=h.Ba[h.currentUser.toKey()];v||(v=new rt(je)),v=v.insert(f,g),h.Ba[h.currentUser.toKey()]=v})(s,o.batchId,t),await sl(s,o.changes),await gc(s.remoteStore)}catch(o){const u=If(o,"Failed to persist write");t.reject(u)}}async function v_(r,e){const t=ke(r);try{const s=await US(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Na.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?$e(h.va):o.removedDocuments.size>0&&($e(h.va),h.va=!1))})),await sl(t,s,e)}catch(s){await el(s)}}function ay(r,e,t){const s=ke(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((u,h)=>{const f=h.view.Z_(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=ke(h);g.onlineState=f;let v=!1;g.queries.forEach(((w,k)=>{for(const C of k.j_)C.Z_(f)&&(v=!0)})),v&&Sf(g)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AA(r,e,t){const s=ke(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let h=new rt(me.comparator);h=h.insert(u,jt.newNoDocument(u,Ae.min()));const f=De().add(u),g=new fc(Ae.min(),new Map,new rt(je),h,f);await v_(s,g),s.Oa=s.Oa.remove(u),s.Na.delete(e),Af(s)}else await bd(s.localStore,e,!1).then((()=>Ld(s,e,t))).catch(el)}async function kA(r,e){const t=ke(r),s=e.batch.batchId;try{const o=await FS(t.localStore,e);w_(t,s,null),__(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await sl(t,o)}catch(o){await el(o)}}async function RA(r,e,t){const s=ke(r);try{const o=await(function(h,f){const g=ke(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return g.mutationQueue.lookupMutationBatch(v,f).next((k=>($e(k!==null),w=k.keys(),g.mutationQueue.removeMutationBatch(v,k)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>g.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);w_(s,e,t),__(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await sl(s,o)}catch(o){await el(o)}}function __(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function w_(r,e,t){const s=ke(r);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Ld(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||E_(r,s)}))}function E_(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(vf(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Af(r))}function ly(r,e,t){for(const s of t)s instanceof m_?(r.La.addReference(s.key,e),PA(r,s)):s instanceof g_?(he("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||E_(r,s.key)):Se()}function PA(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(he("SyncEngine","New document in limbo: "+t),r.xa.add(s),Af(r))}function Af(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new me(Xe.fromString(e)),s=r.qa.next();r.Na.set(s,new yA(t)),r.Oa=r.Oa.insert(t,s),o_(r.remoteStore,new hi(nr(uf(t.path)),s,"TargetPurposeLimboResolution",nf.oe))}}async function sl(r,e,t){const s=ke(r),o=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach(((f,g)=>{h.push(s.Ka(g,e,t).then((v=>{var w;if((v||t)&&s.isPrimaryClient){const k=v?!v.fromCache:(w=t?.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,k?"current":"not-current")}if(v){o.push(v);const k=yf.Wi(g.targetId,v);u.push(k)}})))})),await Promise.all(h),s.Ca.d_(o),await(async function(g,v){const w=ke(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>Y.forEach(v,(C=>Y.forEach(C.$i,(j=>w.persistence.referenceDelegate.addReference(k,C.targetId,j))).next((()=>Y.forEach(C.Ui,(j=>w.persistence.referenceDelegate.removeReference(k,C.targetId,j)))))))))}catch(k){if(!tl(k))throw k;he("LocalStore","Failed to update sequence numbers: "+k)}for(const k of v){const C=k.targetId;if(!k.fromCache){const j=w.os.get(C),W=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(W);w.os=w.os.insert(C,$)}}})(s.localStore,u))}async function CA(r,e){const t=ke(r);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const s=await n_(t.localStore,e);t.currentUser=e,(function(u,h){u.ka.forEach((f=>{f.forEach((g=>{g.reject(new ae(K.CANCELLED,h))}))})),u.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await sl(t,s.hs)}}function xA(r,e){const t=ke(r),s=t.Na.get(e);if(s&&s.va)return De().add(s.key);{let o=De();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const f=t.Fa.get(h);o=o.unionWith(f.view.Va)}return o}}function T_(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=v_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AA.bind(null,e),e.Ca.d_=fA.bind(null,e.eventManager),e.Ca.$a=pA.bind(null,e.eventManager),e}function NA(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RA.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return MS(this.persistence,new OS,e.initialUser,this.serializer)}Ga(e){return new DS(gf.Zr,this.serializer)}Wa(e){return new qS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class Md{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ay(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CA.bind(null,this.syncEngine),await cA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dA})()}createDatastore(e){const t=pc(e.databaseInfo.databaseId),s=(function(u){return new GS(u)})(e.databaseInfo);return(function(u,h,f,g){return new XS(u,h,f,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,f){return new ZS(s,o,u,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>ay(this.syncEngine,t,0)),(function(){return ny.D()?new ny:new HS})())}createSyncEngine(e,t){return(function(o,u,h,f,g,v,w){const k=new vA(o,u,h,f,g,v);return w&&(k.Qa=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=ke(o);he("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await il(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Md.provider={build:()=>new Md};class I_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class DA{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=Iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=If(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ud(r,e){r.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await n_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await VA(r);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>ry(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ry(e.remoteStore,o))),r._onlineComponents=e}async function VA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await ud(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),await ud(r,new tc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await ud(r,new tc);return r._offlineComponents}async function S_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await uy(r,r._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await uy(r,new Md))),r._onlineComponents}function bA(r){return S_(r).then((e=>e.syncEngine))}async function A_(r){const e=await S_(r),t=e.eventManager;return t.onListen=_A.bind(null,e.syncEngine),t.onUnlisten=TA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IA.bind(null,e.syncEngine),t}function OA(r,e,t={}){const s=new Pr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,f,g,v){const w=new I_({next:C=>{w.Za(),h.enqueueAndForget((()=>f_(u,k)));const j=C.docs.has(f);!j&&C.fromCache?v.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&g&&g.source==="server"?v.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),k=new p_(uf(f.path),w,{includeMetadataChanges:!0,_a:!0});return d_(u,k)})(await A_(r),r.asyncQueue,e,t,s))),s.promise}function LA(r,e,t={}){const s=new Pr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,f,g,v){const w=new I_({next:C=>{w.Za(),h.enqueueAndForget((()=>f_(u,k))),C.fromCache&&g.source==="server"?v.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),k=new p_(f,w,{includeMetadataChanges:!0,_a:!0});return d_(u,k)})(await A_(r),r.asyncQueue,e,t,s))),s.promise}function k_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cy=new Map;function R_(r,e,t){if(!t)throw new ae(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MA(r,e,t,s){if(e===!0&&s===!0)throw new ae(K.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function hy(r){if(!me.isDocumentKey(r))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dy(r){if(me.isDocumentKey(r))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se()}function wi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yc(r);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class fy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new e1;switch(s.type){case"firstParty":return new i1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=cy.get(t);s&&(he("ComponentProvider","Removing Datastore"),cy.delete(t),s.terminate())})(this),Promise.resolve()}}function FA(r,e,t,s={}){var o;const u=(r=wi(r,vc))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ut.MOCK_USER;else{f=mw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ut(v)}r._authCredentials=new t1(new Tv(f,g))}}class hs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class nn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class gi extends hs{constructor(e,t,s){super(e,t,uf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new me(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function UA(r,e,...t){if(r=Kt(r),R_("collection","path",e),r instanceof vc){const s=Xe.fromString(e,...t);return dy(s),new gi(r,null,s)}{if(!(r instanceof nn||r instanceof gi))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Xe.fromString(e,...t));return dy(s),new gi(r.firestore,null,s)}}function kf(r,e,...t){if(r=Kt(r),arguments.length===1&&(e=Iv.newId()),R_("doc","path",e),r instanceof vc){const s=Xe.fromString(e,...t);return hy(s),new nn(r,null,new me(s))}{if(!(r instanceof nn||r instanceof gi))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Xe.fromString(e,...t));return hy(s),new nn(r.firestore,r instanceof gi?r.converter:null,new me(s))}}class py{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new i_(this,"async_queue_retry"),this.Vu=()=>{const s=ld();s&&he("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=ld();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=ld();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Pr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!tl(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f})(s);throw Dr("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Tf.createAndSchedule(this,e,t,s,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class ol extends vc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new py,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new py(e),this._firestoreClient=void 0,await e}}}function jA(r,e){const t=typeof r=="object"?r:Vy(),s=typeof r=="string"?r:"(default)",o=$d(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=fw("firestore");u&&FA(o,...u)}return o}function Rf(r){if(r._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zA(r),r._firestoreClient}function zA(r){var e,t,s;const o=r._freezeSettings(),u=(function(f,g,v,w){return new y1(f,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,k_(w.experimentalLongPollingOptions),w.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new DA(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(f){const g=f?._online.build();return{_offline:f?._offline.build(g),_online:g}})(r._componentsProvider))}class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Vt.fromBase64String(e))}catch(t){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _o(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cf{constructor(e){this._methodName=e}}class xf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}class Nf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}}const BA=/^__.*__$/;class $A{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new nl(e,this.data,t,this.fieldTransforms)}}function P_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Df{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(P_(this.Cu)&&BA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pc(e)}Qu(e,t,s,o=!1){return new Df({Cu:e,methodName:t,qu:s,path:Nt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C_(r){const e=r._freezeSettings(),t=pc(r._databaseId);return new qA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function HA(r,e,t,s,o,u={}){const h=r.Qu(u.merge||u.mergeFields?2:0,e,t,o);D_("Data must be an object, but it was:",h,s);const f=x_(s,h);let g,v;if(u.merge)g=new jn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const k of u.mergeFields){const C=KA(e,k,t);if(!h.contains(C))throw new ae(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);QA(w,C)||w.push(C)}g=new jn(w),v=h.fieldTransforms.filter((k=>g.covers(k.field)))}else g=null,v=h.fieldTransforms;return new $A(new Tn(f),g,v)}class Vf extends Cf{_toFieldTransform(e){return new B1(e.path,new $a)}isEqual(e){return e instanceof Vf}}function WA(r,e,t,s=!1){return bf(t,r.Qu(s?4:3,e))}function bf(r,e){if(N_(r=Kt(r)))return D_("Unsupported field value:",e,r),x_(r,e);if(r instanceof Cf)return(function(s,o){if(!P_(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const f of s){let g=bf(f,o.Lu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return U1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=_t.fromDate(s);return{timestampValue:Zu(o.serializer,u)}}if(s instanceof _t){const u=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zu(o.serializer,u)}}if(s instanceof xf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:Qv(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Nf)return(function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw f.Bu("VectorValues must only contain numeric values.");return cf(f.serializer,g)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${yc(s)}`)})(r,e)}function x_(r,e){const t={};return Sv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(r,((s,o)=>{const u=bf(o,e.Mu(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function N_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof xf||r instanceof _o||r instanceof nn||r instanceof Cf||r instanceof Nf)}function D_(r,e,t){if(!N_(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=yc(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function KA(r,e,t){if((e=Kt(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return V_(r,e);throw nc("Field path arguments must be of type string or ",r,!1,void 0,t)}const GA=new RegExp("[~\\*/\\[\\]]");function V_(r,e,t){if(e.search(GA)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function nc(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ae(K.INVALID_ARGUMENT,f+r+g)}function QA(r,e){return r.some((t=>t.isEqual(e)))}class b_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Of("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YA extends b_{data(){return super.data()}}function Of(r,e){return typeof e=="string"?V_(r,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}function XA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lf{}class O_ extends Lf{}function JA(r,e,...t){let s=[];e instanceof Lf&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((g=>g instanceof Ff)).length,f=u.filter((g=>g instanceof Mf)).length;if(h>1||h>0&&f>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Mf extends O_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Mf(e,t,s)}_apply(e){const t=this._parse(e);return L_(e._query,t),new hs(e.firestore,e.converter,Pd(e._query,t))}_parse(e){const t=C_(e.firestore);return(function(u,h,f,g,v,w,k){let C;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){gy(k,w);const j=[];for(const W of k)j.push(my(g,u,W));C={arrayValue:{values:j}}}else C=my(g,u,k)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||gy(k,w),C=WA(f,h,k,w==="in"||w==="not-in");return ft.create(v,w,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ff extends Lf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ff(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const f=u.getFlattenedFilters();for(const g of f)L_(h,g),h=Pd(h,g)})(e._query,t),new hs(e.firestore,e.converter,Pd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uf extends O_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uf(e,t)}_apply(e){const t=(function(o,u,h){if(o.startAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ba(u,h)})(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new So(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function ZA(r,e="asc"){const t=e,s=Of("orderBy",r);return Uf._create(s,t)}function my(r,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vv(e)&&t.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Xe.fromString(t));if(!me.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Mg(r,new me(s))}if(t instanceof nn)return Mg(r,t._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yc(t)}.`)}function gy(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L_(r,e){const t=(function(o,u){for(const h of o)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ek{convertValue(e,t="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Io(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>ut(h.doubleValue)));return new Nf(u)}convertGeoPoint(e){return new xf(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const t=vi(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Xe.fromString(e);$e(t_(s));const o=new ja(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(t)||Dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function tk(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M_ extends b_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Of("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ju extends M_{data(e={}){return super.data(e)}}class nk{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new ju(this._firestore,this._userDataWriter,s.key,s,new Pa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new ju(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Pa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>u||f.type!==3)).map((f=>{const g=new ju(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Pa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:rk(f.type),doc:g,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function ik(r){r=wi(r,nn);const e=wi(r.firestore,ol);return OA(Rf(e),r._key).then((t=>lk(e,r,t)))}class F_ extends ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,t)}}function sk(r){r=wi(r,hs);const e=wi(r.firestore,ol),t=Rf(e),s=new F_(e);return XA(r._query),LA(t,r._query).then((o=>new nk(e,s,r,o)))}function ok(r,e,t){r=wi(r,nn);const s=wi(r.firestore,ol),o=tk(r.converter,e,t);return U_(s,[HA(C_(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,rr.none())])}function ak(r){return U_(wi(r.firestore,ol),[new hf(r._key,rr.none())])}function U_(r,e){return(function(s,o){const u=new Pr;return s.asyncQueue.enqueueAndForget((async()=>SA(await bA(s),o,u))),u.promise})(Rf(r),e)}function lk(r,e,t){const s=t.docs.get(e._key),o=new F_(r);return new M_(r,o,e._key,s,new Pa(t.hasPendingWrites,t.fromCache),e.converter)}function yy(){return new Vf("serverTimestamp")}(function(e,t=!0){(function(o){To=o})(wo),ho(new is("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new ol(new n1(s.getProvider("auth-internal")),new o1(s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(v.options.projectId,w)})(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f}),"PUBLIC").setMultipleInstances(!0)),mi(Dg,"4.7.3",e),mi(Dg,"4.7.3","esm2017")})();const uk={apiKey:"AIzaSyB1UL7Ji4gqaJ2EX_r1UoZzmZYl-succf4",authDomain:"lastz-power.firebaseapp.com",projectId:"lastz-power",storageBucket:"lastz-power.firebasestorage.app",messagingSenderId:"158054571749",appId:"1:158054571749:web:e223407cf48ec8cb93be0c"},j_=Dy(uk),ns=YI(j_),_c=jA(j_),ck=async(r,e)=>{try{let t=e.gameId.trim();if(t=t.replace(/\//g,"_"),!t)throw new Error("Game ID ");const s=kf(_c,"users",t),o={gameId:e.gameId.trim(),alliance:e.alliance.trim(),team1Power:Number(e.team1Power),team2Power:Number(e.team2Power),team3Power:Number(e.team3Power),updatedAt:yy(),submittedAt:yy()};return await ok(s,o,{merge:!0}),{success:!0}}catch(t){return console.error(":",t),{success:!1,error:t.message}}},hk=async r=>{try{const e=kf(_c,"admins",r),t=await ik(e);return t.exists()&&t.data().isActive?{success:!0,isAdmin:!0,adminData:t.data()}:{success:!0,isAdmin:!1}}catch(e){return console.error(":",e),{success:!1,error:e.message}}},dk=()=>{const[r,e]=_e.useState(null),[t,s]=_e.useState(!1),[o,u]=_e.useState(!0);return _e.useEffect(()=>{const h=UT(ns,async f=>{if(e(f),f){const g=await hk(f.uid);s(g.isAdmin||!1)}else s(!1);u(!1)});return()=>h()},[]),{user:r,isAdmin:t,loading:o}};function z_(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=z_(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function di(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=z_(r))&&(s&&(s+=" "),s+=e);return s}const Wa=r=>typeof r=="number"&&!isNaN(r),rs=r=>typeof r=="string",hn=r=>typeof r=="function",zu=r=>rs(r)||hn(r)?r:null,Fd=r=>_e.isValidElement(r)||rs(r)||hn(r)||Wa(r);function fk(r,e,t){t===void 0&&(t=300);const{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function wc(r){let{enter:e,exit:t,appendPosition:s=!1,collapse:o=!0,collapseDuration:u=300}=r;return function(h){let{children:f,position:g,preventExitTransition:v,done:w,nodeRef:k,isIn:C,playToast:j}=h;const W=s?`${e}--${g}`:e,$=s?`${t}--${g}`:t,q=_e.useRef(0);return _e.useLayoutEffect(()=>{const ie=k.current,ne=W.split(" "),z=Z=>{Z.target===k.current&&(j(),ie.removeEventListener("animationend",z),ie.removeEventListener("animationcancel",z),q.current===0&&Z.type!=="animationcancel"&&ie.classList.remove(...ne))};ie.classList.add(...ne),ie.addEventListener("animationend",z),ie.addEventListener("animationcancel",z)},[]),_e.useEffect(()=>{const ie=k.current,ne=()=>{ie.removeEventListener("animationend",ne),o?fk(ie,w,u):w()};C||(v?ne():(q.current=1,ie.className+=` ${$}`,ie.addEventListener("animationend",ne)))},[C]),qe.createElement(qe.Fragment,null,f)}}function vy(r,e){return r!=null?{content:r.content,containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,status:e}:{}}const Wt=new Map;let Ka=[];const Ud=new Set,pk=r=>Ud.forEach(e=>e(r)),B_=()=>Wt.size>0;function $_(r,e){var t;if(e)return!((t=Wt.get(e))==null||!t.isToastActive(r));let s=!1;return Wt.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function q_(r,e){Fd(r)&&(B_()||Ka.push({content:r,options:e}),Wt.forEach(t=>{t.buildToast(r,e)}))}function _y(r,e){Wt.forEach(t=>{e!=null&&e!=null&&e.containerId?e?.containerId===t.id&&t.toggle(r,e?.id):t.toggle(r,e?.id)})}function mk(r){const{subscribe:e,getSnapshot:t,setProps:s}=_e.useRef((function(u){const h=u.containerId||1;return{subscribe(f){const g=(function(w,k,C){let j=1,W=0,$=[],q=[],ie=[],ne=k;const z=new Map,Z=new Set,Te=()=>{ie=Array.from(z.values()),Z.forEach(T=>T())},pe=T=>{q=T==null?[]:q.filter(I=>I!==T),Te()},P=T=>{const{toastId:I,onOpen:N,updateId:V,children:O}=T.props,A=V==null;T.staleId&&z.delete(T.staleId),z.set(I,T),q=[...q,T.props.toastId].filter(ze=>ze!==T.staleId),Te(),C(vy(T,A?"added":"updated")),A&&hn(N)&&N(_e.isValidElement(O)&&O.props)};return{id:w,props:ne,observe:T=>(Z.add(T),()=>Z.delete(T)),toggle:(T,I)=>{z.forEach(N=>{I!=null&&I!==N.props.toastId||hn(N.toggle)&&N.toggle(T)})},removeToast:pe,toasts:z,clearQueue:()=>{W-=$.length,$=[]},buildToast:(T,I)=>{if((H=>{let{containerId:oe,toastId:ve,updateId:we}=H;const Re=oe?oe!==w:w!==1,Ne=z.has(ve)&&we==null;return Re||Ne})(I))return;const{toastId:N,updateId:V,data:O,staleId:A,delay:ze}=I,et=()=>{pe(N)},ot=V==null;ot&&W++;const Pe={...ne,style:ne.toastStyle,key:j++,...Object.fromEntries(Object.entries(I).filter(H=>{let[oe,ve]=H;return ve!=null})),toastId:N,updateId:V,data:O,closeToast:et,isIn:!1,className:zu(I.className||ne.toastClassName),bodyClassName:zu(I.bodyClassName||ne.bodyClassName),progressClassName:zu(I.progressClassName||ne.progressClassName),autoClose:!I.isLoading&&(ee=I.autoClose,de=ne.autoClose,ee===!1||Wa(ee)&&ee>0?ee:de),deleteToast(){const H=z.get(N),{onClose:oe,children:ve}=H.props;hn(oe)&&oe(_e.isValidElement(ve)&&ve.props),C(vy(H,"removed")),z.delete(N),W--,W<0&&(W=0),$.length>0?P($.shift()):Te()}};var ee,de;Pe.closeButton=ne.closeButton,I.closeButton===!1||Fd(I.closeButton)?Pe.closeButton=I.closeButton:I.closeButton===!0&&(Pe.closeButton=!Fd(ne.closeButton)||ne.closeButton);let re=T;_e.isValidElement(T)&&!rs(T.type)?re=_e.cloneElement(T,{closeToast:et,toastProps:Pe,data:O}):hn(T)&&(re=T({closeToast:et,toastProps:Pe,data:O}));const b={content:re,props:Pe,staleId:A};ne.limit&&ne.limit>0&&W>ne.limit&&ot?$.push(b):Wa(ze)?setTimeout(()=>{P(b)},ze):P(b)},setProps(T){ne=T},setToggle:(T,I)=>{z.get(T).toggle=I},isToastActive:T=>q.some(I=>I===T),getSnapshot:()=>ie}})(h,u,pk);Wt.set(h,g);const v=g.observe(f);return Ka.forEach(w=>q_(w.content,w.options)),Ka=[],()=>{v(),Wt.delete(h)}},setProps(f){var g;(g=Wt.get(h))==null||g.setProps(f)},getSnapshot(){var f;return(f=Wt.get(h))==null?void 0:f.getSnapshot()}}})(r)).current;s(r);const o=_e.useSyncExternalStore(e,t,t);return{getToastToRender:function(u){if(!o)return[];const h=new Map;return r.newestOnTop&&o.reverse(),o.forEach(f=>{const{position:g}=f.props;h.has(g)||h.set(g,[]),h.get(g).push(f)}),Array.from(h,f=>u(f[0],f[1]))},isToastActive:$_,count:o?.length}}function gk(r){const[e,t]=_e.useState(!1),[s,o]=_e.useState(!1),u=_e.useRef(null),h=_e.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:g,closeToast:v,onClick:w,closeOnClick:k}=r;var C,j;function W(){t(!0)}function $(){t(!1)}function q(z){const Z=u.current;h.canDrag&&Z&&(h.didMove=!0,e&&$(),h.delta=r.draggableDirection==="x"?z.clientX-h.start:z.clientY-h.start,h.start!==z.clientX&&(h.canCloseOnClick=!1),Z.style.transform=`translate3d(${r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`},0)`,Z.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function ie(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",ie);const z=u.current;if(h.canDrag&&h.didMove&&z){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return o(!0),r.closeToast(),void r.collapseAll();z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}(j=Wt.get((C={id:r.toastId,containerId:r.containerId,fn:t}).containerId||1))==null||j.setToggle(C.id,C.fn),_e.useEffect(()=>{if(r.pauseOnFocusLoss)return document.hasFocus()||$(),window.addEventListener("focus",W),window.addEventListener("blur",$),()=>{window.removeEventListener("focus",W),window.removeEventListener("blur",$)}},[r.pauseOnFocusLoss]);const ne={onPointerDown:function(z){if(r.draggable===!0||r.draggable===z.pointerType){h.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",ie);const Z=u.current;h.canCloseOnClick=!0,h.canDrag=!0,Z.style.transition="none",r.draggableDirection==="x"?(h.start=z.clientX,h.removalDistance=Z.offsetWidth*(r.draggablePercent/100)):(h.start=z.clientY,h.removalDistance=Z.offsetHeight*(r.draggablePercent===80?1.5*r.draggablePercent:r.draggablePercent)/100)}},onPointerUp:function(z){const{top:Z,bottom:Te,left:pe,right:P}=u.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&r.pauseOnHover&&z.clientX>=pe&&z.clientX<=P&&z.clientY>=Z&&z.clientY<=Te?$():W()}};return f&&g&&(ne.onMouseEnter=$,r.stacked||(ne.onMouseLeave=W)),k&&(ne.onClick=z=>{w&&w(z),h.canCloseOnClick&&v()}),{playToast:W,pauseToast:$,isRunning:e,preventExitTransition:s,toastRef:u,eventHandlers:ne}}function yk(r){let{delay:e,isRunning:t,closeToast:s,type:o="default",hide:u,className:h,style:f,controlledProgress:g,progress:v,rtl:w,isIn:k,theme:C}=r;const j=u||g&&v===0,W={...f,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};g&&(W.transform=`scaleX(${v})`);const $=di("Toastify__progress-bar",g?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${C}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":w}),q=hn(h)?h({rtl:w,type:o,defaultClassName:$}):di($,h),ie={[g&&v>=1?"onTransitionEnd":"onAnimationEnd"]:g&&v<1?null:()=>{k&&s()}};return qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":j},qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${C} Toastify__progress-bar--${o}`}),qe.createElement("div",{role:"progressbar","aria-hidden":j?"true":"false","aria-label":"notification timer",className:q,style:W,...ie}))}let vk=1;const H_=()=>""+vk++;function _k(r){return r&&(rs(r.toastId)||Wa(r.toastId))?r.toastId:H_()}function ba(r,e){return q_(r,e),e.toastId}function rc(r,e){return{...e,type:e&&e.type||r,toastId:_k(e)}}function Pu(r){return(e,t)=>ba(e,rc(r,t))}function xe(r,e){return ba(r,rc("default",e))}xe.loading=(r,e)=>ba(r,rc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),xe.promise=function(r,e,t){let s,{pending:o,error:u,success:h}=e;o&&(s=rs(o)?xe.loading(o,t):xe.loading(o.render,{...t,...o}));const f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(w,k,C)=>{if(k==null)return void xe.dismiss(s);const j={type:w,...f,...t,data:C},W=rs(k)?{render:k}:k;return s?xe.update(s,{...j,...W}):xe(W.render,{...j,...W}),C},v=hn(r)?r():r;return v.then(w=>g("success",h,w)).catch(w=>g("error",u,w)),v},xe.success=Pu("success"),xe.info=Pu("info"),xe.error=Pu("error"),xe.warning=Pu("warning"),xe.warn=xe.warning,xe.dark=(r,e)=>ba(r,rc("default",{theme:"dark",...e})),xe.dismiss=function(r){(function(e){var t;if(B_()){if(e==null||rs(t=e)||Wa(t))Wt.forEach(s=>{s.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const s=Wt.get(e.containerId);s?s.removeToast(e.id):Wt.forEach(o=>{o.removeToast(e.id)})}}else Ka=Ka.filter(s=>e!=null&&s.options.toastId!==e)})(r)},xe.clearWaitingQueue=function(r){r===void 0&&(r={}),Wt.forEach(e=>{!e.props.limit||r.containerId&&e.id!==r.containerId||e.clearQueue()})},xe.isActive=$_,xe.update=function(r,e){e===void 0&&(e={});const t=((s,o)=>{var u;let{containerId:h}=o;return(u=Wt.get(h||1))==null?void 0:u.toasts.get(s)})(r,e);if(t){const{props:s,content:o}=t,u={delay:100,...s,...e,toastId:e.toastId||r,updateId:H_()};u.toastId!==r&&(u.staleId=r);const h=u.render||o;delete u.render,ba(h,u)}},xe.done=r=>{xe.update(r,{progress:1})},xe.onChange=function(r){return Ud.add(r),()=>{Ud.delete(r)}},xe.play=r=>_y(!0,r),xe.pause=r=>_y(!1,r);const wk=typeof window<"u"?_e.useLayoutEffect:_e.useEffect,Cu=r=>{let{theme:e,type:t,isLoading:s,...o}=r;return qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o})},cd={info:function(r){return qe.createElement(Cu,{...r},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(r){return qe.createElement(Cu,{...r},qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(r){return qe.createElement(Cu,{...r},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(r){return qe.createElement(Cu,{...r},qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return qe.createElement("div",{className:"Toastify__spinner"})}},Ek=r=>{const{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:u}=gk(r),{closeButton:h,children:f,autoClose:g,onClick:v,type:w,hideProgressBar:k,closeToast:C,transition:j,position:W,className:$,style:q,bodyClassName:ie,bodyStyle:ne,progressClassName:z,progressStyle:Z,updateId:Te,role:pe,progress:P,rtl:T,toastId:I,deleteToast:N,isIn:V,isLoading:O,closeOnClick:A,theme:ze}=r,et=di("Toastify__toast",`Toastify__toast-theme--${ze}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":A}),ot=hn($)?$({rtl:T,position:W,type:w,defaultClassName:et}):di(et,$),Pe=(function(b){let{theme:H,type:oe,isLoading:ve,icon:we}=b,Re=null;const Ne={theme:H,type:oe};return we===!1||(hn(we)?Re=we({...Ne,isLoading:ve}):_e.isValidElement(we)?Re=_e.cloneElement(we,Ne):ve?Re=cd.spinner():(Me=>Me in cd)(oe)&&(Re=cd[oe](Ne))),Re})(r),ee=!!P||!g,de={closeToast:C,type:w,theme:ze};let re=null;return h===!1||(re=hn(h)?h(de):_e.isValidElement(h)?_e.cloneElement(h,de):(function(b){let{closeToast:H,theme:oe,ariaLabel:ve="close"}=b;return qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${oe}`,type:"button",onClick:we=>{we.stopPropagation(),H(we)},"aria-label":ve},qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))})(de)),qe.createElement(j,{isIn:V,done:N,position:W,preventExitTransition:t,nodeRef:s,playToast:u},qe.createElement("div",{id:I,onClick:v,"data-in":V,className:ot,...o,style:q,ref:s},qe.createElement("div",{...V&&{role:pe},className:hn(ie)?ie({type:w}):di("Toastify__toast-body",ie),style:ne},Pe!=null&&qe.createElement("div",{className:di("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},Pe),qe.createElement("div",null,f)),re,qe.createElement(yk,{...Te&&!ee?{key:`pb-${Te}`}:{},rtl:T,theme:ze,delay:g,isRunning:e,isIn:V,closeToast:C,hide:k,type:w,style:Z,className:z,controlledProgress:ee,progress:P||0})))},Ec=function(r,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}},Tk=wc(Ec("bounce",!0));wc(Ec("slide",!0));wc(Ec("zoom"));wc(Ec("flip"));const Ik={position:"top-right",transition:Tk,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Sk(r){let e={...Ik,...r};const t=r.stacked,[s,o]=_e.useState(!0),u=_e.useRef(null),{getToastToRender:h,isToastActive:f,count:g}=mk(e),{className:v,style:w,rtl:k,containerId:C}=e;function j($){const q=di("Toastify__toast-container",`Toastify__toast-container--${$}`,{"Toastify__toast-container--rtl":k});return hn(v)?v({position:$,rtl:k,defaultClassName:q}):di(q,zu(v))}function W(){t&&(o(!0),xe.play())}return wk(()=>{if(t){var $;const q=u.current.querySelectorAll('[data-in="true"]'),ie=12,ne=($=e.position)==null?void 0:$.includes("top");let z=0,Z=0;Array.from(q).reverse().forEach((Te,pe)=>{const P=Te;P.classList.add("Toastify__toast--stacked"),pe>0&&(P.dataset.collapsed=`${s}`),P.dataset.pos||(P.dataset.pos=ne?"top":"bot");const T=z*(s?.2:1)+(s?0:ie*pe);P.style.setProperty("--y",`${ne?T:-1*T}px`),P.style.setProperty("--g",`${ie}`),P.style.setProperty("--s",""+(1-(s?Z:0))),z+=P.offsetHeight,Z+=.025})}},[s,g,t]),qe.createElement("div",{ref:u,className:"Toastify",id:C,onMouseEnter:()=>{t&&(o(!1),xe.pause())},onMouseLeave:W},h(($,q)=>{const ie=q.length?{...w}:{...w,pointerEvents:"none"};return qe.createElement("div",{className:j($),style:ie,key:`container-${$}`},q.map(ne=>{let{content:z,props:Z}=ne;return qe.createElement(Ek,{...Z,stacked:t,collapseAll:W,isIn:f(Z.toastId,Z.containerId),style:Z.style,key:`toast-${Z.key}`},z)}))}))}function Ak(){const[r,e]=_e.useState(!0),[t,s]=_e.useState(""),[o,u]=_e.useState(""),[h,f]=_e.useState(!1),g=async w=>{w.preventDefault(),f(!0);try{r?(await LT(ns,t,o),xe.success("")):(await OT(ns,t,o),xe.success(""))}catch(k){console.error("Authentication error:",k);let C="";k.code==="auth/email-already-in-use"?C=" Email ":k.code==="auth/invalid-email"?C="Email ":k.code==="auth/weak-password"?C="6":(k.code==="auth/user-not-found"||k.code==="auth/wrong-password"||k.code==="auth/invalid-credential")&&(C="Email "),xe.error(C)}finally{f(!1)}},v=async()=>{f(!0);const w=new Sr;try{await sI(ns,w),xe.success("")}catch(k){console.error("Google sign in error:",k),xe.error("Google ")}finally{f(!1)}};return R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[R.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:""}),R.jsx("div",{className:"mb-6",children:R.jsxs("div",{className:"flex border-b border-gray-200",children:[R.jsx("button",{className:`flex-1 py-2 text-center font-medium transition-colors ${r?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e(!0),children:""}),R.jsx("button",{className:`flex-1 py-2 text-center font-medium transition-colors ${r?"text-gray-500 hover:text-gray-700":"text-blue-600 border-b-2 border-blue-600"}`,onClick:()=>e(!1),children:""})]})}),R.jsxs("form",{onSubmit:g,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),R.jsx("input",{type:"email",value:t,onChange:w=>s(w.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),R.jsx("input",{type:"password",value:o,onChange:w=>u(w.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),R.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:h?"...":r?"":""})]}),R.jsxs("div",{className:"relative my-6",children:[R.jsx("div",{className:"absolute inset-0 flex items-center",children:R.jsx("div",{className:"w-full border-t border-gray-300"})}),R.jsx("div",{className:"relative flex justify-center text-sm",children:R.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),R.jsxs("button",{onClick:v,disabled:h,className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed",children:[R.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[R.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),R.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),R.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),R.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})," Google "]})]})})}var kk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rk=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),it=(r,e)=>{const t=_e.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:f="",children:g,...v},w)=>_e.createElement("svg",{ref:w,...kk,width:o,height:o,stroke:s,strokeWidth:h?Number(u)*24/Number(o):u,className:["lucide",`lucide-${Rk(r)}`,f].join(" "),...v},[...e.map(([k,C])=>_e.createElement(k,C)),...Array.isArray(g)?g:[g]]));return t.displayName=`${r}`,t};const Pk=it("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Ck=it("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const xk=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Nk=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Dk=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Vk=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const bk=it("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const wy=it("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Ok=it("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);const Lk=it("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Mk=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const hd=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Fk=it("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Ey=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Uk=it("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const xu=it("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const dd=it("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);const jk=it("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const zk=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const fd=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Bk=it("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const $k=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const W_=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Nu=r=>r==null||r===""?"0":Number(r).toLocaleString("en-US",{maximumFractionDigits:2}),qk=r=>r?new Date(r).toLocaleString("zh-TW"):"",Hk=r=>{const e={};return r.gameId?.trim()||(e.gameId=" ID "),r.alliance?.trim()||(e.alliance=""),{valid:Object.keys(e).length===0,errors:e}},Wk=({user:r})=>{const[e,t]=_e.useState({gameId:"",alliance:"",team1Power:"",team2Power:"",team3Power:""}),[s,o]=_e.useState({}),[u,h]=_e.useState(!1),[f,g]=_e.useState(null);_e.useEffect(()=>{const C=localStorage.getItem("game_power_last_entry"),j=localStorage.getItem("game_power_last_time");C&&t(JSON.parse(C)),j&&g(j)},[]);const v=C=>{const{name:j,value:W}=C.target;t($=>({...$,[j]:W})),s[j]&&o($=>({...$,[j]:""}))},w=async C=>{C.preventDefault();const j=Hk(e);if(!j.valid){o(j.errors);return}h(!0);try{const W={gameId:e.gameId,alliance:e.alliance,team1Power:Number(e.team1Power||0),team2Power:Number(e.team2Power||0),team3Power:Number(e.team3Power||0)},$=await ck(r.uid,W);if($.success){const q=new Date().toISOString();xe.success(" "),g(q),localStorage.setItem("game_power_last_entry",JSON.stringify(e)),localStorage.setItem("game_power_last_time",q)}else xe.error(""+$.error),o({submit:""+$.error})}catch(W){xe.error(""+W.message),o({submit:""+W.message})}finally{h(!1)}},k=Number(e.team1Power||0)+Number(e.team2Power||0)+Number(e.team3Power||0);return R.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[R.jsxs("div",{className:"text-center space-y-2",children:[R.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight flex items-center justify-center gap-2",children:[R.jsx(Bk,{className:"text-yellow-500"})," "]}),R.jsx("p",{className:"text-gray-500",children:""})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[R.jsx("form",{onSubmit:w,className:"lg:col-span-3 space-y-6",children:R.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100 p-8 space-y-6",children:[s.submit&&R.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm rounded-r-lg animate-pulse",children:s.submit}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[R.jsx($k,{size:16,className:"text-blue-500"}),"  ID *"]}),R.jsx("input",{type:"text",name:"gameId",value:e.gameId,onChange:v,className:`w-full px-4 py-3 rounded-xl border transition-all duration-200 outline-none focus:ring-2 ${s.gameId?"border-red-300 ring-red-100 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-100 hover:border-gray-300"}`,placeholder:": KingArthas"}),s.gameId&&R.jsx("p",{className:"text-xs text-red-500 mt-1",children:s.gameId})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[R.jsx(W_,{size:16,className:"text-green-500"}),"  *"]}),R.jsx("input",{type:"text",name:"alliance",value:e.alliance,onChange:v,className:`w-full px-4 py-3 rounded-xl border transition-all duration-200 outline-none focus:ring-2 ${s.alliance?"border-red-300 ring-red-100 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-100 hover:border-gray-300"}`,placeholder:": LastHope"}),s.alliance&&R.jsx("p",{className:"text-xs text-red-500 mt-1",children:s.alliance})]})]}),R.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),R.jsxs("div",{className:"space-y-5",children:[R.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-bold mb-2",children:[R.jsx(jk,{className:"text-red-500",size:18})," "]}),R.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{name:"team1Power",label:"",icon:R.jsx(xu,{size:16}),color:"blue"},{name:"team2Power",label:"",icon:R.jsx(xu,{size:16}),color:"indigo"},{name:"team3Power",label:"",icon:R.jsx(xu,{size:16}),color:"purple"}].map(C=>R.jsxs("div",{className:"relative group",children:[R.jsx("div",{className:"flex justify-between items-center mb-1",children:R.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1",children:[C.icon," ",C.label]})}),R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"number",step:"any",name:C.name,value:e[C.name],onChange:v,className:"w-full px-4 py-3 pl-10 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all hover:border-gray-300 font-mono text-lg",placeholder:"0"}),R.jsxs("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold italic group-hover:text-indigo-400 transition-colors",children:["S",C.name.charAt(4)]})]})]},C.name))})]}),R.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all duration-300 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transform active:scale-[0.98] flex items-center justify-center gap-2",children:u?R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):R.jsxs(R.Fragment,{children:[R.jsx(Fk,{size:18})," "]})})]})}),R.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[R.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-blue-700 rounded-2xl p-6 text-white shadow-xl shadow-indigo-100 flex flex-col justify-between h-[180px] relative overflow-hidden",children:[R.jsxs("div",{className:"relative z-10",children:[R.jsx("p",{className:"text-indigo-100 text-sm font-medium opacity-80",children:""}),R.jsx("h3",{className:"text-4xl font-black mt-2 tracking-tighter tabular-nums",children:Nu(k)})]}),R.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-xs text-indigo-100 opacity-60",children:" ID"}),R.jsx("p",{className:"font-bold truncate max-w-[120px]",children:e.gameId||""})]}),R.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-lg p-2 flex items-center gap-2 border border-white/20",children:[R.jsx(wy,{size:16}),R.jsx("span",{className:"text-xs font-bold uppercase tracking-widest leading-none",children:"Status"})]})]}),R.jsx("div",{className:"absolute -right-4 -top-4 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),R.jsx("div",{className:"absolute -left-4 -bottom-4 w-24 h-24 bg-indigo-400/20 rounded-full blur-xl"})]}),R.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100 p-6 space-y-4",children:[R.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-3",children:[R.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-sm uppercase",children:[R.jsx(wy,{size:14,className:"text-gray-400"})," "]}),f&&R.jsxs("span",{className:"text-[10px] text-gray-400 font-medium",children:[qk(f)," "]})]}),R.jsx("div",{className:"space-y-3",children:[{label:" ID",value:e.gameId},{label:"",value:e.alliance},{label:"",value:Nu(e.team1Power),emphasize:!0},{label:"",value:Nu(e.team2Power),emphasize:!0},{label:"",value:Nu(e.team3Power),emphasize:!0}].map((C,j)=>R.jsxs("div",{className:"flex justify-between items-center text-sm group",children:[R.jsx("span",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:C.label}),R.jsx("span",{className:`font-bold ${C.emphasize?"text-gray-700 font-mono":"text-gray-800"}`,children:C.value||(j<2?"---":"0")})]},j))}),R.jsx("div",{className:"pt-4 mt-2 border-t border-dashed border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-2 text-blue-600 font-bold text-xs p-3 bg-blue-50 rounded-xl border border-blue-100",children:[R.jsx(xu,{size:14}),R.jsx("span",{children:""})]})})]})]})]})]})},Kk=async()=>{try{const r=UA(_c,"users"),e=JA(r,ZA("updatedAt","desc")),t=await sk(e),s=[];return t.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(r){throw console.error(":",r),new Error(r.message||"")}},Gk=async r=>{try{return await ak(kf(_c,"users",r)),{success:!0}}catch(e){throw console.error(":",e),new Error("")}},Qk=r=>{if(!r||r.length===0)return{totalUsers:0,averageTeam1Power:0,averageTeam2Power:0,averageTeam3Power:0,averageTotalPower:0,maxTotalPower:0,minTotalPower:0};const e=r.map(f=>{const g=Number(f.team1Power)||0,v=Number(f.team2Power)||0,w=Number(f.team3Power)||0;return{team1:g,team2:v,team3:w,total:g+v+w}}),t=e.reduce((f,g)=>f+g.team1,0),s=e.reduce((f,g)=>f+g.team2,0),o=e.reduce((f,g)=>f+g.team3,0),u=e.reduce((f,g)=>f+g.total,0),h=e.map(f=>f.total);return{totalUsers:r.length,averageTeam1Power:Math.round(t/r.length),averageTeam2Power:Math.round(s/r.length),averageTeam3Power:Math.round(o/r.length),averageTotalPower:Math.round(u/r.length),maxTotalPower:Math.max(...h),minTotalPower:Math.min(...h)}},Yk=r=>r==null||r===""?"0":Number(r).toLocaleString("en-US",{maximumFractionDigits:2}),Ty=r=>{if(!r)return"";const e=r.toDate?r.toDate():new Date(r),t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),u=String(e.getHours()).padStart(2,"0"),h=String(e.getMinutes()).padStart(2,"0");return`${t}-${s}-${o} ${u}:${h}`},Xi=r=>Yk(r),Xk=()=>{const[r,e]=_e.useState([]),[t,s]=_e.useState(!0),[o,u]=_e.useState(""),[h,f]=_e.useState(null),[g,v]=_e.useState(""),[w,k]=_e.useState({key:"submittedAt",direction:"desc"});_e.useEffect(()=>{C()},[]);const C=async()=>{s(!0),u("");try{const z=await Kk();Array.isArray(z)&&(e(z),f(Qk(z)))}catch(z){u(""+z.message),xe.error("")}finally{s(!1)}},j=z=>{let Z="desc";w.key===z&&w.direction==="desc"&&(Z="asc"),k({key:z,direction:Z})},W=async(z,Z)=>{if(window.confirm(`  ${Z} `))try{const Te=await Gk(z);Te.success?(xe.success(""),C()):xe.error(""+Te.error)}catch(Te){xe.error(""+Te.message)}},$=r.filter(z=>z.gameId?.toLowerCase().includes(g.toLowerCase())||z.alliance?.toLowerCase().includes(g.toLowerCase())).sort((z,Z)=>{let Te,pe;return w.key==="totalPower"?(Te=(z.team1Power||0)+(z.team2Power||0)+(z.team3Power||0),pe=(Z.team1Power||0)+(Z.team2Power||0)+(Z.team3Power||0)):(Te=z[w.key],pe=Z[w.key]),Te<pe?w.direction==="asc"?-1:1:Te>pe?w.direction==="asc"?1:-1:0}),q={totalUsers:$.length,avgTeam1:$.length>0?Math.round($.reduce((z,Z)=>z+(Z.team1Power||0),0)/$.length):0,avgTeam2:$.length>0?Math.round($.reduce((z,Z)=>z+(Z.team2Power||0),0)/$.length):0,avgTeam3:$.length>0?Math.round($.reduce((z,Z)=>z+(Z.team3Power||0),0)/$.length):0},ie=()=>{const z=["ID","","","","","",""],Z=$.map(T=>[T.gameId,T.alliance,T.team1Power,T.team2Power,T.team3Power,(T.team1Power||0)+(T.team2Power||0)+(T.team3Power||0),Ty(T.submittedAt)]),Te=[z.join(","),...Z.map(T=>T.join(","))].join(`
`),pe=new Blob(["\uFEFF"+Te],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a");P.href=URL.createObjectURL(pe),P.download=`_${new Date().toISOString().split("T")[0]}.csv`,P.click(),xe.info(" CSV...")},ne=z=>w.key!==z?R.jsx(hd,{size:12,className:"opacity-20 translate-y-[2px]"}):w.direction==="asc"?R.jsx(Dk,{size:14,className:"text-blue-500"}):R.jsx(xk,{size:14,className:"text-blue-500"});return t?R.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4",children:[R.jsx(hd,{className:"w-10 h-10 text-blue-500 animate-spin"}),R.jsx("p",{className:"text-gray-500 font-medium",children:"..."})]}):R.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[R.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[R.jsxs("div",{className:"space-y-1",children:[R.jsxs("h2",{className:"text-2xl font-black text-gray-900 tracking-tight flex items-center gap-2",children:[R.jsx(Pk,{className:"text-indigo-600"})," "]}),R.jsx("p",{className:"text-sm text-gray-500",children:""})]}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs("button",{onClick:C,className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm flex items-center gap-2 text-sm font-bold",children:[R.jsx(hd,{size:16})," ",R.jsx("span",{className:"hidden sm:inline",children:""})]}),R.jsxs("button",{onClick:ie,className:"p-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100 flex items-center gap-2 text-sm font-bold",children:[R.jsx(Vk,{size:16})," "]})]})]}),h&&R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"",value:$.length,icon:R.jsx(W_,{}),color:"blue"},{label:"S1 ",value:Xi(q.avgTeam1),icon:R.jsx(fd,{}),color:"green"},{label:"S2 ",value:Xi(q.avgTeam2),icon:R.jsx(fd,{}),color:"indigo"},{label:"S3 ",value:Xi(q.avgTeam3),icon:R.jsx(fd,{}),color:"purple"}].map((z,Z)=>R.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4 group hover:shadow-md transition-shadow",children:[R.jsx("div",{className:`w-12 h-12 rounded-xl bg-${z.color}-50 text-${z.color}-600 flex items-center justify-center group-hover:scale-110 transition-transform`,children:z.icon}),R.jsxs("div",{children:[R.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:z.label}),R.jsx("p",{className:"text-xl font-black text-gray-800 tracking-tight",children:z.value})]})]},Z))}),R.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-xl shadow-gray-200/40 relative overflow-hidden",children:[R.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/30 flex flex-col sm:flex-row gap-4",children:[R.jsxs("div",{className:"relative flex-grow",children:[R.jsx(Ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),R.jsx("input",{type:"text",placeholder:"  ID  ...",value:g,onChange:z=>v(z.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 outline-none transition-all text-sm"})]}),R.jsx("div",{className:"flex items-center gap-2",children:R.jsxs("button",{className:"px-4 py-2.5 bg-white border border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 transition-all text-xs font-bold flex items-center gap-2",children:[R.jsx(bk,{size:14})," "]})})]}),R.jsx("div",{className:"overflow-x-auto",children:R.jsxs("table",{className:"w-full text-left border-collapse",children:[R.jsx("thead",{children:R.jsxs("tr",{className:"bg-gray-50/50",children:[[{key:"gameId",label:" ID"},{key:"alliance",label:""},{key:"team1Power",label:"S1 "},{key:"team2Power",label:"S2 "},{key:"team3Power",label:"S3 "},{key:"totalPower",label:"",focus:!0},{key:"submittedAt",label:""}].map(z=>R.jsx("th",{onClick:()=>j(z.key),className:`px-6 py-4 text-[11px] font-black uppercase tracking-wider cursor-pointer hover:bg-gray-100/50 transition-colors select-none ${z.focus?"text-indigo-600 bg-indigo-50/10":"text-gray-400"}`,children:R.jsxs("div",{className:"flex items-center justify-between gap-1",children:[z.label,ne(z.key)]})},z.key)),R.jsx("th",{className:"px-6 py-4 text-[11px] font-black text-gray-400 uppercase tracking-wider text-right",children:""})]})}),R.jsx("tbody",{className:"divide-y divide-gray-100",children:$.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:"8",className:"px-6 py-20 text-center",children:R.jsxs("div",{className:"flex flex-col items-center space-y-2 opacity-30",children:[R.jsx(Ey,{size:40}),R.jsx("p",{className:"font-bold",children:g?"":""})]})})}):$.map(z=>{const Z=(z.team1Power||0)+(z.team2Power||0)+(z.team3Power||0);return R.jsxs("tr",{className:"group hover:bg-indigo-50/20 transition-colors",children:[R.jsx("td",{className:"px-6 py-4",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-[10px] font-black text-gray-500",children:z.gameId?.substring(0,2).toUpperCase()}),R.jsx("span",{className:"font-bold text-gray-700",children:z.gameId})]})}),R.jsx("td",{className:"px-6 py-4",children:R.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-gray-100 text-gray-600 text-[11px] font-bold",children:z.alliance})}),R.jsx("td",{className:"px-6 py-4 font-mono text-sm text-gray-500",children:Xi(z.team1Power)}),R.jsx("td",{className:"px-6 py-4 font-mono text-sm text-gray-500",children:Xi(z.team2Power)}),R.jsx("td",{className:"px-6 py-4 font-mono text-sm text-gray-500",children:Xi(z.team3Power)}),R.jsx("td",{className:"px-6 py-4",children:R.jsx("span",{className:"font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-600 font-mono text-base tracking-tighter",children:Xi(Z)})}),R.jsx("td",{className:"px-6 py-4",children:R.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs",children:[R.jsx(Ck,{size:12}),Ty(z.submittedAt).split(" ")[0]]})}),R.jsx("td",{className:"px-6 py-4 text-right",children:R.jsx("button",{onClick:()=>W(z.id,z.gameId),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"",children:R.jsx(zk,{size:16})})})]},z.id)})})]})}),R.jsxs("div",{className:"p-4 bg-gray-50/50 border-t border-gray-100 text-[10px] text-gray-400 font-bold uppercase tracking-widest flex justify-between",children:[R.jsx("span",{children:" V2.0 "}),R.jsxs("span",{children:[": ",$.length]})]})]})]})};function Jk(){const[r,e]=_e.useState("form"),[t,s]=_e.useState(!1),{user:o,isAdmin:u,loading:h}=dk();_e.useEffect(()=>{const w=localStorage.getItem("isLoginMode")==="true";!h&&!o&&!t&&!w&&NT(ns).catch(k=>{console.error(":",k)}),!o&&w&&s(!0)},[o,h,t]),_e.useEffect(()=>{o&&(localStorage.removeItem("isLoginMode"),s(!1))},[o]);const f=async()=>{try{localStorage.removeItem("isLoginMode"),s(!1),await Eg(ns)}catch(w){console.error(":",w)}},g=async()=>{localStorage.setItem("isLoginMode","true"),s(!0),await Eg(ns)},v=()=>{localStorage.removeItem("isLoginMode"),s(!1)};return h?R.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 space-y-4",children:[R.jsx(Lk,{className:"w-10 h-10 text-blue-600 animate-spin"}),R.jsx("p",{className:"text-gray-500 font-medium animate-pulse",children:"..."})]}):t&&!o?R.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-blue-100 via-white to-indigo-100 flex flex-col items-center justify-center p-4",children:R.jsxs("div",{className:"w-full max-w-md animate-in fade-in zoom-in duration-500",children:[R.jsx(Ak,{}),R.jsx("button",{onClick:v,className:"w-full mt-6 py-3 text-gray-400 hover:text-gray-600 text-sm font-bold flex items-center justify-center gap-2 transition-colors border border-transparent hover:border-gray-200 rounded-xl",children:" "})]})}):o?R.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex flex-col font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[R.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-gray-100 shadow-sm",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-18 flex justify-between items-center",children:[R.jsxs("div",{className:"flex items-center gap-3 group cursor-default",children:[R.jsx("div",{className:"w-10 h-10 bg-gradient-to-tr from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200 group-hover:rotate-12 transition-transform duration-300",children:R.jsx(dd,{className:"text-white w-6 h-6"})}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-lg font-black text-gray-900 tracking-tight leading-none",children:""}),R.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-[0.2em] mt-1 opacity-80",children:"Alliance Intel V2"})]})]}),R.jsxs("div",{className:"flex items-center gap-6",children:[R.jsxs("div",{className:"hidden md:flex items-center gap-4 py-1.5 px-3 bg-gray-50 rounded-full border border-gray-100",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:`w-2 h-2 rounded-full ${o.isAnonymous?"bg-orange-400 animate-pulse":"bg-green-500"}`}),R.jsx("span",{className:"text-xs font-bold text-gray-600 tracking-wide",children:o.isAnonymous?"":o.email?.split("@")[0]})]}),u&&R.jsx("span",{className:"bg-indigo-600 text-[10px] text-white px-2 py-0.5 rounded-full font-black uppercase tracking-wider shadow-sm",children:"ADMIN"})]}),!o.isAnonymous&&R.jsx("button",{onClick:f,className:"group flex items-center gap-2 text-gray-400 hover:text-red-500 transition-colors p-2 rounded-lg hover:bg-red-50",title:"",children:R.jsx(Mk,{size:20,className:"group-hover:-translate-x-0.5 transition-transform"})})]})]})}),R.jsx("main",{className:"flex-grow",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12",children:[u&&R.jsxs("div",{className:"inline-flex p-1 bg-white border border-gray-200 rounded-2xl mb-10 shadow-sm",children:[R.jsxs("button",{onClick:()=>e("form"),className:`flex items-center gap-2 py-2.5 px-6 rounded-xl text-sm font-bold transition-all duration-300 ${r==="form"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[R.jsx(Ok,{size:18})," "]}),R.jsxs("button",{onClick:()=>e("admin"),className:`flex items-center gap-2 py-2.5 px-6 rounded-xl text-sm font-bold transition-all duration-300 ${r==="admin"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[R.jsx(Uk,{size:18})," "]})]}),R.jsx("div",{className:"relative",children:r==="admin"&&u?R.jsx(Xk,{}):R.jsx(Wk,{user:o})})]})}),R.jsx("footer",{className:"bg-white border-t border-gray-100 py-12 px-4",children:R.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[R.jsxs("div",{className:"flex flex-col items-center md:items-start gap-2",children:[R.jsxs("div",{className:"flex items-center gap-2 opacity-30 grayscale",children:[R.jsx(dd,{size:20}),R.jsx("span",{className:"font-black text-lg tracking-tighter",children:"COMBAT TRACKER"})]}),R.jsx("p",{className:"text-gray-400 text-xs font-medium",children:" 2026   "})]}),R.jsxs("div",{className:"flex items-center gap-8",children:[R.jsxs("div",{className:"text-[10px] font-black text-gray-300 uppercase tracking-[0.3em] hidden sm:block",children:["Intel Status: ",R.jsx("span",{className:"text-green-500",children:"Operational"})]}),o.isAnonymous&&R.jsxs("button",{onClick:g,className:"group flex items-center gap-2 py-2 px-4 rounded-full border border-gray-200 text-[11px] font-black text-gray-500 hover:bg-gray-900 hover:text-white hover:border-gray-900 transition-all shadow-sm",children:[" ",R.jsx(Nk,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]})]})]})}),R.jsx(Sk,{position:"top-center",autoClose:3e3,hideProgressBar:!1})]}):R.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 space-y-4",children:[R.jsx(dd,{className:"w-12 h-12 text-blue-600 animate-bounce"}),R.jsx("div",{className:"text-gray-600 font-black tracking-widest uppercase text-xs",children:"Preparing Combat Environment..."})]})}sw.createRoot(document.getElementById("root")).render(R.jsx(qe.StrictMode,{children:R.jsx(Jk,{})}));
