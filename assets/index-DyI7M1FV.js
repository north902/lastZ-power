(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Ny(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ed={exports:{}},Ta={},td={exports:{}},be={};var eg;function ow(){if(eg)return be;eg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,q={};function B(O,H,ae){this.props=O,this.context=H,this.refs=q,this.updater=ae||j}B.prototype.isReactComponent={},B.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=B.prototype;function ie(O,H,ae){this.props=O,this.context=H,this.refs=q,this.updater=ae||j}var ee=ie.prototype=new te;ee.constructor=ie,z(ee,B.prototype),ee.isPureReactComponent=!0;var oe=Array.isArray,Ce=Object.prototype.hasOwnProperty,Ee={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(O,H,ae){var we,Ie={},Re=null,De=null;if(H!=null)for(we in H.ref!==void 0&&(De=H.ref),H.key!==void 0&&(Re=""+H.key),H)Ce.call(H,we)&&!N.hasOwnProperty(we)&&(Ie[we]=H[we]);var je=arguments.length-2;if(je===1)Ie.children=ae;else if(1<je){for(var Ge=Array(je),wt=0;wt<je;wt++)Ge[wt]=arguments[wt+2];Ie.children=Ge}if(O&&O.defaultProps)for(we in je=O.defaultProps,je)Ie[we]===void 0&&(Ie[we]=je[we]);return{$$typeof:r,type:O,key:Re,ref:De,props:Ie,_owner:Ee.current}}function S(O,H){return{$$typeof:r,type:O.type,key:H,ref:O.ref,props:O.props,_owner:O._owner}}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function b(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return H[ae]})}var V=/\/+/g;function k(O,H){return typeof O=="object"&&O!==null&&O.key!=null?b(""+O.key):H.toString(36)}function ze(O,H,ae,we,Ie){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(Re){case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case r:case e:De=!0}}if(De)return De=O,Ie=Ie(De),O=we===""?"."+k(De,0):we,oe(Ie)?(ae="",O!=null&&(ae=O.replace(V,"$&/")+"/"),ze(Ie,H,ae,"",function(wt){return wt})):Ie!=null&&(R(Ie)&&(Ie=S(Ie,ae+(!Ie.key||De&&De.key===Ie.key?"":(""+Ie.key).replace(V,"$&/")+"/")+O)),H.push(Ie)),1;if(De=0,we=we===""?".":we+":",oe(O))for(var je=0;je<O.length;je++){Re=O[je];var Ge=we+k(Re,je);De+=ze(Re,H,ae,Ge,Ie)}else if(Ge=P(O),typeof Ge=="function")for(O=Ge.call(O),je=0;!(Re=O.next()).done;)Re=Re.value,Ge=we+k(Re,je++),De+=ze(Re,H,ae,Ge,Ie);else if(Re==="object")throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return De}function J(O,H,ae){if(O==null)return O;var we=[],Ie=0;return ze(O,we,"","",function(Re){return H.call(ae,Re,Ie++)}),we}function Te(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var ye={current:null},Y={transition:null},ce={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Y,ReactCurrentOwner:Ee};function ne(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:J,forEach:function(O,H,ae){J(O,function(){H.apply(this,arguments)},ae)},count:function(O){var H=0;return J(O,function(){H++}),H},toArray:function(O){return J(O,function(H){return H})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=B,be.Fragment=t,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,be.act=ne,be.cloneElement=function(O,H,ae){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var we=z({},O.props),Ie=O.key,Re=O.ref,De=O._owner;if(H!=null){if(H.ref!==void 0&&(Re=H.ref,De=Ee.current),H.key!==void 0&&(Ie=""+H.key),O.type&&O.type.defaultProps)var je=O.type.defaultProps;for(Ge in H)Ce.call(H,Ge)&&!N.hasOwnProperty(Ge)&&(we[Ge]=H[Ge]===void 0&&je!==void 0?je[Ge]:H[Ge])}var Ge=arguments.length-2;if(Ge===1)we.children=ae;else if(1<Ge){je=Array(Ge);for(var wt=0;wt<Ge;wt++)je[wt]=arguments[wt+2];we.children=je}return{$$typeof:r,type:O.type,key:Ie,ref:Re,props:we,_owner:De}},be.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},be.createElement=T,be.createFactory=function(O){var H=T.bind(null,O);return H.type=O,H},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:f,render:O}},be.isValidElement=R,be.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:Te}},be.memo=function(O,H){return{$$typeof:_,type:O,compare:H===void 0?null:H}},be.startTransition=function(O){var H=Y.transition;Y.transition={};try{O()}finally{Y.transition=H}},be.unstable_act=ne,be.useCallback=function(O,H){return ye.current.useCallback(O,H)},be.useContext=function(O){return ye.current.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O){return ye.current.useDeferredValue(O)},be.useEffect=function(O,H){return ye.current.useEffect(O,H)},be.useId=function(){return ye.current.useId()},be.useImperativeHandle=function(O,H,ae){return ye.current.useImperativeHandle(O,H,ae)},be.useInsertionEffect=function(O,H){return ye.current.useInsertionEffect(O,H)},be.useLayoutEffect=function(O,H){return ye.current.useLayoutEffect(O,H)},be.useMemo=function(O,H){return ye.current.useMemo(O,H)},be.useReducer=function(O,H,ae){return ye.current.useReducer(O,H,ae)},be.useRef=function(O){return ye.current.useRef(O)},be.useState=function(O){return ye.current.useState(O)},be.useSyncExternalStore=function(O,H,ae){return ye.current.useSyncExternalStore(O,H,ae)},be.useTransition=function(){return ye.current.useTransition()},be.version="18.3.1",be}var tg;function Gd(){return tg||(tg=1,td.exports=ow()),td.exports}var ng;function aw(){if(ng)return Ta;ng=1;var r=Gd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,_){var w,x={},P=null,j=null;_!==void 0&&(P=""+_),g.key!==void 0&&(P=""+g.key),g.ref!==void 0&&(j=g.ref);for(w in g)s.call(g,w)&&!l.hasOwnProperty(w)&&(x[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)x[w]===void 0&&(x[w]=g[w]);return{$$typeof:e,type:f,key:P,ref:j,props:x,_owner:o.current}}return Ta.Fragment=t,Ta.jsx=h,Ta.jsxs=h,Ta}var rg;function lw(){return rg||(rg=1,ed.exports=aw()),ed.exports}var I=lw(),me=Gd();const We=Ny(me);var Su={},nd={exports:{}},nn={},rd={exports:{}},id={};var ig;function uw(){return ig||(ig=1,(function(r){function e(Y,ce){var ne=Y.length;Y.push(ce);e:for(;0<ne;){var O=ne-1>>>1,H=Y[O];if(0<o(H,ce))Y[O]=ce,Y[ne]=H,ne=O;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ce=Y[0],ne=Y.pop();if(ne!==ce){Y[0]=ne;e:for(var O=0,H=Y.length,ae=H>>>1;O<ae;){var we=2*(O+1)-1,Ie=Y[we],Re=we+1,De=Y[Re];if(0>o(Ie,ne))Re<H&&0>o(De,Ie)?(Y[O]=De,Y[Re]=ne,O=Re):(Y[O]=Ie,Y[we]=ne,O=we);else if(Re<H&&0>o(De,ne))Y[O]=De,Y[Re]=ne,O=Re;else break e}}return ce}function o(Y,ce){var ne=Y.sortIndex-ce.sortIndex;return ne!==0?ne:Y.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],_=[],w=1,x=null,P=3,j=!1,z=!1,q=!1,B=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(Y){for(var ce=t(_);ce!==null;){if(ce.callback===null)s(_);else if(ce.startTime<=Y)s(_),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(_)}}function oe(Y){if(q=!1,ee(Y),!z)if(t(g)!==null)z=!0,Te(Ce);else{var ce=t(_);ce!==null&&ye(oe,ce.startTime-Y)}}function Ce(Y,ce){z=!1,q&&(q=!1,te(T),T=-1),j=!0;var ne=P;try{for(ee(ce),x=t(g);x!==null&&(!(x.expirationTime>ce)||Y&&!b());){var O=x.callback;if(typeof O=="function"){x.callback=null,P=x.priorityLevel;var H=O(x.expirationTime<=ce);ce=r.unstable_now(),typeof H=="function"?x.callback=H:x===t(g)&&s(g),ee(ce)}else s(g);x=t(g)}if(x!==null)var ae=!0;else{var we=t(_);we!==null&&ye(oe,we.startTime-ce),ae=!1}return ae}finally{x=null,P=ne,j=!1}}var Ee=!1,N=null,T=-1,S=5,R=-1;function b(){return!(r.unstable_now()-R<S)}function V(){if(N!==null){var Y=r.unstable_now();R=Y;var ce=!0;try{ce=N(!0,Y)}finally{ce?k():(Ee=!1,N=null)}}else Ee=!1}var k;if(typeof ie=="function")k=function(){ie(V)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,J=ze.port2;ze.port1.onmessage=V,k=function(){J.postMessage(null)}}else k=function(){B(V,0)};function Te(Y){N=Y,Ee||(Ee=!0,k())}function ye(Y,ce){T=B(function(){Y(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_continueExecution=function(){z||j||(z=!0,Te(Ce))},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return P},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(Y){switch(P){case 1:case 2:case 3:var ce=3;break;default:ce=P}var ne=P;P=ce;try{return Y()}finally{P=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=P;P=Y;try{return ce()}finally{P=ne}},r.unstable_scheduleCallback=function(Y,ce,ne){var O=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?O+ne:O):ne=O,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ne+H,Y={id:w++,callback:ce,priorityLevel:Y,startTime:ne,expirationTime:H,sortIndex:-1},ne>O?(Y.sortIndex=ne,e(_,Y),t(g)===null&&Y===t(_)&&(q?(te(T),T=-1):q=!0,ye(oe,ne-O))):(Y.sortIndex=H,e(g,Y),z||j||(z=!0,Te(Ce))),Y},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(Y){var ce=P;return function(){var ne=P;P=ce;try{return Y.apply(this,arguments)}finally{P=ne}}}})(id)),id}var sg;function cw(){return sg||(sg=1,rd.exports=uw()),rd.exports}var og;function hw(){if(og)return nn;og=1;var r=Gd(),e=cw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function P(n){return g.call(x,n)?!0:g.call(w,n)?!1:_.test(n)?x[n]=!0:(w[n]=!0,!1)}function j(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function z(n,i,a,c){if(i===null||typeof i>"u"||j(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function q(n,i,a,c,d,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){B[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];B[i]=new q(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){B[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){B[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){B[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){B[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){B[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){B[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){B[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function ie(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(te,ie);B[i]=new q(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(te,ie);B[i]=new q(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(te,ie);B[i]=new q(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){B[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),B.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){B[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function ee(n,i,a,c){var d=B.hasOwnProperty(i)?B[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(z(i,a,d,c)&&(a=null),c||d===null?P(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var oe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),b=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=Y&&n[Y]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,O;function H(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+n}var ae=!1;function we(n,i){if(!n||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var c=U}Reflect.construct(n,[],i)}else{try{i.call()}catch(U){c=U}n.call(i.prototype)}else{try{throw Error()}catch(U){c=U}n()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,A=m.length-1;1<=v&&0<=A&&d[v]!==m[A];)A--;for(;1<=v&&0<=A;v--,A--)if(d[v]!==m[A]){if(v!==1||A!==1)do if(v--,A--,0>A||d[v]!==m[A]){var C=`
`+d[v].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=v&&0<=A);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?H(n):""}function Ie(n){switch(n.tag){case 5:return H(n.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return n=we(n.type,!1),n;case 11:return n=we(n.type.render,!1),n;case 1:return n=we(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Ee:return"Portal";case S:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case ze:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case b:return(n.displayName||"Context")+".Consumer";case R:return(n._context.displayName||"Context")+".Provider";case V:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case Te:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function De(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ge(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=Ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ar(n){n._valueTracker||(n._valueTracker=wt(n))}function fs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Ge(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Mr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Si(n,i){var a=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ps(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=je(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Po(n,i){i=i.checked,i!=null&&ee(n,"checked",i,!1)}function Ro(n,i){Po(n,i);var a=je(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ms(n,i.type,a):i.hasOwnProperty("defaultValue")&&ms(n,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function ul(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ms(n,i,a){(i!=="number"||Mr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var lr=Array.isArray;function ur(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+je(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Co(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function gs(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(lr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:je(a)}}function ys(n,i){var a=je(i.value),c=je(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function No(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?pt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var cr,bo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=cr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Fr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ki=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(n){ki.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ai[i]=Ai[n]})});function Do(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ai.hasOwnProperty(n)&&Ai[n]?(""+i).trim():i+"px"}function Vo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Do(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Oo=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lo(n,i){if(i){if(Oo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Mo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xi=null;function _s(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vs=null,pn=null,qn=null;function ws(n){if(n=aa(n)){if(typeof vs!="function")throw Error(t(280));var i=n.stateNode;i&&(i=jl(i),vs(n.stateNode,n.type,i))}}function Hn(n){pn?qn?qn.push(n):qn=[n]:pn=n}function Fo(){if(pn){var n=pn,i=qn;if(qn=pn=null,ws(n),i)for(n=0;n<i.length;n++)ws(i[n])}}function Pi(n,i){return n(i)}function jo(){}var hr=!1;function Uo(n,i,a){if(hr)return n(i,a);hr=!0;try{return Pi(n,i,a)}finally{hr=!1,(pn!==null||qn!==null)&&(jo(),Fo())}}function at(n,i){var a=n.stateNode;if(a===null)return null;var c=jl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Es=!1;if(f)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Es=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Es=!1}function Ri(n,i,a,c,d,m,v,A,C){var U=Array.prototype.slice.call(arguments,3);try{i.apply(a,U)}catch(G){this.onError(G)}}var Ci=!1,Ts=null,xn=!1,zo=null,Pc={onError:function(n){Ci=!0,Ts=n}};function Is(n,i,a,c,d,m,v,A,C){Ci=!1,Ts=null,Ri.apply(Pc,arguments)}function cl(n,i,a,c,d,m,v,A,C){if(Is.apply(this,arguments),Ci){if(Ci){var U=Ts;Ci=!1,Ts=null}else throw Error(t(198));xn||(xn=!0,zo=U)}}function Pn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ni(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Rn(n){if(Pn(n)!==n)throw Error(t(188))}function hl(n){var i=n.alternate;if(!i){if(i=Pn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Rn(d),n;if(m===c)return Rn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var v=!1,A=d.child;A;){if(A===a){v=!0,a=d,c=m;break}if(A===c){v=!0,c=d,a=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===a){v=!0,a=m,c=d;break}if(A===c){v=!0,c=m,a=d;break}A=A.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Bo(n){return n=hl(n),n!==null?Ss(n):null}function Ss(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Ss(n);if(i!==null)return i;n=n.sibling}return null}var As=e.unstable_scheduleCallback,$o=e.unstable_cancelCallback,dl=e.unstable_shouldYield,Rc=e.unstable_requestPaint,Qe=e.unstable_now,fl=e.unstable_getCurrentPriorityLevel,bi=e.unstable_ImmediatePriority,jr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,qo=e.unstable_LowPriority,pl=e.unstable_IdlePriority,Di=null,sn=null;function ml(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Di,n,void 0,(n.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:yl,Ho=Math.log,gl=Math.LN2;function yl(n){return n>>>=0,n===0?32:31-(Ho(n)/gl|0)|0}var ks=64,xs=4194304;function Ur(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var A=v&~d;A!==0?c=Ur(A):(m&=v,m!==0&&(c=Ur(m)))}else v=a&~d,v!==0?c=Ur(v):m!==0&&(c=Ur(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-$t(i),d=1<<a,c|=n[a],i&=~d;return c}function Cc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-$t(m),A=1<<v,C=d[v];C===-1?((A&a)===0||(A&c)!==0)&&(d[v]=Cc(A,i)):C<=i&&(n.expiredLanes|=A),m&=~A}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Oi(){var n=ks;return ks<<=1,(ks&4194240)===0&&(ks=64),n}function zr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Br(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-$t(i),n[i]=a}function Ke(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-$t(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function $r(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-$t(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Oe=0;function qr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _l,Ps,vl,wl,El,Wo=!1,Wn=[],xt=null,Cn=null,Nn=null,Hr=new Map,gn=new Map,Kn=[],Nc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(n,i){switch(n){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Hr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(i.pointerId)}}function Qt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=aa(i),i!==null&&Ps(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function bc(n,i,a,c,d){switch(i){case"focusin":return xt=Qt(xt,n,i,a,c,d),!0;case"dragenter":return Cn=Qt(Cn,n,i,a,c,d),!0;case"mouseover":return Nn=Qt(Nn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return Hr.set(m,Qt(Hr.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,gn.set(m,Qt(gn.get(m)||null,n,i,a,c,d)),!0}return!1}function Il(n){var i=Ui(n.target);if(i!==null){var a=Pn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ni(a),i!==null){n.blockedOn=i,El(n.priority,function(){vl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Rs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);xi=c,a.target.dispatchEvent(c),xi=null}else return i=aa(a),i!==null&&Ps(i),n.blockedOn=a,!1;i.shift()}return!0}function Li(n,i,a){fr(n)&&a.delete(i)}function Sl(){Wo=!1,xt!==null&&fr(xt)&&(xt=null),Cn!==null&&fr(Cn)&&(Cn=null),Nn!==null&&fr(Nn)&&(Nn=null),Hr.forEach(Li),gn.forEach(Li)}function bn(n,i){n.blockedOn===i&&(n.blockedOn=null,Wo||(Wo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sl)))}function Dn(n){function i(d){return bn(d,n)}if(0<Wn.length){bn(Wn[0],n);for(var a=1;a<Wn.length;a++){var c=Wn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(xt!==null&&bn(xt,n),Cn!==null&&bn(Cn,n),Nn!==null&&bn(Nn,n),Hr.forEach(i),gn.forEach(i),a=0;a<Kn.length;a++)c=Kn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Kn.length&&(a=Kn[0],a.blockedOn===null);)Il(a),a.blockedOn===null&&Kn.shift()}var pr=oe.ReactCurrentBatchConfig,Wr=!0;function tt(n,i,a,c){var d=Oe,m=pr.transition;pr.transition=null;try{Oe=1,Ko(n,i,a,c)}finally{Oe=d,pr.transition=m}}function Dc(n,i,a,c){var d=Oe,m=pr.transition;pr.transition=null;try{Oe=4,Ko(n,i,a,c)}finally{Oe=d,pr.transition=m}}function Ko(n,i,a,c){if(Wr){var d=Rs(n,i,a,c);if(d===null)qc(n,i,c,Mi,a),Tl(n,c);else if(bc(d,n,i,a,c))c.stopPropagation();else if(Tl(n,c),i&4&&-1<Nc.indexOf(n)){for(;d!==null;){var m=aa(d);if(m!==null&&_l(m),m=Rs(n,i,a,c),m===null&&qc(n,i,c,Mi,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else qc(n,i,c,null,a)}}var Mi=null;function Rs(n,i,a,c){if(Mi=null,n=_s(c),n=Ui(n),n!==null)if(i=Pn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ni(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Mi=n,null}function Go(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fl()){case bi:return 1;case jr:return 4;case mn:case qo:return 16;case pl:return 536870912;default:return 16}default:return 16}}var an=null,Cs=null,Yt=null;function Qo(){if(Yt)return Yt;var n,i=Cs,a=i.length,c,d="value"in an?an.value:an.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===d[m-c];c++);return Yt=d.slice(n,1<c?1-c:void 0)}function Ns(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Gn(){return!0}function Yo(){return!1}function Pt(n){function i(a,c,d,m,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gn:Yo,this.isPropagationStopped=Yo,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),i}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=Pt(Vn),Qn=ne({},Vn,{view:0,detail:0}),Vc=Pt(Qn),Ds,mr,Kr,Fi=ne({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(Ds=n.screenX-Kr.screenX,mr=n.screenY-Kr.screenY):mr=Ds=0,Kr=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:mr}}),Vs=Pt(Fi),Xo=ne({},Fi,{dataTransfer:0}),Al=Pt(Xo),Os=ne({},Qn,{relatedTarget:0}),Ls=Pt(Os),kl=ne({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),gr=Pt(kl),xl=ne({},Vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pl=Pt(xl),Rl=ne({},Vn,{data:0}),Jo=Pt(Rl),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Cl[n])?!!i[n]:!1}function Yn(){return Nl}var u=ne({},Qn,{key:function(n){if(n.key){var i=Ms[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ns(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(n){return n.type==="keypress"?Ns(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ns(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Pt(u),y=ne({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Pt(y),L=ne({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn}),$=Pt(L),re=ne({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Pt(re),gt=ne({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Pt(gt),Et=[9,13,27,32],ct=f&&"CompositionEvent"in window,yn=null;f&&"documentMode"in document&&(yn=document.documentMode);var ln=f&&"TextEvent"in window&&!yn,ji=f&&(!ct||yn&&8<yn&&11>=yn),Fs=" ",Gf=!1;function Qf(n,i){switch(n){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var js=!1;function r0(n,i){switch(n){case"compositionend":return Yf(i);case"keypress":return i.which!==32?null:(Gf=!0,Fs);case"textInput":return n=i.data,n===Fs&&Gf?null:n;default:return null}}function i0(n,i){if(js)return n==="compositionend"||!ct&&Qf(n,i)?(n=Qo(),Yt=Cs=an=null,js=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ji&&i.locale!=="ko"?null:i.data;default:return null}}var s0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!s0[n.type]:i==="textarea"}function Jf(n,i,a,c){Hn(c),i=Ll(i,"onChange"),0<i.length&&(a=new bs("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Zo=null,ea=null;function o0(n){gp(n,0)}function bl(n){var i=qs(n);if(fs(i))return n}function a0(n,i){if(n==="change")return i}var Zf=!1;if(f){var Oc;if(f){var Lc="oninput"in document;if(!Lc){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),Lc=typeof ep.oninput=="function"}Oc=Lc}else Oc=!1;Zf=Oc&&(!document.documentMode||9<document.documentMode)}function tp(){Zo&&(Zo.detachEvent("onpropertychange",np),ea=Zo=null)}function np(n){if(n.propertyName==="value"&&bl(ea)){var i=[];Jf(i,ea,n,_s(n)),Uo(o0,i)}}function l0(n,i,a){n==="focusin"?(tp(),Zo=i,ea=a,Zo.attachEvent("onpropertychange",np)):n==="focusout"&&tp()}function u0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bl(ea)}function c0(n,i){if(n==="click")return bl(i)}function h0(n,i){if(n==="input"||n==="change")return bl(i)}function d0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var On=typeof Object.is=="function"?Object.is:d0;function ta(n,i){if(On(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!On(n[d],i[d]))return!1}return!0}function rp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ip(n,i){var a=rp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rp(a)}}function sp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?sp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function op(){for(var n=window,i=Mr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Mr(n.document)}return i}function Mc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function f0(n){var i=op(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&sp(a.ownerDocument.documentElement,a)){if(c!==null&&Mc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=ip(a,m);var v=ip(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var p0=f&&"documentMode"in document&&11>=document.documentMode,Us=null,Fc=null,na=null,jc=!1;function ap(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jc||Us==null||Us!==Mr(c)||(c=Us,"selectionStart"in c&&Mc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),na&&ta(na,c)||(na=c,c=Ll(Fc,"onSelect"),0<c.length&&(i=new bs("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Us)))}function Dl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var zs={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},Uc={},lp={};f&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Vl(n){if(Uc[n])return Uc[n];if(!zs[n])return n;var i=zs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in lp)return Uc[n]=i[a];return n}var up=Vl("animationend"),cp=Vl("animationiteration"),hp=Vl("animationstart"),dp=Vl("transitionend"),fp=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(n,i){fp.set(n,i),l(i,[n])}for(var zc=0;zc<pp.length;zc++){var Bc=pp[zc],m0=Bc.toLowerCase(),g0=Bc[0].toUpperCase()+Bc.slice(1);Gr(m0,"on"+g0)}Gr(up,"onAnimationEnd"),Gr(cp,"onAnimationIteration"),Gr(hp,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(dp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function mp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,cl(c,i,void 0,n),n.currentTarget=null}function gp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var A=c[v],C=A.instance,U=A.currentTarget;if(A=A.listener,C!==m&&d.isPropagationStopped())break e;mp(d,A,U),m=C}else for(v=0;v<c.length;v++){if(A=c[v],C=A.instance,U=A.currentTarget,A=A.listener,C!==m&&d.isPropagationStopped())break e;mp(d,A,U),m=C}}}if(xn)throw n=zo,xn=!1,zo=null,n}function Je(n,i){var a=i[Yc];a===void 0&&(a=i[Yc]=new Set);var c=n+"__bubble";a.has(c)||(yp(i,n,2,!1),a.add(c))}function $c(n,i,a){var c=0;i&&(c|=4),yp(a,n,c,i)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function ia(n){if(!n[Ol]){n[Ol]=!0,s.forEach(function(a){a!=="selectionchange"&&(y0.has(a)||$c(a,!1,n),$c(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ol]||(i[Ol]=!0,$c("selectionchange",!1,i))}}function yp(n,i,a,c){switch(Go(i)){case 1:var d=tt;break;case 4:d=Dc;break;default:d=Ko}a=d.bind(null,i,a,n),d=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function qc(n,i,a,c,d){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;v=v.return}for(;A!==null;){if(v=Ui(A),v===null)return;if(C=v.tag,C===5||C===6){c=m=v;continue e}A=A.parentNode}}c=c.return}Uo(function(){var U=m,G=_s(a),X=[];e:{var K=fp.get(n);if(K!==void 0){var se=bs,he=n;switch(n){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":he="focus",se=Ls;break;case"focusout":he="blur",se=Ls;break;case"beforeblur":case"afterblur":se=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Al;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case up:case cp:case hp:se=gr;break;case dp:se=qe;break;case"scroll":se=Vc;break;case"wheel":se=Me;break;case"copy":case"cut":case"paste":se=Pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var de=(i&4)!==0,lt=!de&&n==="scroll",M=de?K!==null?K+"Capture":null:K;de=[];for(var D=U,F;D!==null;){F=D;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,M!==null&&(Z=at(D,M),Z!=null&&de.push(sa(D,Z,F)))),lt)break;D=D.return}0<de.length&&(K=new se(K,he,null,a,G),X.push({event:K,listeners:de}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",K&&a!==xi&&(he=a.relatedTarget||a.fromElement)&&(Ui(he)||he[yr]))break e;if((se||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,se?(he=a.relatedTarget||a.toElement,se=U,he=he?Ui(he):null,he!==null&&(lt=Pn(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(se=null,he=U),se!==he)){if(de=Vs,Z="onMouseLeave",M="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(de=E,Z="onPointerLeave",M="onPointerEnter",D="pointer"),lt=se==null?K:qs(se),F=he==null?K:qs(he),K=new de(Z,D+"leave",se,a,G),K.target=lt,K.relatedTarget=F,Z=null,Ui(G)===U&&(de=new de(M,D+"enter",he,a,G),de.target=F,de.relatedTarget=lt,Z=de),lt=Z,se&&he)t:{for(de=se,M=he,D=0,F=de;F;F=Bs(F))D++;for(F=0,Z=M;Z;Z=Bs(Z))F++;for(;0<D-F;)de=Bs(de),D--;for(;0<F-D;)M=Bs(M),F--;for(;D--;){if(de===M||M!==null&&de===M.alternate)break t;de=Bs(de),M=Bs(M)}de=null}else de=null;se!==null&&_p(X,K,se,de,!1),he!==null&&lt!==null&&_p(X,lt,he,de,!0)}}e:{if(K=U?qs(U):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var pe=a0;else if(Xf(K))if(Zf)pe=h0;else{pe=u0;var _e=l0}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(pe=c0);if(pe&&(pe=pe(n,U))){Jf(X,pe,a,G);break e}_e&&_e(n,K,U),n==="focusout"&&(_e=K._wrapperState)&&_e.controlled&&K.type==="number"&&ms(K,"number",K.value)}switch(_e=U?qs(U):window,n){case"focusin":(Xf(_e)||_e.contentEditable==="true")&&(Us=_e,Fc=U,na=null);break;case"focusout":na=Fc=Us=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,ap(X,a,G);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":ap(X,a,G)}var ve;if(ct)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else js?Qf(n,a)&&(Ae="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(ji&&a.locale!=="ko"&&(js||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&js&&(ve=Qo()):(an=G,Cs="value"in an?an.value:an.textContent,js=!0)),_e=Ll(U,Ae),0<_e.length&&(Ae=new Jo(Ae,n,null,a,G),X.push({event:Ae,listeners:_e}),ve?Ae.data=ve:(ve=Yf(a),ve!==null&&(Ae.data=ve)))),(ve=ln?r0(n,a):i0(n,a))&&(U=Ll(U,"onBeforeInput"),0<U.length&&(G=new Jo("onBeforeInput","beforeinput",null,a,G),X.push({event:G,listeners:U}),G.data=ve))}gp(X,i)})}function sa(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ll(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=at(n,a),m!=null&&c.unshift(sa(n,m,d)),m=at(n,i),m!=null&&c.push(sa(n,m,d))),n=n.return}return c}function Bs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _p(n,i,a,c,d){for(var m=i._reactName,v=[];a!==null&&a!==c;){var A=a,C=A.alternate,U=A.stateNode;if(C!==null&&C===c)break;A.tag===5&&U!==null&&(A=U,d?(C=at(a,m),C!=null&&v.unshift(sa(a,C,A))):d||(C=at(a,m),C!=null&&v.push(sa(a,C,A)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var _0=/\r\n?/g,v0=/\u0000|\uFFFD/g;function vp(n){return(typeof n=="string"?n:""+n).replace(_0,`
`).replace(v0,"")}function Ml(n,i,a){if(i=vp(i),vp(n)!==i&&a)throw Error(t(425))}function Fl(){}var Hc=null,Wc=null;function Kc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,w0=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(n){return wp.resolve(null).then(n).catch(T0)}:Gc;function T0(n){setTimeout(function(){throw n})}function Qc(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Dn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Dn(i)}function Qr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Ep(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var $s=Math.random().toString(36).slice(2),Xn="__reactFiber$"+$s,oa="__reactProps$"+$s,yr="__reactContainer$"+$s,Yc="__reactEvents$"+$s,I0="__reactListeners$"+$s,S0="__reactHandles$"+$s;function Ui(n){var i=n[Xn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[yr]||a[Xn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Ep(n);n!==null;){if(a=n[Xn])return a;n=Ep(n)}return i}n=a,a=n.parentNode}return null}function aa(n){return n=n[Xn]||n[yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function qs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function jl(n){return n[oa]||null}var Xc=[],Hs=-1;function Yr(n){return{current:n}}function Ze(n){0>Hs||(n.current=Xc[Hs],Xc[Hs]=null,Hs--)}function Ye(n,i){Hs++,Xc[Hs]=n.current,n.current=i}var Xr={},Ot=Yr(Xr),Xt=Yr(!1),zi=Xr;function Ws(n,i){var a=n.type.contextTypes;if(!a)return Xr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(n){return n=n.childContextTypes,n!=null}function Ul(){Ze(Xt),Ze(Ot)}function Tp(n,i,a){if(Ot.current!==Xr)throw Error(t(168));Ye(Ot,i),Ye(Xt,a)}function Ip(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,De(n)||"Unknown",d));return ne({},a,c)}function zl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xr,zi=Ot.current,Ye(Ot,n),Ye(Xt,Xt.current),!0}function Sp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Ip(n,i,zi),c.__reactInternalMemoizedMergedChildContext=n,Ze(Xt),Ze(Ot),Ye(Ot,n)):Ze(Xt),Ye(Xt,a)}var _r=null,Bl=!1,Jc=!1;function Ap(n){_r===null?_r=[n]:_r.push(n)}function A0(n){Bl=!0,Ap(n)}function Jr(){if(!Jc&&_r!==null){Jc=!0;var n=0,i=Oe;try{var a=_r;for(Oe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}_r=null,Bl=!1}catch(d){throw _r!==null&&(_r=_r.slice(n+1)),As(bi,Jr),d}finally{Oe=i,Jc=!1}}return null}var Ks=[],Gs=0,$l=null,ql=0,_n=[],vn=0,Bi=null,vr=1,wr="";function $i(n,i){Ks[Gs++]=ql,Ks[Gs++]=$l,$l=n,ql=i}function kp(n,i,a){_n[vn++]=vr,_n[vn++]=wr,_n[vn++]=Bi,Bi=n;var c=vr;n=wr;var d=32-$t(c)-1;c&=~(1<<d),a+=1;var m=32-$t(i)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,vr=1<<32-$t(i)+d|a<<d|c,wr=m+n}else vr=1<<m|a<<d|c,wr=n}function Zc(n){n.return!==null&&($i(n,1),kp(n,1,0))}function eh(n){for(;n===$l;)$l=Ks[--Gs],Ks[Gs]=null,ql=Ks[--Gs],Ks[Gs]=null;for(;n===Bi;)Bi=_n[--vn],_n[vn]=null,wr=_n[--vn],_n[vn]=null,vr=_n[--vn],_n[vn]=null}var un=null,cn=null,nt=!1,Ln=null;function xp(n,i){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Pp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,un=n,cn=Qr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,un=n,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Bi!==null?{id:vr,overflow:wr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function th(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nh(n){if(nt){var i=cn;if(i){var a=i;if(!Pp(n,i)){if(th(n))throw Error(t(418));i=Qr(a.nextSibling);var c=un;i&&Pp(n,i)?xp(c,a):(n.flags=n.flags&-4097|2,nt=!1,un=n)}}else{if(th(n))throw Error(t(418));n.flags=n.flags&-4097|2,nt=!1,un=n}}}function Rp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function Hl(n){if(n!==un)return!1;if(!nt)return Rp(n),nt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Kc(n.type,n.memoizedProps)),i&&(i=cn)){if(th(n))throw Cp(),Error(t(418));for(;i;)xp(n,i),i=Qr(i.nextSibling)}if(Rp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){cn=Qr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}cn=null}}else cn=un?Qr(n.stateNode.nextSibling):null;return!0}function Cp(){for(var n=cn;n;)n=Qr(n.nextSibling)}function Qs(){cn=un=null,nt=!1}function rh(n){Ln===null?Ln=[n]:Ln.push(n)}var k0=oe.ReactCurrentBatchConfig;function la(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var A=d.refs;v===null?delete A[m]:A[m]=v},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Wl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Np(n){var i=n._init;return i(n._payload)}function bp(n){function i(M,D){if(n){var F=M.deletions;F===null?(M.deletions=[D],M.flags|=16):F.push(D)}}function a(M,D){if(!n)return null;for(;D!==null;)i(M,D),D=D.sibling;return null}function c(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function d(M,D){return M=oi(M,D),M.index=0,M.sibling=null,M}function m(M,D,F){return M.index=F,n?(F=M.alternate,F!==null?(F=F.index,F<D?(M.flags|=2,D):F):(M.flags|=2,D)):(M.flags|=1048576,D)}function v(M){return n&&M.alternate===null&&(M.flags|=2),M}function A(M,D,F,Z){return D===null||D.tag!==6?(D=Gh(F,M.mode,Z),D.return=M,D):(D=d(D,F),D.return=M,D)}function C(M,D,F,Z){var pe=F.type;return pe===N?G(M,D,F.props.children,Z,F.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Te&&Np(pe)===D.type)?(Z=d(D,F.props),Z.ref=la(M,D,F),Z.return=M,Z):(Z=gu(F.type,F.key,F.props,null,M.mode,Z),Z.ref=la(M,D,F),Z.return=M,Z)}function U(M,D,F,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=Qh(F,M.mode,Z),D.return=M,D):(D=d(D,F.children||[]),D.return=M,D)}function G(M,D,F,Z,pe){return D===null||D.tag!==7?(D=Xi(F,M.mode,Z,pe),D.return=M,D):(D=d(D,F),D.return=M,D)}function X(M,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Gh(""+D,M.mode,F),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ce:return F=gu(D.type,D.key,D.props,null,M.mode,F),F.ref=la(M,null,D),F.return=M,F;case Ee:return D=Qh(D,M.mode,F),D.return=M,D;case Te:var Z=D._init;return X(M,Z(D._payload),F)}if(lr(D)||ce(D))return D=Xi(D,M.mode,F,null),D.return=M,D;Wl(M,D)}return null}function K(M,D,F,Z){var pe=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return pe!==null?null:A(M,D,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ce:return F.key===pe?C(M,D,F,Z):null;case Ee:return F.key===pe?U(M,D,F,Z):null;case Te:return pe=F._init,K(M,D,pe(F._payload),Z)}if(lr(F)||ce(F))return pe!==null?null:G(M,D,F,Z,null);Wl(M,F)}return null}function se(M,D,F,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(F)||null,A(D,M,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ce:return M=M.get(Z.key===null?F:Z.key)||null,C(D,M,Z,pe);case Ee:return M=M.get(Z.key===null?F:Z.key)||null,U(D,M,Z,pe);case Te:var _e=Z._init;return se(M,D,F,_e(Z._payload),pe)}if(lr(Z)||ce(Z))return M=M.get(F)||null,G(D,M,Z,pe,null);Wl(D,Z)}return null}function he(M,D,F,Z){for(var pe=null,_e=null,ve=D,Ae=D=0,St=null;ve!==null&&Ae<F.length;Ae++){ve.index>Ae?(St=ve,ve=null):St=ve.sibling;var Be=K(M,ve,F[Ae],Z);if(Be===null){ve===null&&(ve=St);break}n&&ve&&Be.alternate===null&&i(M,ve),D=m(Be,D,Ae),_e===null?pe=Be:_e.sibling=Be,_e=Be,ve=St}if(Ae===F.length)return a(M,ve),nt&&$i(M,Ae),pe;if(ve===null){for(;Ae<F.length;Ae++)ve=X(M,F[Ae],Z),ve!==null&&(D=m(ve,D,Ae),_e===null?pe=ve:_e.sibling=ve,_e=ve);return nt&&$i(M,Ae),pe}for(ve=c(M,ve);Ae<F.length;Ae++)St=se(ve,M,Ae,F[Ae],Z),St!==null&&(n&&St.alternate!==null&&ve.delete(St.key===null?Ae:St.key),D=m(St,D,Ae),_e===null?pe=St:_e.sibling=St,_e=St);return n&&ve.forEach(function(ai){return i(M,ai)}),nt&&$i(M,Ae),pe}function de(M,D,F,Z){var pe=ce(F);if(typeof pe!="function")throw Error(t(150));if(F=pe.call(F),F==null)throw Error(t(151));for(var _e=pe=null,ve=D,Ae=D=0,St=null,Be=F.next();ve!==null&&!Be.done;Ae++,Be=F.next()){ve.index>Ae?(St=ve,ve=null):St=ve.sibling;var ai=K(M,ve,Be.value,Z);if(ai===null){ve===null&&(ve=St);break}n&&ve&&ai.alternate===null&&i(M,ve),D=m(ai,D,Ae),_e===null?pe=ai:_e.sibling=ai,_e=ai,ve=St}if(Be.done)return a(M,ve),nt&&$i(M,Ae),pe;if(ve===null){for(;!Be.done;Ae++,Be=F.next())Be=X(M,Be.value,Z),Be!==null&&(D=m(Be,D,Ae),_e===null?pe=Be:_e.sibling=Be,_e=Be);return nt&&$i(M,Ae),pe}for(ve=c(M,ve);!Be.done;Ae++,Be=F.next())Be=se(ve,M,Ae,Be.value,Z),Be!==null&&(n&&Be.alternate!==null&&ve.delete(Be.key===null?Ae:Be.key),D=m(Be,D,Ae),_e===null?pe=Be:_e.sibling=Be,_e=Be);return n&&ve.forEach(function(sw){return i(M,sw)}),nt&&$i(M,Ae),pe}function lt(M,D,F,Z){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ce:e:{for(var pe=F.key,_e=D;_e!==null;){if(_e.key===pe){if(pe=F.type,pe===N){if(_e.tag===7){a(M,_e.sibling),D=d(_e,F.props.children),D.return=M,M=D;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Te&&Np(pe)===_e.type){a(M,_e.sibling),D=d(_e,F.props),D.ref=la(M,_e,F),D.return=M,M=D;break e}a(M,_e);break}else i(M,_e);_e=_e.sibling}F.type===N?(D=Xi(F.props.children,M.mode,Z,F.key),D.return=M,M=D):(Z=gu(F.type,F.key,F.props,null,M.mode,Z),Z.ref=la(M,D,F),Z.return=M,M=Z)}return v(M);case Ee:e:{for(_e=F.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){a(M,D.sibling),D=d(D,F.children||[]),D.return=M,M=D;break e}else{a(M,D);break}else i(M,D);D=D.sibling}D=Qh(F,M.mode,Z),D.return=M,M=D}return v(M);case Te:return _e=F._init,lt(M,D,_e(F._payload),Z)}if(lr(F))return he(M,D,F,Z);if(ce(F))return de(M,D,F,Z);Wl(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(a(M,D.sibling),D=d(D,F),D.return=M,M=D):(a(M,D),D=Gh(F,M.mode,Z),D.return=M,M=D),v(M)):a(M,D)}return lt}var Ys=bp(!0),Dp=bp(!1),Kl=Yr(null),Gl=null,Xs=null,ih=null;function sh(){ih=Xs=Gl=null}function oh(n){var i=Kl.current;Ze(Kl),n._currentValue=i}function ah(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Js(n,i){Gl=n,ih=Xs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Zt=!0),n.firstContext=null)}function wn(n){var i=n._currentValue;if(ih!==n)if(n={context:n,memoizedValue:i,next:null},Xs===null){if(Gl===null)throw Error(t(308));Xs=n,Gl.dependencies={lanes:0,firstContext:n}}else Xs=Xs.next=n;return i}var qi=null;function lh(n){qi===null?qi=[n]:qi.push(n)}function Vp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,lh(i)):(a.next=d.next,d.next=a),i.interleaved=a,Er(n,c)}function Er(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Zr=!1;function uh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Op(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Tr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ei(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Er(n,a)}return d=c.interleaved,d===null?(i.next=i,lh(c)):(i.next=d.next,d.next=i),c.interleaved=i,Er(n,a)}function Ql(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,$r(n,a)}}function Lp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Yl(n,i,a,c){var d=n.updateQueue;Zr=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var C=A,U=C.next;C.next=null,v===null?m=U:v.next=U,v=C;var G=n.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==v&&(A===null?G.firstBaseUpdate=U:A.next=U,G.lastBaseUpdate=C))}if(m!==null){var X=d.baseState;v=0,G=U=C=null,A=m;do{var K=A.lane,se=A.eventTime;if((c&K)===K){G!==null&&(G=G.next={eventTime:se,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var he=n,de=A;switch(K=i,se=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){X=he.call(se,X,K);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,K=typeof he=="function"?he.call(se,X,K):he,K==null)break e;X=ne({},X,K);break e;case 2:Zr=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,K=d.effects,K===null?d.effects=[A]:K.push(A))}else se={eventTime:se,lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(U=G=se,C=X):G=G.next=se,v|=K;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;K=A,A=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(G===null&&(C=X),d.baseState=C,d.firstBaseUpdate=U,d.lastBaseUpdate=G,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Ki|=v,n.lanes=v,n.memoizedState=X}}function Mp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ua={},Jn=Yr(ua),ca=Yr(ua),ha=Yr(ua);function Hi(n){if(n===ua)throw Error(t(174));return n}function ch(n,i){switch(Ye(ha,i),Ye(ca,n),Ye(Jn,ua),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=mt(i,n)}Ze(Jn),Ye(Jn,i)}function Zs(){Ze(Jn),Ze(ca),Ze(ha)}function Fp(n){Hi(ha.current);var i=Hi(Jn.current),a=mt(i,n.type);i!==a&&(Ye(ca,n),Ye(Jn,a))}function hh(n){ca.current===n&&(Ze(Jn),Ze(ca))}var rt=Yr(0);function Xl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var dh=[];function fh(){for(var n=0;n<dh.length;n++)dh[n]._workInProgressVersionPrimary=null;dh.length=0}var Jl=oe.ReactCurrentDispatcher,ph=oe.ReactCurrentBatchConfig,Wi=0,it=null,yt=null,Tt=null,Zl=!1,da=!1,fa=0,x0=0;function Lt(){throw Error(t(321))}function mh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!On(n[a],i[a]))return!1;return!0}function gh(n,i,a,c,d,m){if(Wi=m,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Jl.current=n===null||n.memoizedState===null?N0:b0,n=a(c,d),da){m=0;do{if(da=!1,fa=0,25<=m)throw Error(t(301));m+=1,Tt=yt=null,i.updateQueue=null,Jl.current=D0,n=a(c,d)}while(da)}if(Jl.current=nu,i=yt!==null&&yt.next!==null,Wi=0,Tt=yt=it=null,Zl=!1,i)throw Error(t(300));return n}function yh(){var n=fa!==0;return fa=0,n}function Zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function En(){if(yt===null){var n=it.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Tt===null?it.memoizedState:Tt.next;if(i!==null)Tt=i,yt=n;else{if(n===null)throw Error(t(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?it.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function pa(n,i){return typeof i=="function"?i(n):i}function _h(n){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=yt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var A=v=null,C=null,U=m;do{var G=U.lane;if((Wi&G)===G)C!==null&&(C=C.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:n(c,U.action);else{var X={lane:G,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};C===null?(A=C=X,v=c):C=C.next=X,it.lanes|=G,Ki|=G}U=U.next}while(U!==null&&U!==m);C===null?v=c:C.next=A,On(c,i.memoizedState)||(Zt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=C,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,it.lanes|=m,Ki|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function vh(n){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);On(m,i.memoizedState)||(Zt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function jp(){}function Up(n,i){var a=it,c=En(),d=i(),m=!On(c.memoizedState,d);if(m&&(c.memoizedState=d,Zt=!0),c=c.queue,wh($p.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,ma(9,Bp.bind(null,a,c,d,i),void 0,null),It===null)throw Error(t(349));(Wi&30)!==0||zp(a,i,d)}return d}function zp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Bp(n,i,a,c){i.value=a,i.getSnapshot=c,qp(i)&&Hp(n)}function $p(n,i,a){return a(function(){qp(i)&&Hp(n)})}function qp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!On(n,a)}catch{return!0}}function Hp(n){var i=Er(n,1);i!==null&&Un(i,n,1,-1)}function Wp(n){var i=Zn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:n},i.queue=n,n=n.dispatch=C0.bind(null,it,n),[i.memoizedState,n]}function ma(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Kp(){return En().memoizedState}function eu(n,i,a,c){var d=Zn();it.flags|=n,d.memoizedState=ma(1|i,a,void 0,c===void 0?null:c)}function tu(n,i,a,c){var d=En();c=c===void 0?null:c;var m=void 0;if(yt!==null){var v=yt.memoizedState;if(m=v.destroy,c!==null&&mh(c,v.deps)){d.memoizedState=ma(i,a,m,c);return}}it.flags|=n,d.memoizedState=ma(1|i,a,m,c)}function Gp(n,i){return eu(8390656,8,n,i)}function wh(n,i){return tu(2048,8,n,i)}function Qp(n,i){return tu(4,2,n,i)}function Yp(n,i){return tu(4,4,n,i)}function Xp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Jp(n,i,a){return a=a!=null?a.concat([n]):null,tu(4,4,Xp.bind(null,i,n),a)}function Eh(){}function Zp(n,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&mh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function em(n,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&mh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function tm(n,i,a){return(Wi&21)===0?(n.baseState&&(n.baseState=!1,Zt=!0),n.memoizedState=a):(On(a,i)||(a=Oi(),it.lanes|=a,Ki|=a,n.baseState=!0),i)}function P0(n,i){var a=Oe;Oe=a!==0&&4>a?a:4,n(!0);var c=ph.transition;ph.transition={};try{n(!1),i()}finally{Oe=a,ph.transition=c}}function nm(){return En().memoizedState}function R0(n,i,a){var c=ii(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},rm(n))im(i,a);else if(a=Vp(n,i,a,c),a!==null){var d=Wt();Un(a,n,c,d),sm(a,i,c)}}function C0(n,i,a){var c=ii(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(rm(n))im(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,A=m(v,a);if(d.hasEagerState=!0,d.eagerState=A,On(A,v)){var C=i.interleaved;C===null?(d.next=d,lh(i)):(d.next=C.next,C.next=d),i.interleaved=d;return}}catch{}a=Vp(n,i,d,c),a!==null&&(d=Wt(),Un(a,n,c,d),sm(a,i,c))}}function rm(n){var i=n.alternate;return n===it||i!==null&&i===it}function im(n,i){da=Zl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function sm(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,$r(n,a)}}var nu={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},N0={readContext:wn,useCallback:function(n,i){return Zn().memoizedState=[n,i===void 0?null:i],n},useContext:wn,useEffect:Gp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,eu(4194308,4,Xp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return eu(4194308,4,n,i)},useInsertionEffect:function(n,i){return eu(4,2,n,i)},useMemo:function(n,i){var a=Zn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Zn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=R0.bind(null,it,n),[c.memoizedState,n]},useRef:function(n){var i=Zn();return n={current:n},i.memoizedState=n},useState:Wp,useDebugValue:Eh,useDeferredValue:function(n){return Zn().memoizedState=n},useTransition:function(){var n=Wp(!1),i=n[0];return n=P0.bind(null,n[1]),Zn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=it,d=Zn();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));(Wi&30)!==0||zp(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,Gp($p.bind(null,c,m,n),[n]),c.flags|=2048,ma(9,Bp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Zn(),i=It.identifierPrefix;if(nt){var a=wr,c=vr;a=(c&~(1<<32-$t(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=fa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=x0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},b0={readContext:wn,useCallback:Zp,useContext:wn,useEffect:wh,useImperativeHandle:Jp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:em,useReducer:_h,useRef:Kp,useState:function(){return _h(pa)},useDebugValue:Eh,useDeferredValue:function(n){var i=En();return tm(i,yt.memoizedState,n)},useTransition:function(){var n=_h(pa)[0],i=En().memoizedState;return[n,i]},useMutableSource:jp,useSyncExternalStore:Up,useId:nm,unstable_isNewReconciler:!1},D0={readContext:wn,useCallback:Zp,useContext:wn,useEffect:wh,useImperativeHandle:Jp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:em,useReducer:vh,useRef:Kp,useState:function(){return vh(pa)},useDebugValue:Eh,useDeferredValue:function(n){var i=En();return yt===null?i.memoizedState=n:tm(i,yt.memoizedState,n)},useTransition:function(){var n=vh(pa)[0],i=En().memoizedState;return[n,i]},useMutableSource:jp,useSyncExternalStore:Up,useId:nm,unstable_isNewReconciler:!1};function Mn(n,i){if(n&&n.defaultProps){i=ne({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Th(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:ne({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ru={isMounted:function(n){return(n=n._reactInternals)?Pn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=ii(n),m=Tr(c,d);m.payload=i,a!=null&&(m.callback=a),i=ei(n,m,d),i!==null&&(Un(i,n,d,c),Ql(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=ii(n),m=Tr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ei(n,m,d),i!==null&&(Un(i,n,d,c),Ql(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Wt(),c=ii(n),d=Tr(a,c);d.tag=2,i!=null&&(d.callback=i),i=ei(n,d,c),i!==null&&(Un(i,n,c,a),Ql(i,n,c))}};function om(n,i,a,c,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!ta(a,c)||!ta(d,m):!0}function am(n,i,a){var c=!1,d=Xr,m=i.contextType;return typeof m=="object"&&m!==null?m=wn(m):(d=Jt(i)?zi:Ot.current,c=i.contextTypes,m=(c=c!=null)?Ws(n,d):Xr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ru,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function lm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&ru.enqueueReplaceState(i,i.state,null)}function Ih(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},uh(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=wn(m):(m=Jt(i)?zi:Ot.current,d.context=Ws(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Th(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&ru.enqueueReplaceState(d,d.state,null),Yl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function eo(n,i){try{var a="",c=i;do a+=Ie(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Sh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Ah(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function um(n,i,a){a=Tr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){cu||(cu=!0,Uh=c),Ah(n,i)},a}function cm(n,i,a){a=Tr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Ah(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Ah(n,i),typeof c!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function hm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new V0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=G0.bind(null,n,i,a),i.then(n,n))}function dm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function fm(n,i,a,c,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Tr(-1,1),i.tag=2,ei(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var O0=oe.ReactCurrentOwner,Zt=!1;function Ht(n,i,a,c){i.child=n===null?Dp(i,null,a,c):Ys(i,n.child,a,c)}function pm(n,i,a,c,d){a=a.render;var m=i.ref;return Js(i,d),c=gh(n,i,a,c,m,d),a=yh(),n!==null&&!Zt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ir(n,i,d)):(nt&&a&&Zc(i),i.flags|=1,Ht(n,i,c,d),i.child)}function mm(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Kh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,gm(n,i,m,c,d)):(n=gu(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&d)===0){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ta,a(v,c)&&n.ref===i.ref)return Ir(n,i,d)}return i.flags|=1,n=oi(m,c),n.ref=i.ref,n.return=i,i.child=n}function gm(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(ta(m,c)&&n.ref===i.ref)if(Zt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Zt=!0);else return i.lanes=n.lanes,Ir(n,i,d)}return kh(n,i,a,c,d)}function ym(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(no,hn),hn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ye(no,hn),hn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ye(no,hn),hn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Ye(no,hn),hn|=c;return Ht(n,i,d,a),i.child}function _m(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function kh(n,i,a,c,d){var m=Jt(a)?zi:Ot.current;return m=Ws(i,m),Js(i,d),a=gh(n,i,a,c,m,d),c=yh(),n!==null&&!Zt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ir(n,i,d)):(nt&&c&&Zc(i),i.flags|=1,Ht(n,i,a,d),i.child)}function vm(n,i,a,c,d){if(Jt(a)){var m=!0;zl(i)}else m=!1;if(Js(i,d),i.stateNode===null)su(n,i),am(i,a,c),Ih(i,a,c,d),c=!0;else if(n===null){var v=i.stateNode,A=i.memoizedProps;v.props=A;var C=v.context,U=a.contextType;typeof U=="object"&&U!==null?U=wn(U):(U=Jt(a)?zi:Ot.current,U=Ws(i,U));var G=a.getDerivedStateFromProps,X=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function";X||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==c||C!==U)&&lm(i,v,c,U),Zr=!1;var K=i.memoizedState;v.state=K,Yl(i,c,v,d),C=i.memoizedState,A!==c||K!==C||Xt.current||Zr?(typeof G=="function"&&(Th(i,a,G,c),C=i.memoizedState),(A=Zr||om(i,a,A,c,K,C,U))?(X||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=C),v.props=c,v.state=C,v.context=U,c=A):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Op(n,i),A=i.memoizedProps,U=i.type===i.elementType?A:Mn(i.type,A),v.props=U,X=i.pendingProps,K=v.context,C=a.contextType,typeof C=="object"&&C!==null?C=wn(C):(C=Jt(a)?zi:Ot.current,C=Ws(i,C));var se=a.getDerivedStateFromProps;(G=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==X||K!==C)&&lm(i,v,c,C),Zr=!1,K=i.memoizedState,v.state=K,Yl(i,c,v,d);var he=i.memoizedState;A!==X||K!==he||Xt.current||Zr?(typeof se=="function"&&(Th(i,a,se,c),he=i.memoizedState),(U=Zr||om(i,a,U,c,K,he,C)||!1)?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,he,C),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,he,C)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=he),v.props=c,v.state=he,v.context=C,c=U):(typeof v.componentDidUpdate!="function"||A===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),c=!1)}return xh(n,i,a,c,m,d)}function xh(n,i,a,c,d,m){_m(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&Sp(i,a,!1),Ir(n,i,m);c=i.stateNode,O0.current=i;var A=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Ys(i,n.child,null,m),i.child=Ys(i,null,A,m)):Ht(n,i,A,m),i.memoizedState=c.state,d&&Sp(i,a,!0),i.child}function wm(n){var i=n.stateNode;i.pendingContext?Tp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Tp(n,i.context,!1),ch(n,i.containerInfo)}function Em(n,i,a,c,d){return Qs(),rh(d),i.flags|=256,Ht(n,i,a,c),i.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function Rh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Tm(n,i,a){var c=i.pendingProps,d=rt.current,m=!1,v=(i.flags&128)!==0,A;if((A=v)||(A=n!==null&&n.memoizedState===null?!1:(d&2)!==0),A?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ye(rt,d&1),n===null)return nh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,n=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=yu(v,c,0,null),n=Xi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Rh(a),i.memoizedState=Ph,n):Ch(i,v));if(d=n.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return L0(n,i,v,c,A,d,a);if(m){m=c.fallback,v=i.mode,d=n.child,A=d.sibling;var C={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=C,i.deletions=null):(c=oi(d,C),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?m=oi(A,m):(m=Xi(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=n.child.memoizedState,v=v===null?Rh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,i.memoizedState=Ph,c}return m=n.child,n=m.sibling,c=oi(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Ch(n,i){return i=yu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function iu(n,i,a,c){return c!==null&&rh(c),Ys(i,n.child,null,a),n=Ch(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function L0(n,i,a,c,d,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Sh(Error(t(422))),iu(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=yu({mode:"visible",children:c.children},d,0,null),m=Xi(m,d,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Ys(i,n.child,null,v),i.child.memoizedState=Rh(v),i.memoizedState=Ph,m);if((i.mode&1)===0)return iu(n,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(t(419)),c=Sh(m,c,void 0),iu(n,i,v,c)}if(A=(v&n.childLanes)!==0,Zt||A){if(c=It,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Er(n,d),Un(c,n,d,-1))}return Wh(),c=Sh(Error(t(421))),iu(n,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=Q0.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,cn=Qr(d.nextSibling),un=i,nt=!0,Ln=null,n!==null&&(_n[vn++]=vr,_n[vn++]=wr,_n[vn++]=Bi,vr=n.id,wr=n.overflow,Bi=i),i=Ch(i,c.children),i.flags|=4096,i)}function Im(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ah(n.return,i,a)}function Nh(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Sm(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Ht(n,i,c.children,a),c=rt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Im(n,a,i);else if(n.tag===19)Im(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ye(rt,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Xl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Nh(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Xl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Nh(i,!0,a,null,m);break;case"together":Nh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function su(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ir(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ki|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=oi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=oi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function M0(n,i,a){switch(i.tag){case 3:wm(i),Qs();break;case 5:Fp(i);break;case 1:Jt(i.type)&&zl(i);break;case 4:ch(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ye(Kl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ye(rt,rt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Tm(n,i,a):(Ye(rt,rt.current&1),n=Ir(n,i,a),n!==null?n.sibling:null);Ye(rt,rt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Sm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(rt,rt.current),c)break;return null;case 22:case 23:return i.lanes=0,ym(n,i,a)}return Ir(n,i,a)}var Am,bh,km,xm;Am=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},bh=function(){},km=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Hi(Jn.current);var m=null;switch(a){case"input":d=Si(n,d),c=Si(n,c),m=[];break;case"select":d=ne({},d,{value:void 0}),c=ne({},c,{value:void 0}),m=[];break;case"textarea":d=Co(n,d),c=Co(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Fl)}Lo(a,c);var v;a=null;for(U in d)if(!c.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var A=d[U];for(v in A)A.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?m||(m=[]):(m=m||[]).push(U,null));for(U in c){var C=c[U];if(A=d?.[U],c.hasOwnProperty(U)&&C!==A&&(C!=null||A!=null))if(U==="style")if(A){for(v in A)!A.hasOwnProperty(v)||C&&C.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in C)C.hasOwnProperty(v)&&A[v]!==C[v]&&(a||(a={}),a[v]=C[v])}else a||(m||(m=[]),m.push(U,a)),a=C;else U==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,A=A?A.__html:void 0,C!=null&&A!==C&&(m=m||[]).push(U,C)):U==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(U,""+C):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(C!=null&&U==="onScroll"&&Je("scroll",n),m||A===C||(m=[])):(m=m||[]).push(U,C))}a&&(m=m||[]).push("style",a);var U=m;(i.updateQueue=U)&&(i.flags|=4)}},xm=function(n,i,a,c){a!==c&&(i.flags|=4)};function ga(n,i){if(!nt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function F0(n,i,a){var c=i.pendingProps;switch(eh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Jt(i.type)&&Ul(),Mt(i),null;case 3:return c=i.stateNode,Zs(),Ze(Xt),Ze(Ot),fh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Hl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&($h(Ln),Ln=null))),bh(n,i),Mt(i),null;case 5:hh(i);var d=Hi(ha.current);if(a=i.type,n!==null&&i.stateNode!=null)km(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Mt(i),null}if(n=Hi(Jn.current),Hl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Xn]=i,c[oa]=m,n=(i.mode&1)!==0,a){case"dialog":Je("cancel",c),Je("close",c);break;case"iframe":case"object":case"embed":Je("load",c);break;case"video":case"audio":for(d=0;d<ra.length;d++)Je(ra[d],c);break;case"source":Je("error",c);break;case"img":case"image":case"link":Je("error",c),Je("load",c);break;case"details":Je("toggle",c);break;case"input":ps(c,m),Je("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Je("invalid",c);break;case"textarea":gs(c,m),Je("invalid",c)}Lo(a,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var A=m[v];v==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&Ml(c.textContent,A,n),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&Ml(c.textContent,A,n),d=["children",""+A]):o.hasOwnProperty(v)&&A!=null&&v==="onScroll"&&Je("scroll",c)}switch(a){case"input":ar(c),ul(c,m,!0);break;case"textarea":ar(c),No(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Fl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=pt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Xn]=i,n[oa]=c,Am(n,i,!1,!1),i.stateNode=n;e:{switch(v=Mo(a,c),a){case"dialog":Je("cancel",n),Je("close",n),d=c;break;case"iframe":case"object":case"embed":Je("load",n),d=c;break;case"video":case"audio":for(d=0;d<ra.length;d++)Je(ra[d],n);d=c;break;case"source":Je("error",n),d=c;break;case"img":case"image":case"link":Je("error",n),Je("load",n),d=c;break;case"details":Je("toggle",n),d=c;break;case"input":ps(n,c),d=Si(n,c),Je("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ne({},c,{value:void 0}),Je("invalid",n);break;case"textarea":gs(n,c),d=Co(n,c),Je("invalid",n);break;default:d=c}Lo(a,d),A=d;for(m in A)if(A.hasOwnProperty(m)){var C=A[m];m==="style"?Vo(n,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&bo(n,C)):m==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&Fr(n,C):typeof C=="number"&&Fr(n,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?C!=null&&m==="onScroll"&&Je("scroll",n):C!=null&&ee(n,m,C,v))}switch(a){case"input":ar(n),ul(n,c,!1);break;case"textarea":ar(n),No(n);break;case"option":c.value!=null&&n.setAttribute("value",""+je(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ur(n,!!c.multiple,m,!1):c.defaultValue!=null&&ur(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Fl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(n&&i.stateNode!=null)xm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Hi(ha.current),Hi(Jn.current),Hl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Xn]=i,(m=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:Ml(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ml(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Xn]=i,i.stateNode=c}return Mt(i),null;case 13:if(Ze(rt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&cn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Cp(),Qs(),i.flags|=98560,m=!1;else if(m=Hl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Xn]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),m=!1}else Ln!==null&&($h(Ln),Ln=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(rt.current&1)!==0?_t===0&&(_t=3):Wh())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return Zs(),bh(n,i),n===null&&ia(i.stateNode.containerInfo),Mt(i),null;case 10:return oh(i.type._context),Mt(i),null;case 17:return Jt(i.type)&&Ul(),Mt(i),null;case 19:if(Ze(rt),m=i.memoizedState,m===null)return Mt(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)ga(m,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Xl(n),v!==null){for(i.flags|=128,ga(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ye(rt,rt.current&1|2),i.child}n=n.sibling}m.tail!==null&&Qe()>ro&&(i.flags|=128,c=!0,ga(m,!1),i.lanes=4194304)}else{if(!c)if(n=Xl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ga(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!nt)return Mt(i),null}else 2*Qe()-m.renderingStartTime>ro&&a!==1073741824&&(i.flags|=128,c=!0,ga(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Qe(),i.sibling=null,a=rt.current,Ye(rt,c?a&1|2:a&1),i):(Mt(i),null);case 22:case 23:return Hh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(hn&1073741824)!==0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function j0(n,i){switch(eh(i),i.tag){case 1:return Jt(i.type)&&Ul(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zs(),Ze(Xt),Ze(Ot),fh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return hh(i),null;case 13:if(Ze(rt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Qs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ze(rt),null;case 4:return Zs(),null;case 10:return oh(i.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var ou=!1,Ft=!1,U0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function to(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(n,i,c)}else a.current=null}function Dh(n,i,a){try{a()}catch(c){ot(n,i,c)}}var Pm=!1;function z0(n,i){if(Hc=Wr,n=op(),Mc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,A=-1,C=-1,U=0,G=0,X=n,K=null;t:for(;;){for(var se;X!==a||d!==0&&X.nodeType!==3||(A=v+d),X!==m||c!==0&&X.nodeType!==3||(C=v+c),X.nodeType===3&&(v+=X.nodeValue.length),(se=X.firstChild)!==null;)K=X,X=se;for(;;){if(X===n)break t;if(K===a&&++U===d&&(A=v),K===m&&++G===c&&(C=v),(se=X.nextSibling)!==null)break;X=K,K=X.parentNode}X=se}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wc={focusedElem:n,selectionRange:a},Wr=!1,ue=i;ue!==null;)if(i=ue,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ue=n;else for(;ue!==null;){i=ue;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,lt=he.memoizedState,M=i.stateNode,D=M.getSnapshotBeforeUpdate(i.elementType===i.type?de:Mn(i.type,de),lt);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ot(i,i.return,Z)}if(n=i.sibling,n!==null){n.return=i.return,ue=n;break}ue=i.return}return he=Pm,Pm=!1,he}function ya(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Dh(i,a,m)}d=d.next}while(d!==c)}}function au(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Vh(n){var i=n.ref;if(i!==null){var a=n.stateNode;n.tag,n=a,typeof i=="function"?i(n):i.current=n}}function Rm(n){var i=n.alternate;i!==null&&(n.alternate=null,Rm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Xn],delete i[oa],delete i[Yc],delete i[I0],delete i[S0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Cm(n){return n.tag===5||n.tag===3||n.tag===4}function Nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Oh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fl));else if(c!==4&&(n=n.child,n!==null))for(Oh(n,i,a),n=n.sibling;n!==null;)Oh(n,i,a),n=n.sibling}function Lh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Lh(n,i,a),n=n.sibling;n!==null;)Lh(n,i,a),n=n.sibling}var Rt=null,Fn=!1;function ti(n,i,a){for(a=a.child;a!==null;)bm(n,i,a),a=a.sibling}function bm(n,i,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 5:Ft||to(a,i);case 6:var c=Rt,d=Fn;Rt=null,ti(n,i,a),Rt=c,Fn=d,Rt!==null&&(Fn?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Fn?(n=Rt,a=a.stateNode,n.nodeType===8?Qc(n.parentNode,a):n.nodeType===1&&Qc(n,a),Dn(n)):Qc(Rt,a.stateNode));break;case 4:c=Rt,d=Fn,Rt=a.stateNode.containerInfo,Fn=!0,ti(n,i,a),Rt=c,Fn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&Dh(a,i,v),d=d.next}while(d!==c)}ti(n,i,a);break;case 1:if(!Ft&&(to(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){ot(a,i,A)}ti(n,i,a);break;case 21:ti(n,i,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,ti(n,i,a),Ft=c):ti(n,i,a);break;default:ti(n,i,a)}}function Dm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new U0),i.forEach(function(c){var d=Y0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function jn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 5:Rt=A.stateNode,Fn=!1;break e;case 3:Rt=A.stateNode.containerInfo,Fn=!0;break e;case 4:Rt=A.stateNode.containerInfo,Fn=!0;break e}A=A.return}if(Rt===null)throw Error(t(160));bm(m,v,d),Rt=null,Fn=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(U){ot(d,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Vm(i,n),i=i.sibling}function Vm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(jn(i,n),er(n),c&4){try{ya(3,n,n.return),au(3,n)}catch(de){ot(n,n.return,de)}try{ya(5,n,n.return)}catch(de){ot(n,n.return,de)}}break;case 1:jn(i,n),er(n),c&512&&a!==null&&to(a,a.return);break;case 5:if(jn(i,n),er(n),c&512&&a!==null&&to(a,a.return),n.flags&32){var d=n.stateNode;try{Fr(d,"")}catch(de){ot(n,n.return,de)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,A=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&Po(d,m),Mo(A,v);var U=Mo(A,m);for(v=0;v<C.length;v+=2){var G=C[v],X=C[v+1];G==="style"?Vo(d,X):G==="dangerouslySetInnerHTML"?bo(d,X):G==="children"?Fr(d,X):ee(d,G,X,U)}switch(A){case"input":Ro(d,m);break;case"textarea":ys(d,m);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?ur(d,!!m.multiple,se,!1):K!==!!m.multiple&&(m.defaultValue!=null?ur(d,!!m.multiple,m.defaultValue,!0):ur(d,!!m.multiple,m.multiple?[]:"",!1))}d[oa]=m}catch(de){ot(n,n.return,de)}}break;case 6:if(jn(i,n),er(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(de){ot(n,n.return,de)}}break;case 3:if(jn(i,n),er(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(i.containerInfo)}catch(de){ot(n,n.return,de)}break;case 4:jn(i,n),er(n);break;case 13:jn(i,n),er(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(jh=Qe())),c&4&&Dm(n);break;case 22:if(G=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(U=Ft)||G,jn(i,n),Ft=U):jn(i,n),er(n),c&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!G&&(n.mode&1)!==0)for(ue=n,G=n.child;G!==null;){for(X=ue=G;ue!==null;){switch(K=ue,se=K.child,K.tag){case 0:case 11:case 14:case 15:ya(4,K,K.return);break;case 1:to(K,K.return);var he=K.stateNode;if(typeof he.componentWillUnmount=="function"){c=K,a=K.return;try{i=c,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(de){ot(c,a,de)}}break;case 5:to(K,K.return);break;case 22:if(K.memoizedState!==null){Mm(X);continue}}se!==null?(se.return=K,ue=se):Mm(X)}G=G.sibling}e:for(G=null,X=n;;){if(X.tag===5){if(G===null){G=X;try{d=X.stateNode,U?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=X.stateNode,C=X.memoizedProps.style,v=C!=null&&C.hasOwnProperty("display")?C.display:null,A.style.display=Do("display",v))}catch(de){ot(n,n.return,de)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=U?"":X.memoizedProps}catch(de){ot(n,n.return,de)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:jn(i,n),er(n),c&4&&Dm(n);break;case 21:break;default:jn(i,n),er(n)}}function er(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Cm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Fr(d,""),c.flags&=-33);var m=Nm(n);Lh(n,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,A=Nm(n);Oh(n,A,v);break;default:throw Error(t(161))}}catch(C){ot(n,n.return,C)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function B0(n,i,a){ue=n,Om(n)}function Om(n,i,a){for(var c=(n.mode&1)!==0;ue!==null;){var d=ue,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||ou;if(!v){var A=d.alternate,C=A!==null&&A.memoizedState!==null||Ft;A=ou;var U=Ft;if(ou=v,(Ft=C)&&!U)for(ue=d;ue!==null;)v=ue,C=v.child,v.tag===22&&v.memoizedState!==null?Fm(d):C!==null?(C.return=v,ue=C):Fm(d);for(;m!==null;)ue=m,Om(m),m=m.sibling;ue=d,ou=A,Ft=U}Lm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ue=m):Lm(n)}}function Lm(n){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ft||au(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Mn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Mp(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Mp(i,v,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var G=U.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&Dn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||i.flags&512&&Vh(i)}catch(K){ot(i,i.return,K)}}if(i===n){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function Mm(n){for(;ue!==null;){var i=ue;if(i===n){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function Fm(n){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{au(4,i)}catch(C){ot(i,a,C)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(C){ot(i,d,C)}}var m=i.return;try{Vh(i)}catch(C){ot(i,m,C)}break;case 5:var v=i.return;try{Vh(i)}catch(C){ot(i,v,C)}}}catch(C){ot(i,i.return,C)}if(i===n){ue=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ue=A;break}ue=i.return}}var $0=Math.ceil,lu=oe.ReactCurrentDispatcher,Mh=oe.ReactCurrentOwner,Tn=oe.ReactCurrentBatchConfig,Ue=0,It=null,ht=null,Ct=0,hn=0,no=Yr(0),_t=0,_a=null,Ki=0,uu=0,Fh=0,va=null,en=null,jh=0,ro=1/0,Sr=null,cu=!1,Uh=null,ni=null,hu=!1,ri=null,du=0,wa=0,zh=null,fu=-1,pu=0;function Wt(){return(Ue&6)!==0?Qe():fu!==-1?fu:fu=Qe()}function ii(n){return(n.mode&1)===0?1:(Ue&2)!==0&&Ct!==0?Ct&-Ct:k0.transition!==null?(pu===0&&(pu=Oi()),pu):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:Go(n.type)),n)}function Un(n,i,a,c){if(50<wa)throw wa=0,zh=null,Error(t(185));Br(n,a,c),((Ue&2)===0||n!==It)&&(n===It&&((Ue&2)===0&&(uu|=a),_t===4&&si(n,Ct)),tn(n,c),a===1&&Ue===0&&(i.mode&1)===0&&(ro=Qe()+500,Bl&&Jr()))}function tn(n,i){var a=n.callbackNode;dr(n,i);var c=Vi(n,n===It?Ct:0);if(c===0)a!==null&&$o(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&$o(a),i===1)n.tag===0?A0(Um.bind(null,n)):Ap(Um.bind(null,n)),E0(function(){(Ue&6)===0&&Jr()}),a=null;else{switch(qr(c)){case 1:a=bi;break;case 4:a=jr;break;case 16:a=mn;break;case 536870912:a=pl;break;default:a=mn}a=Gm(a,jm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function jm(n,i){if(fu=-1,pu=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(io()&&n.callbackNode!==a)return null;var c=Vi(n,n===It?Ct:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=mu(n,c);else{i=c;var d=Ue;Ue|=2;var m=Bm();(It!==n||Ct!==i)&&(Sr=null,ro=Qe()+500,Qi(n,i));do try{W0();break}catch(A){zm(n,A)}while(!0);sh(),lu.current=m,Ue=d,ht!==null?i=0:(It=null,Ct=0,i=_t)}if(i!==0){if(i===2&&(d=on(n),d!==0&&(c=d,i=Bh(n,d))),i===1)throw a=_a,Qi(n,0),si(n,c),tn(n,Qe()),a;if(i===6)si(n,c);else{if(d=n.current.alternate,(c&30)===0&&!q0(d)&&(i=mu(n,c),i===2&&(m=on(n),m!==0&&(c=m,i=Bh(n,m))),i===1))throw a=_a,Qi(n,0),si(n,c),tn(n,Qe()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Yi(n,en,Sr);break;case 3:if(si(n,c),(c&130023424)===c&&(i=jh+500-Qe(),10<i)){if(Vi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Gc(Yi.bind(null,n,en,Sr),i);break}Yi(n,en,Sr);break;case 4:if(si(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var v=31-$t(c);m=1<<v,v=i[v],v>d&&(d=v),c&=~m}if(c=d,c=Qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*$0(c/1960))-c,10<c){n.timeoutHandle=Gc(Yi.bind(null,n,en,Sr),c);break}Yi(n,en,Sr);break;case 5:Yi(n,en,Sr);break;default:throw Error(t(329))}}}return tn(n,Qe()),n.callbackNode===a?jm.bind(null,n):null}function Bh(n,i){var a=va;return n.current.memoizedState.isDehydrated&&(Qi(n,i).flags|=256),n=mu(n,i),n!==2&&(i=en,en=a,i!==null&&$h(i)),n}function $h(n){en===null?en=n:en.push.apply(en,n)}function q0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!On(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function si(n,i){for(i&=~Fh,i&=~uu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-$t(i),c=1<<a;n[a]=-1,i&=~c}}function Um(n){if((Ue&6)!==0)throw Error(t(327));io();var i=Vi(n,0);if((i&1)===0)return tn(n,Qe()),null;var a=mu(n,i);if(n.tag!==0&&a===2){var c=on(n);c!==0&&(i=c,a=Bh(n,c))}if(a===1)throw a=_a,Qi(n,0),si(n,i),tn(n,Qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Yi(n,en,Sr),tn(n,Qe()),null}function qh(n,i){var a=Ue;Ue|=1;try{return n(i)}finally{Ue=a,Ue===0&&(ro=Qe()+500,Bl&&Jr())}}function Gi(n){ri!==null&&ri.tag===0&&(Ue&6)===0&&io();var i=Ue;Ue|=1;var a=Tn.transition,c=Oe;try{if(Tn.transition=null,Oe=1,n)return n()}finally{Oe=c,Tn.transition=a,Ue=i,(Ue&6)===0&&Jr()}}function Hh(){hn=no.current,Ze(no)}function Qi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,w0(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(eh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ul();break;case 3:Zs(),Ze(Xt),Ze(Ot),fh();break;case 5:hh(c);break;case 4:Zs();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:oh(c.type._context);break;case 22:case 23:Hh()}a=a.return}if(It=n,ht=n=oi(n.current,null),Ct=hn=i,_t=0,_a=null,Fh=uu=Ki=0,en=va=null,qi!==null){for(i=0;i<qi.length;i++)if(a=qi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}a.pending=c}qi=null}return n}function zm(n,i){do{var a=ht;try{if(sh(),Jl.current=nu,Zl){for(var c=it.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Zl=!1}if(Wi=0,Tt=yt=it=null,da=!1,fa=0,Mh.current=null,a===null||a.return===null){_t=1,_a=i,ht=null;break}e:{var m=n,v=a.return,A=a,C=i;if(i=Ct,A.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var U=C,G=A,X=G.tag;if((G.mode&1)===0&&(X===0||X===11||X===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var se=dm(v);if(se!==null){se.flags&=-257,fm(se,v,A,m,i),se.mode&1&&hm(m,U,i),i=se,C=U;var he=i.updateQueue;if(he===null){var de=new Set;de.add(C),i.updateQueue=de}else he.add(C);break e}else{if((i&1)===0){hm(m,U,i),Wh();break e}C=Error(t(426))}}else if(nt&&A.mode&1){var lt=dm(v);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),fm(lt,v,A,m,i),rh(eo(C,A));break e}}m=C=eo(C,A),_t!==4&&(_t=2),va===null?va=[m]:va.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var M=um(m,C,i);Lp(m,M);break e;case 1:A=C;var D=m.type,F=m.stateNode;if((m.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ni===null||!ni.has(F)))){m.flags|=65536,i&=-i,m.lanes|=i;var Z=cm(m,A,i);Lp(m,Z);break e}}m=m.return}while(m!==null)}qm(a)}catch(pe){i=pe,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function Bm(){var n=lu.current;return lu.current=nu,n===null?nu:n}function Wh(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||(Ki&268435455)===0&&(uu&268435455)===0||si(It,Ct)}function mu(n,i){var a=Ue;Ue|=2;var c=Bm();(It!==n||Ct!==i)&&(Sr=null,Qi(n,i));do try{H0();break}catch(d){zm(n,d)}while(!0);if(sh(),Ue=a,lu.current=c,ht!==null)throw Error(t(261));return It=null,Ct=0,_t}function H0(){for(;ht!==null;)$m(ht)}function W0(){for(;ht!==null&&!dl();)$m(ht)}function $m(n){var i=Km(n.alternate,n,hn);n.memoizedProps=n.pendingProps,i===null?qm(n):ht=i,Mh.current=null}function qm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=F0(a,i,hn),a!==null){ht=a;return}}else{if(a=j0(a,i),a!==null){a.flags&=32767,ht=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=n}while(i!==null);_t===0&&(_t=5)}function Yi(n,i,a){var c=Oe,d=Tn.transition;try{Tn.transition=null,Oe=1,K0(n,i,a,c)}finally{Tn.transition=d,Oe=c}return null}function K0(n,i,a,c){do io();while(ri!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Ke(n,m),n===It&&(ht=It=null,Ct=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||hu||(hu=!0,Gm(mn,function(){return io(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Tn.transition,Tn.transition=null;var v=Oe;Oe=1;var A=Ue;Ue|=4,Mh.current=null,z0(n,a),Vm(a,n),f0(Wc),Wr=!!Hc,Wc=Hc=null,n.current=a,B0(a),Rc(),Ue=A,Oe=v,Tn.transition=m}else n.current=a;if(hu&&(hu=!1,ri=n,du=d),m=n.pendingLanes,m===0&&(ni=null),ml(a.stateNode),tn(n,Qe()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(cu)throw cu=!1,n=Uh,Uh=null,n;return(du&1)!==0&&n.tag!==0&&io(),m=n.pendingLanes,(m&1)!==0?n===zh?wa++:(wa=0,zh=n):wa=0,Jr(),null}function io(){if(ri!==null){var n=qr(du),i=Tn.transition,a=Oe;try{if(Tn.transition=null,Oe=16>n?16:n,ri===null)var c=!1;else{if(n=ri,ri=null,du=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,ue=n.current;ue!==null;){var m=ue,v=m.child;if((ue.flags&16)!==0){var A=m.deletions;if(A!==null){for(var C=0;C<A.length;C++){var U=A[C];for(ue=U;ue!==null;){var G=ue;switch(G.tag){case 0:case 11:case 15:ya(8,G,m)}var X=G.child;if(X!==null)X.return=G,ue=X;else for(;ue!==null;){G=ue;var K=G.sibling,se=G.return;if(Rm(G),G===U){ue=null;break}if(K!==null){K.return=se,ue=K;break}ue=se}}}var he=m.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var lt=de.sibling;de.sibling=null,de=lt}while(de!==null)}}ue=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,ue=v;else e:for(;ue!==null;){if(m=ue,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ya(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,ue=M;break e}ue=m.return}}var D=n.current;for(ue=D;ue!==null;){v=ue;var F=v.child;if((v.subtreeFlags&2064)!==0&&F!==null)F.return=v,ue=F;else e:for(v=D;ue!==null;){if(A=ue,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:au(9,A)}}catch(pe){ot(A,A.return,pe)}if(A===v){ue=null;break e}var Z=A.sibling;if(Z!==null){Z.return=A.return,ue=Z;break e}ue=A.return}}if(Ue=d,Jr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Di,n)}catch{}c=!0}return c}finally{Oe=a,Tn.transition=i}}return!1}function Hm(n,i,a){i=eo(a,i),i=um(n,i,1),n=ei(n,i,1),i=Wt(),n!==null&&(Br(n,1,i),tn(n,i))}function ot(n,i,a){if(n.tag===3)Hm(n,n,a);else for(;i!==null;){if(i.tag===3){Hm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){n=eo(a,n),n=cm(i,n,1),i=ei(i,n,1),n=Wt(),i!==null&&(Br(i,1,n),tn(i,n));break}}i=i.return}}function G0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Wt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Ct&a)===a&&(_t===4||_t===3&&(Ct&130023424)===Ct&&500>Qe()-jh?Qi(n,0):Fh|=a),tn(n,i)}function Wm(n,i){i===0&&((n.mode&1)===0?i=1:(i=xs,xs<<=1,(xs&130023424)===0&&(xs=4194304)));var a=Wt();n=Er(n,i),n!==null&&(Br(n,i,a),tn(n,a))}function Q0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Wm(n,a)}function Y0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Wm(n,a)}var Km;Km=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Xt.current)Zt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,M0(n,i,a);Zt=(n.flags&131072)!==0}else Zt=!1,nt&&(i.flags&1048576)!==0&&kp(i,ql,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;su(n,i),n=i.pendingProps;var d=Ws(i,Ot.current);Js(i,a),d=gh(null,i,c,n,d,a);var m=yh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(c)?(m=!0,zl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,uh(i),d.updater=ru,i.stateNode=d,d._reactInternals=i,Ih(i,c,n,a),i=xh(null,i,c,!0,m,a)):(i.tag=0,nt&&m&&Zc(i),Ht(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(su(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=J0(c),n=Mn(c,n),d){case 0:i=kh(null,i,c,n,a);break e;case 1:i=vm(null,i,c,n,a);break e;case 11:i=pm(null,i,c,n,a);break e;case 14:i=mm(null,i,c,Mn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),kh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),vm(n,i,c,d,a);case 3:e:{if(wm(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Op(n,i),Yl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=eo(Error(t(423)),i),i=Em(n,i,c,a,d);break e}else if(c!==d){d=eo(Error(t(424)),i),i=Em(n,i,c,a,d);break e}else for(cn=Qr(i.stateNode.containerInfo.firstChild),un=i,nt=!0,Ln=null,a=Dp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),c===d){i=Ir(n,i,a);break e}Ht(n,i,c,a)}i=i.child}return i;case 5:return Fp(i),n===null&&nh(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,v=d.children,Kc(c,d)?v=null:m!==null&&Kc(c,m)&&(i.flags|=32),_m(n,i),Ht(n,i,v,a),i.child;case 6:return n===null&&nh(i),null;case 13:return Tm(n,i,a);case 4:return ch(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Ys(i,null,c,a):Ht(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),pm(n,i,c,d,a);case 7:return Ht(n,i,i.pendingProps,a),i.child;case 8:return Ht(n,i,i.pendingProps.children,a),i.child;case 12:return Ht(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,v=d.value,Ye(Kl,c._currentValue),c._currentValue=v,m!==null)if(On(m.value,v)){if(m.children===d.children&&!Xt.current){i=Ir(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var A=m.dependencies;if(A!==null){v=m.child;for(var C=A.firstContext;C!==null;){if(C.context===c){if(m.tag===1){C=Tr(-1,a&-a),C.tag=2;var U=m.updateQueue;if(U!==null){U=U.shared;var G=U.pending;G===null?C.next=C:(C.next=G.next,G.next=C),U.pending=C}}m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),ah(m.return,a,i),A.lanes|=a;break}C=C.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),ah(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Ht(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Js(i,a),d=wn(d),c=c(d),i.flags|=1,Ht(n,i,c,a),i.child;case 14:return c=i.type,d=Mn(c,i.pendingProps),d=Mn(c.type,d),mm(n,i,c,d,a);case 15:return gm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),su(n,i),i.tag=1,Jt(c)?(n=!0,zl(i)):n=!1,Js(i,a),am(i,c,d),Ih(i,c,d,a),xh(null,i,c,!0,n,a);case 19:return Sm(n,i,a);case 22:return ym(n,i,a)}throw Error(t(156,i.tag))};function Gm(n,i){return As(n,i)}function X0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,i,a,c){return new X0(n,i,a,c)}function Kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function J0(n){if(typeof n=="function")return Kh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===J)return 14}return 2}function oi(n,i){var a=n.alternate;return a===null?(a=In(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function gu(n,i,a,c,d,m){var v=2;if(c=n,typeof n=="function")Kh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case N:return Xi(a.children,d,m,i);case T:v=8,d|=8;break;case S:return n=In(12,a,i,d|2),n.elementType=S,n.lanes=m,n;case k:return n=In(13,a,i,d),n.elementType=k,n.lanes=m,n;case ze:return n=In(19,a,i,d),n.elementType=ze,n.lanes=m,n;case ye:return yu(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:v=10;break e;case b:v=9;break e;case V:v=11;break e;case J:v=14;break e;case Te:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=In(v,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function Xi(n,i,a,c){return n=In(7,n,c,i),n.lanes=a,n}function yu(n,i,a,c){return n=In(22,n,c,i),n.elementType=ye,n.lanes=a,n.stateNode={isHidden:!1},n}function Gh(n,i,a){return n=In(6,n,null,i),n.lanes=a,n}function Qh(n,i,a){return i=In(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Z0(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Yh(n,i,a,c,d,m,v,A,C){return n=new Z0(n,i,a,A,C),i===1?(i=1,m===!0&&(i|=8)):i=0,m=In(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},uh(m),n}function ew(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Qm(n){if(!n)return Xr;n=n._reactInternals;e:{if(Pn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Jt(a))return Ip(n,a,i)}return i}function Ym(n,i,a,c,d,m,v,A,C){return n=Yh(a,c,!0,n,d,m,v,A,C),n.context=Qm(null),a=n.current,c=Wt(),d=ii(a),m=Tr(c,d),m.callback=i??null,ei(a,m,d),n.current.lanes=d,Br(n,d,c),tn(n,c),n}function _u(n,i,a,c){var d=i.current,m=Wt(),v=ii(d);return a=Qm(a),i.context===null?i.context=a:i.pendingContext=a,i=Tr(m,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ei(d,i,v),n!==null&&(Un(n,d,v,m),Ql(n,d,v)),v}function vu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Xm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Xh(n,i){Xm(n,i),(n=n.alternate)&&Xm(n,i)}function tw(){return null}var Jm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Jh(n){this._internalRoot=n}wu.prototype.render=Jh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));_u(n,i,null,null)},wu.prototype.unmount=Jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Gi(function(){_u(null,n,null,null)}),i[yr]=null}};function wu(n){this._internalRoot=n}wu.prototype.unstable_scheduleHydration=function(n){if(n){var i=wl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Kn.length&&i!==0&&i<Kn[a].priority;a++);Kn.splice(a,0,n),a===0&&Il(n)}};function Zh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Eu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function nw(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var U=vu(v);m.call(U)}}var v=Ym(i,c,n,0,null,!1,!1,"",Zm);return n._reactRootContainer=v,n[yr]=v.current,ia(n.nodeType===8?n.parentNode:n),Gi(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var U=vu(C);A.call(U)}}var C=Yh(n,0,!1,null,null,!1,!1,"",Zm);return n._reactRootContainer=C,n[yr]=C.current,ia(n.nodeType===8?n.parentNode:n),Gi(function(){_u(i,C,a,c)}),C}function Tu(n,i,a,c,d){var m=a._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var A=d;d=function(){var C=vu(v);A.call(C)}}_u(i,v,n,d)}else v=nw(a,i,n,d,c);return vu(v)}_l=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ur(i.pendingLanes);a!==0&&($r(i,a|1),tn(i,Qe()),(Ue&6)===0&&(ro=Qe()+500,Jr()))}break;case 13:Gi(function(){var c=Er(n,1);if(c!==null){var d=Wt();Un(c,n,1,d)}}),Xh(n,1)}},Ps=function(n){if(n.tag===13){var i=Er(n,134217728);if(i!==null){var a=Wt();Un(i,n,134217728,a)}Xh(n,134217728)}},vl=function(n){if(n.tag===13){var i=ii(n),a=Er(n,i);if(a!==null){var c=Wt();Un(a,n,i,c)}Xh(n,i)}},wl=function(){return Oe},El=function(n,i){var a=Oe;try{return Oe=n,i()}finally{Oe=a}},vs=function(n,i,a){switch(i){case"input":if(Ro(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=jl(c);if(!d)throw Error(t(90));fs(c),Ro(c,d)}}}break;case"textarea":ys(n,a);break;case"select":i=a.value,i!=null&&ur(n,!!a.multiple,i,!1)}},Pi=qh,jo=Gi;var rw={usingClientEntryPoint:!1,Events:[aa,qs,jl,Hn,Fo,qh]},Ea={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iw={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Bo(n),n===null?null:n.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||tw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Di=Iu.inject(iw),sn=Iu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rw,nn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(i))throw Error(t(200));return ew(n,i,null,a)},nn.createRoot=function(n,i){if(!Zh(n))throw Error(t(299));var a=!1,c="",d=Jm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Yh(n,1,!1,null,null,a,!1,c,d),n[yr]=i.current,ia(n.nodeType===8?n.parentNode:n),new Jh(i)},nn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Bo(i),n=n===null?null:n.stateNode,n},nn.flushSync=function(n){return Gi(n)},nn.hydrate=function(n,i,a){if(!Eu(i))throw Error(t(200));return Tu(null,n,i,!0,a)},nn.hydrateRoot=function(n,i,a){if(!Zh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",v=Jm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=Ym(i,null,n,1,a??null,d,!1,m,v),n[yr]=i.current,ia(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new wu(i)},nn.render=function(n,i,a){if(!Eu(i))throw Error(t(200));return Tu(null,n,i,!1,a)},nn.unmountComponentAtNode=function(n){if(!Eu(n))throw Error(t(40));return n._reactRootContainer?(Gi(function(){Tu(null,null,n,!1,function(){n._reactRootContainer=null,n[yr]=null})}),!0):!1},nn.unstable_batchedUpdates=qh,nn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Eu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Tu(n,i,a,!1,c)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var ag;function dw(){if(ag)return nd.exports;ag=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nd.exports=hw(),nd.exports}var lg;function fw(){if(lg)return Su;lg=1;var r=dw();return Su.createRoot=r.createRoot,Su.hydrateRoot=r.hydrateRoot,Su}var pw=fw();const mw=Ny(pw);var ug={};const by=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},gw=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Dy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,w=l>>2,x=(l&3)<<4|f>>4;let P=(f&15)<<2|_>>6,j=_&63;g||(j=64,h||(P=64)),s.push(t[w],t[x],t[P],t[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(by(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const x=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||_==null||x==null)throw new yw;const P=l<<2|f>>4;if(s.push(P),_!==64){const j=f<<4&240|_>>2;if(s.push(j),x!==64){const z=_<<6&192|x;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _w=function(r){const e=by(r);return Dy.encodeByteArray(e,!0)},qu=function(r){return _w(r).replace(/\./g,"")},Vy=function(r){try{return Dy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ww=()=>vw().__FIREBASE_DEFAULTS__,Ew=()=>{if(typeof process>"u"||typeof ug>"u")return;const r=ug.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Tw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Vy(r[1]);return e&&JSON.parse(e)},oc=()=>{try{return ww()||Ew()||Tw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Oy=r=>{var e,t;return(t=(e=oc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Iw=r=>{const e=Oy(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ly=()=>{var r;return(r=oc())===null||r===void 0?void 0:r.config},My=r=>{var e;return(e=oc())===null||e===void 0?void 0:e[`_${r}`]};class Sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Aw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[qu(JSON.stringify(t)),qu(JSON.stringify(h)),""].join(".")}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function xw(){var r;const e=(r=oc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Cw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nw(){const r=Bt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bw(){return!xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dw(){try{return typeof indexedDB=="object"}catch{return!1}}function Vw(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const Ow="FirebaseError";class Or extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Ow,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?Lw(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Or(o,f,s)}}function Lw(r,e){return r.replace(Mw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Mw=/\{\$([^}]+)}/g;function Fw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(cg(l)&&cg(h)){if(!Hu(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function cg(r){return r!==null&&typeof r=="object"}function Ya(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Sa(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Aa(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function jw(r,e){const t=new Uw(r,e);return t.subscribe.bind(t)}class Uw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");zw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=sd),o.error===void 0&&(o.error=sd),o.complete===void 0&&(o.complete=sd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zw(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function sd(){}function kt(r){return r&&r._delegate?r._delegate:r}class ss{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zi="[DEFAULT]";class Bw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Sw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qw(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$w(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $w(r){return r===Zi?void 0:r}function qw(r){return r.instantiationMode==="EAGER"}class Hw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Bw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const Ww={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Kw=Le.INFO,Gw={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Qw=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Gw[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qd{constructor(e){this.name=e,this._logLevel=Kw,this._logHandler=Qw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ww[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Yw=(r,e)=>e.some(t=>r instanceof t);let hg,dg;function Xw(){return hg||(hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jw(){return dg||(dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fy=new WeakMap,vd=new WeakMap,jy=new WeakMap,od=new WeakMap,Yd=new WeakMap;function Zw(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(pi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Fy.set(t,r)}).catch(()=>{}),Yd.set(e,r),e}function eE(r){if(vd.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});vd.set(r,e)}let wd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return vd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tE(r){wd=r(wd)}function nE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(ad(this),e,...t);return jy.set(s,e.sort?e.sort():[e]),pi(s)}:Jw().includes(r)?function(...e){return r.apply(ad(this),e),pi(Fy.get(this))}:function(...e){return pi(r.apply(ad(this),e))}}function rE(r){return typeof r=="function"?nE(r):(r instanceof IDBTransaction&&eE(r),Yw(r,Xw())?new Proxy(r,wd):r)}function pi(r){if(r instanceof IDBRequest)return Zw(r);if(od.has(r))return od.get(r);const e=rE(r);return e!==r&&(od.set(r,e),Yd.set(e,r)),e}const ad=r=>Yd.get(r);function iE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=pi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(pi(h.result),g.oldVersion,g.newVersion,pi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const sE=["get","getKey","getAll","getAllKeys","count"],oE=["put","add","delete","clear"],ld=new Map;function fg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ld.get(e))return ld.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=oE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sE.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),o&&g.done]))[0]};return ld.set(e,l),l}tE(r=>({...r,get:(e,t,s)=>fg(e,t)||r.get(e,t,s),has:(e,t)=>!!fg(e,t)||r.has(e,t)}));class aE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function lE(r){const e=r.getComponent();return e?.type==="VERSION"}const Ed="@firebase/app",pg="0.10.13";const Cr=new Qd("@firebase/app"),uE="@firebase/app-compat",cE="@firebase/analytics-compat",hE="@firebase/analytics",dE="@firebase/app-check-compat",fE="@firebase/app-check",pE="@firebase/auth",mE="@firebase/auth-compat",gE="@firebase/database",yE="@firebase/data-connect",_E="@firebase/database-compat",vE="@firebase/functions",wE="@firebase/functions-compat",EE="@firebase/installations",TE="@firebase/installations-compat",IE="@firebase/messaging",SE="@firebase/messaging-compat",AE="@firebase/performance",kE="@firebase/performance-compat",xE="@firebase/remote-config",PE="@firebase/remote-config-compat",RE="@firebase/storage",CE="@firebase/storage-compat",NE="@firebase/firestore",bE="@firebase/vertexai-preview",DE="@firebase/firestore-compat",VE="firebase",OE="10.14.1";const Td="[DEFAULT]",LE={[Ed]:"fire-core",[uE]:"fire-core-compat",[hE]:"fire-analytics",[cE]:"fire-analytics-compat",[fE]:"fire-app-check",[dE]:"fire-app-check-compat",[pE]:"fire-auth",[mE]:"fire-auth-compat",[gE]:"fire-rtdb",[yE]:"fire-data-connect",[_E]:"fire-rtdb-compat",[vE]:"fire-fn",[wE]:"fire-fn-compat",[EE]:"fire-iid",[TE]:"fire-iid-compat",[IE]:"fire-fcm",[SE]:"fire-fcm-compat",[AE]:"fire-perf",[kE]:"fire-perf-compat",[xE]:"fire-rc",[PE]:"fire-rc-compat",[RE]:"fire-gcs",[CE]:"fire-gcs-compat",[NE]:"fire-fst",[DE]:"fire-fst-compat",[bE]:"fire-vertex","fire-js":"fire-js",[VE]:"fire-js-all"};const Wu=new Map,ME=new Map,Id=new Map;function mg(r,e){try{r.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function fo(r){const e=r.name;if(Id.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,r);for(const t of Wu.values())mg(t,r);for(const t of ME.values())mg(t,r);return!0}function Xd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r.settings!==void 0}const FE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Qa("app","Firebase",FE);class jE{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const Eo=OE;function Uy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Td,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=Ly()),!t)throw mi.create("no-options");const l=Wu.get(o);if(l){if(Hu(t,l.options)&&Hu(s,l.config))return l;throw mi.create("duplicate-app",{appName:o})}const h=new Hw(o);for(const g of Id.values())h.addComponent(g);const f=new jE(t,s,h);return Wu.set(o,f),f}function zy(r=Td){const e=Wu.get(r);if(!e&&r===Td&&Ly())return Uy();if(!e)throw mi.create("no-app",{appName:r});return e}function gi(r,e,t){var s;let o=(s=LE[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(f.join(" "));return}fo(new ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const UE="firebase-heartbeat-database",zE=1,La="firebase-heartbeat-store";let ud=null;function By(){return ud||(ud=iE(UE,zE,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(La)}catch(t){console.warn(t)}}}}).catch(r=>{throw mi.create("idb-open",{originalErrorMessage:r.message})})),ud}async function BE(r){try{const t=(await By()).transaction(La),s=await t.objectStore(La).get($y(r));return await t.done,s}catch(e){if(e instanceof Or)Cr.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(t.message)}}}async function gg(r,e){try{const s=(await By()).transaction(La,"readwrite");await s.objectStore(La).put(e,$y(r)),await s.done}catch(t){if(t instanceof Or)Cr.warn(t.message);else{const s=mi.create("idb-set",{originalErrorMessage:t?.message});Cr.warn(s.message)}}}function $y(r){return`${r.name}!${r.options.appId}`}const $E=1024,qE=720*60*60*1e3;class HE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KE(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=yg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=qE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yg(),{heartbeatsToSend:s,unsentEntries:o}=WE(this._heartbeatsCache.heartbeats),l=qu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Cr.warn(t),""}}}function yg(){return new Date().toISOString().substring(0,10)}function WE(r,e=$E){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),_g(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_g(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class KE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dw()?Vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BE(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return gg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return gg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _g(r){return qu(JSON.stringify({version:2,heartbeats:r})).length}function GE(r){fo(new ss("platform-logger",e=>new aE(e),"PRIVATE")),fo(new ss("heartbeat",e=>new HE(e),"PRIVATE")),gi(Ed,pg,r),gi(Ed,pg,"esm2017"),gi("fire-js","")}GE("");function Jd(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function qy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QE=qy,Hy=new Qa("auth","Firebase",qy());const Ku=new Qd("@firebase/auth");function YE(r,...e){Ku.logLevel<=Le.WARN&&Ku.warn(`Auth (${Eo}): ${r}`,...e)}function Vu(r,...e){Ku.logLevel<=Le.ERROR&&Ku.error(`Auth (${Eo}): ${r}`,...e)}function An(r,...e){throw ef(r,...e)}function zn(r,...e){return ef(r,...e)}function Zd(r,e,t){const s=Object.assign(Object.assign({},QE()),{[e]:t});return new Qa("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return Zd(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XE(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&An(r,"argument-error"),Zd(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ef(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Hy.create(r,...e)}function Se(r,e,...t){if(!r)throw ef(e,...t)}function kr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vu(e),new Error(e)}function Nr(r,e){r||kr(e)}function Sd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function JE(){return vg()==="http:"||vg()==="https:"}function vg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function ZE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JE()||Rw()||"connection"in navigator)?navigator.onLine:!0}function eT(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xa{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nr(t>e,"Short delay should be less than long delay!"),this.isMobile=kw()||Cw()}get(){return ZE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tf(r,e){Nr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Wy{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nT=new Xa(3e4,6e4);function Ei(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ti(r,e,t,s,o={}){return Ky(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=Ya(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:g},l);return Pw()||(_.referrerPolicy="no-referrer"),Wy.fetch()(Gy(r,r.config.apiHost,t,f),_)})}async function Ky(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},tT),e);try{const o=new iT(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Au(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,_]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Au(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Au(r,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Zd(r,w,_);An(r,w)}}catch(o){if(o instanceof Or)throw o;An(r,"network-request-failed",{message:String(o)})}}async function Ja(r,e,t,s,o={}){const l=await Ti(r,e,t,s,o);return"mfaPendingCredential"in l&&An(r,"multi-factor-auth-required",{_serverResponse:l}),l}function Gy(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?tf(r.config,o):`${r.config.apiScheme}://${o}`}function rT(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iT{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),nT.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=zn(r,e,s);return o.customData._tokenResponse=t,o}function wg(r){return r!==void 0&&r.enterprise!==void 0}class sT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oT(r,e){return Ti(r,"GET","/v2/recaptchaConfig",Ei(r,e))}async function aT(r,e){return Ti(r,"POST","/v1/accounts:delete",e)}async function Qy(r,e){return Ti(r,"POST","/v1/accounts:lookup",e)}function Ca(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lT(r,e=!1){const t=kt(r),s=await t.getIdToken(e),o=nf(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:s,authTime:Ca(cd(o.auth_time)),issuedAtTime:Ca(cd(o.iat)),expirationTime:Ca(cd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function cd(r){return Number(r)*1e3}function nf(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vy(t);return o?JSON.parse(o):(Vu("Failed to decode base64 JWT payload"),null)}catch(o){return Vu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Eg(r){const e=nf(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ma(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Or&&uT(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uT({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class cT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ad{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gu(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Ma(r,Qy(t,{idToken:s}));Se(o?.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Yy(l.providerUserInfo):[],f=dT(r.providerData,h),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!f?.length,w=g?_:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Ad(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,x)}async function hT(r){const e=kt(r);await Gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dT(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Yy(r){return r.map(e=>{var{providerId:t}=e,s=Jd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function fT(r,e){const t=await Ky(r,{},async()=>{const s=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=Gy(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Wy.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pT(r,e){return Ti(r,"POST","/v2/accounts:revokeToken",Ei(r,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Eg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Eg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await fT(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new lo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return kr("not implemented")}}function li(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ad(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lT(this,e)}reload(){return hT(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Gu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await Ma(this,aT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,g,_,w;const x=(s=t.displayName)!==null&&s!==void 0?s:void 0,P=(o=t.email)!==null&&o!==void 0?o:void 0,j=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,z=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(f=t.tenantId)!==null&&f!==void 0?f:void 0,B=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,te=(_=t.createdAt)!==null&&_!==void 0?_:void 0,ie=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:ee,emailVerified:oe,isAnonymous:Ce,providerData:Ee,stsTokenManager:N}=t;Se(ee&&N,e,"internal-error");const T=lo.fromJSON(this.name,N);Se(typeof ee=="string",e,"internal-error"),li(x,e.name),li(P,e.name),Se(typeof oe=="boolean",e,"internal-error"),Se(typeof Ce=="boolean",e,"internal-error"),li(j,e.name),li(z,e.name),li(q,e.name),li(B,e.name),li(te,e.name),li(ie,e.name);const S=new xr({uid:ee,auth:e,email:P,emailVerified:oe,displayName:x,isAnonymous:Ce,photoURL:z,phoneNumber:j,tenantId:q,stsTokenManager:T,createdAt:te,lastLoginAt:ie});return Ee&&Array.isArray(Ee)&&(S.providerData=Ee.map(R=>Object.assign({},R))),B&&(S._redirectEventId=B),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new lo;o.updateFromServerResponse(t);const l=new xr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gu(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Yy(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new lo;f.updateFromIdToken(s);const g=new xr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ad(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,_),g}}const Tg=new Map;function Pr(r){Nr(r instanceof Function,"Expected a class definition");let e=Tg.get(r);return e?(Nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Tg.set(r,e),e)}class Xy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xy.type="NONE";const Ig=Xy;function Ou(r,e,t){return`firebase:${r}:${e}:${t}`}class uo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Ou(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ou("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new uo(Pr(Ig),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Pr(Ig);const h=Ou(s,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const w=await _._get(h);if(w){const x=xr._fromJSON(e,w);_!==l&&(f=x),l=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new uo(l,e,s):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new uo(l,e,s))}}function Sg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r_(e))return"Blackberry";if(i_(e))return"Webos";if(Zy(e))return"Safari";if((e.includes("chrome/")||e_(e))&&!e.includes("edge/"))return"Chrome";if(n_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function Jy(r=Bt()){return/firefox\//i.test(r)}function Zy(r=Bt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e_(r=Bt()){return/crios\//i.test(r)}function t_(r=Bt()){return/iemobile/i.test(r)}function n_(r=Bt()){return/android/i.test(r)}function r_(r=Bt()){return/blackberry/i.test(r)}function i_(r=Bt()){return/webos/i.test(r)}function rf(r=Bt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mT(r=Bt()){var e;return rf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gT(){return Nw()&&document.documentMode===10}function s_(r=Bt()){return rf(r)||n_(r)||i_(r)||r_(r)||/windows phone/i.test(r)||t_(r)}function o_(r,e=[]){let t;switch(r){case"Browser":t=Sg(Bt());break;case"Worker":t=`${Sg(Bt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${s}`}class yT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function _T(r,e={}){return Ti(r,"GET","/v2/passwordPolicy",Ei(r,e))}const vT=6;class wT{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:vT,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class ET{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ag(this),this.idTokenSubscription=new Ag(this),this.beforeStateQueue=new yT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qy(this,{idToken:e}),s=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&g?.user&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(tr(this));const t=e?kt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _T(this),t=new wT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await pT(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&YE(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lr(r){return kt(r)}class Ag{constructor(e){this.auth=e,this.observer=null,this.addObserver=jw(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ac={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TT(r){ac=r}function a_(r){return ac.loadJS(r)}function IT(){return ac.recaptchaEnterpriseScript}function ST(){return ac.gapiScript}function AT(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const kT="recaptcha-enterprise",xT="NO_RECAPTCHA";class PT{constructor(e){this.type=kT,this.auth=Lr(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{oT(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const _=new sT(g);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,h(_.siteKey)}}).catch(g=>{f(g)})})}function o(l,h,f){const g=window.grecaptcha;wg(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(_=>{h(_)}).catch(()=>{h(xT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,h)=>{s(this.auth).then(f=>{if(!t&&wg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=IT();g.length!==0&&(g+=f),a_(g).then(()=>{o(f,l,h)}).catch(_=>{h(_)})}}).catch(f=>{h(f)})})}}async function kg(r,e,t,s=!1){const o=new PT(r);let l;try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const h=Object.assign({},e);return s?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function kd(r,e,t,s){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await kg(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kg(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(l)})}function RT(r,e){const t=Xd(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Hu(l,e??{}))return o;An(o,"already-initialized")}return t.initialize({options:e})}function CT(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Pr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function NT(r,e,t){const s=Lr(r);Se(s._canInitEmulator,s,"emulator-config-failed"),Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=l_(e),{host:h,port:f}=bT(e),g=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${h}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),DT()}function l_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function bT(r){const e=l_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:xg(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:xg(h)}}}function xg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DT(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,t){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function VT(r,e){return Ti(r,"POST","/v1/accounts:signUp",e)}async function OT(r,e){return Ja(r,"POST","/v1/accounts:signInWithPassword",Ei(r,e))}async function LT(r,e){return Ja(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}async function MT(r,e){return Ja(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}class Fa extends sf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fa(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Fa(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kd(e,t,"signInWithPassword",OT);case"emailLink":return LT(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kd(e,s,"signUpPassword",VT);case"emailLink":return MT(e,{idToken:t,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(r,e){return Ja(r,"POST","/v1/accounts:signInWithIdp",Ei(r,e))}const FT="http://localhost";class os extends sf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):An("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Jd(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new os(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,co(e,t)}buildRequest(){const e={requestUri:FT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ya(t)}return e}}function jT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UT(r){const e=Sa(Aa(r)).link,t=e?Sa(Aa(e)).deep_link_id:null,s=Sa(Aa(r)).deep_link_id;return(s?Sa(Aa(s)).link:null)||s||t||e||r}class of{constructor(e){var t,s,o,l,h,f;const g=Sa(Aa(e)),_=(t=g.apiKey)!==null&&t!==void 0?t:null,w=(s=g.oobCode)!==null&&s!==void 0?s:null,x=jT((o=g.mode)!==null&&o!==void 0?o:null);Se(_&&w&&x,"argument-error"),this.apiKey=_,this.operation=x,this.code=w,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=g.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=g.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=UT(e);try{return new of(t)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,t){return Fa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=of.parseLink(t);return Se(s,"argument-error"),Fa._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class af{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Za extends af{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ui extends Za{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";class Ar extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return os._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ar.credential(t,s)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";class ci extends Za{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";class hi extends Za{constructor(){super("twitter.com")}static credential(e,t){return os._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";async function u_(r,e){return Ja(r,"POST","/v1/accounts:signUp",Ei(r,e))}class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await xr._fromIdTokenResponse(e,s,o),h=Pg(s);return new br({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Pg(s);return new br({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Pg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function zT(r){var e;if(Sn(r.app))return Promise.reject(tr(r));const t=Lr(r);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new br({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await u_(t,{returnSecureToken:!0}),o=await br._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}class Qu extends Or{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Qu(e,t,s,o)}}function c_(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qu._fromErrorAndOperation(r,l,e,s):l})}async function BT(r,e,t=!1){const s=await Ma(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return br._forOperation(r,"link",s)}async function $T(r,e,t=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const l=await Ma(r,c_(s,o,e,r),t);Se(l.idToken,s,"internal-error");const h=nf(l.idToken);Se(h,s,"internal-error");const{sub:f}=h;return Se(r.uid===f,s,"user-mismatch"),br._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&An(s,"user-mismatch"),l}}async function h_(r,e,t=!1){if(Sn(r.app))return Promise.reject(tr(r));const s="signIn",o=await c_(r,s,e),l=await br._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function qT(r,e){return h_(Lr(r),e)}async function d_(r){const e=Lr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HT(r,e,t){if(Sn(r.app))return Promise.reject(tr(r));const s=Lr(r),h=await kd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u_).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&d_(r),g}),f=await br._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function WT(r,e,t){return Sn(r.app)?Promise.reject(tr(r)):qT(kt(r),To.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&d_(r),s})}function KT(r,e,t,s){return kt(r).onIdTokenChanged(e,t,s)}function GT(r,e,t){return kt(r).beforeAuthStateChanged(e,t)}function QT(r,e,t,s){return kt(r).onAuthStateChanged(e,t,s)}function Rg(r){return kt(r).signOut()}const Yu="__sak";class f_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YT=1e3,XT=10;class p_ extends f_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);gT()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XT):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},YT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}p_.type="LOCAL";const JT=p_;class m_ extends f_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}m_.type="SESSION";const g_=m_;function ZT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class lc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new lc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async _=>_(t.origin,l)),g=await ZT(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lc.receivers=[];function lf(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class eI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const _=lf("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(x){const P=x;if(P.data.eventId===_)switch(P.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(P.data.response);break;default:clearTimeout(w),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function nr(){return window}function tI(r){nr().location.href=r}function y_(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function nI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function iI(){return y_()?self:null}const __="firebaseLocalStorageDb",sI=1,Xu="firebaseLocalStorage",v_="fbase_key";class el{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uc(r,e){return r.transaction([Xu],e?"readwrite":"readonly").objectStore(Xu)}function oI(){const r=indexedDB.deleteDatabase(__);return new el(r).toPromise()}function xd(){const r=indexedDB.open(__,sI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Xu,{keyPath:v_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Xu)?e(s):(s.close(),await oI(),e(await xd()))})})}async function Cg(r,e,t){const s=uc(r,!0).put({[v_]:e,value:t});return new el(s).toPromise()}async function aI(r,e){const t=uc(r,!1).get(e),s=await new el(t).toPromise();return s===void 0?null:s.value}function Ng(r,e){const t=uc(r,!0).delete(e);return new el(t).toPromise()}const lI=800,uI=3;class w_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>uI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lc._getInstance(iI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nI(),!this.activeServiceWorker)return;this.sender=new eI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xd();return await Cg(e,Yu,"1"),await Ng(e,Yu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>aI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ng(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=uc(o,!1).getAll();return new el(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w_.type="LOCAL";const cI=w_;new Xa(3e4,6e4);function E_(r,e){return e?Pr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class uf extends sf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hI(r){return h_(r.auth,new uf(r),r.bypassAuthState)}function dI(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),$T(t,new uf(r),r.bypassAuthState)}async function fI(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),BT(t,new uf(r),r.bypassAuthState)}class T_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:An(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pI=new Xa(2e3,1e4);async function mI(r,e,t){if(Sn(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const s=Lr(r);XE(r,e,af);const o=E_(s,t);return new es(s,"signInViaPopup",e,o).executeNotNull()}class es extends T_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=lf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pI.get())};e()}}es.currentPopupAction=null;const gI="pendingRedirect",Lu=new Map;class yI extends T_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const s=await _I(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(r,e){const t=EI(e),s=wI(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function vI(r,e){Lu.set(r._key(),e)}function wI(r){return Pr(r._redirectPersistence)}function EI(r){return Ou(gI,r.config.apiKey,r.name)}async function TI(r,e,t=!1){if(Sn(r.app))return Promise.reject(tr(r));const s=Lr(r),o=E_(s,e),h=await new yI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const II=600*1e3;class SI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!I_(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=II&&this.cachedEventUids.clear(),this.cachedEventUids.has(bg(e))}saveEventToCache(e){this.cachedEventUids.add(bg(e)),this.lastProcessedEventTime=Date.now()}}function bg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function I_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function AI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I_(r);default:return!1}}async function kI(r,e={}){return Ti(r,"GET","/v1/projects",e)}const xI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PI=/^https?/;async function RI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kI(r);for(const t of e)try{if(CI(t))return}catch{}An(r,"unauthorized-domain")}function CI(r){const e=Sd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!PI.test(t))return!1;if(xI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const NI=new Xa(3e4,6e4);function Dg(){const r=nr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function bI(r){return new Promise((e,t)=>{var s,o,l;function h(){Dg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dg(),t(zn(r,"network-request-failed"))},timeout:NI.get()})}if(!((o=(s=nr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=nr().gapi)===null||l===void 0)&&l.load)h();else{const f=AT("iframefcb");return nr()[f]=()=>{gapi.load?h():t(zn(r,"network-request-failed"))},a_(`${ST()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function DI(r){return Mu=Mu||bI(r),Mu}const VI=new Xa(5e3,15e3),OI="__/auth/iframe",LI="emulator/auth/iframe",MI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?tf(e,LI):`https://${r.config.authDomain}/${OI}`,s={apiKey:e.apiKey,appName:r.name,v:Eo},o=FI.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ya(s).slice(1)}`}async function UI(r){const e=await DI(r),t=nr().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:jI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MI,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=zn(r,"network-request-failed"),f=nr().setTimeout(()=>{l(h)},VI.get());function g(){nr().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{l(h)})}))}const zI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BI=500,$I=600,qI="_blank",HI="http://localhost";class Vg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WI(r,e,t,s=BI,o=$I){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},zI),{width:s.toString(),height:o.toString(),top:l,left:h}),_=Bt().toLowerCase();t&&(f=e_(_)?qI:t),Jy(_)&&(e=e||HI,g.scrollbars="yes");const w=Object.entries(g).reduce((P,[j,z])=>`${P}${j}=${z},`,"");if(mT(_)&&f!=="_self")return KI(e||"",f),new Vg(null);const x=window.open(e||"",f,w);Se(x,r,"popup-blocked");try{x.focus()}catch{}return new Vg(x)}function KI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const GI="__/auth/handler",QI="emulator/auth/handler",YI=encodeURIComponent("fac");async function Og(r,e,t,s,o,l){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Eo,eventId:o};if(e instanceof af){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Fw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))h[w]=x}if(e instanceof Za){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await r._getAppCheckToken(),_=g?`#${YI}=${encodeURIComponent(g)}`:"";return`${XI(r)}?${Ya(f).slice(1)}${_}`}function XI({config:r}){return r.emulator?tf(r,QI):`https://${r.authDomain}/${GI}`}const hd="webStorageSupport";class JI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g_,this._completeRedirectFn=TI,this._overrideRedirectResult=vI}async _openPopup(e,t,s,o){var l;Nr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Og(e,t,s,Sd(),o);return WI(e,h,lf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Og(e,t,s,Sd(),o);return tI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Nr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await UI(e),s=new SI(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hd,{type:hd},o=>{var l;const h=(l=o?.[0])===null||l===void 0?void 0:l[hd];h!==void 0&&t(!!h),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return s_()||Zy()||rf()}}const ZI=JI;var Lg="@firebase/auth",Mg="1.7.9";class e1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n1(r){fo(new ss("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o_(r)},_=new ET(s,o,l,g);return CT(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),fo(new ss("auth-internal",e=>{const t=Lr(e.getProvider("auth").getImmediate());return(s=>new e1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(Lg,Mg,t1(r)),gi(Lg,Mg,"esm2017")}const r1=300,i1=My("authIdTokenMaxAge")||r1;let Fg=null;const s1=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>i1)return;const o=t?.token;Fg!==o&&(Fg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o1(r=zy()){const e=Xd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=RT(r,{popupRedirectResolver:ZI,persistence:[cI,JT,g_]}),s=My("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=s1(l.toString());GT(t,h,()=>h(t.currentUser)),KT(t,f=>h(f))}}const o=Oy("auth");return o&&NT(t,`http://${o}`),t}function a1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}TT({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=zn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",a1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n1("Browser");var l1="firebase",u1="10.14.1";gi(l1,u1,"app");var jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,S_;(function(){var r;function e(N,T){function S(){}S.prototype=T.prototype,N.D=T.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(R,b,V){for(var k=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)k[ze-2]=arguments[ze];return T.prototype[b].apply(R,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,S){S||(S=0);var R=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)R[b]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(b=0;16>b;++b)R[b]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=N.g[0],S=N.g[1],b=N.g[2];var V=N.g[3],k=T+(V^S&(b^V))+R[0]+3614090360&4294967295;T=S+(k<<7&4294967295|k>>>25),k=V+(b^T&(S^b))+R[1]+3905402710&4294967295,V=T+(k<<12&4294967295|k>>>20),k=b+(S^V&(T^S))+R[2]+606105819&4294967295,b=V+(k<<17&4294967295|k>>>15),k=S+(T^b&(V^T))+R[3]+3250441966&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(V^S&(b^V))+R[4]+4118548399&4294967295,T=S+(k<<7&4294967295|k>>>25),k=V+(b^T&(S^b))+R[5]+1200080426&4294967295,V=T+(k<<12&4294967295|k>>>20),k=b+(S^V&(T^S))+R[6]+2821735955&4294967295,b=V+(k<<17&4294967295|k>>>15),k=S+(T^b&(V^T))+R[7]+4249261313&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(V^S&(b^V))+R[8]+1770035416&4294967295,T=S+(k<<7&4294967295|k>>>25),k=V+(b^T&(S^b))+R[9]+2336552879&4294967295,V=T+(k<<12&4294967295|k>>>20),k=b+(S^V&(T^S))+R[10]+4294925233&4294967295,b=V+(k<<17&4294967295|k>>>15),k=S+(T^b&(V^T))+R[11]+2304563134&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(V^S&(b^V))+R[12]+1804603682&4294967295,T=S+(k<<7&4294967295|k>>>25),k=V+(b^T&(S^b))+R[13]+4254626195&4294967295,V=T+(k<<12&4294967295|k>>>20),k=b+(S^V&(T^S))+R[14]+2792965006&4294967295,b=V+(k<<17&4294967295|k>>>15),k=S+(T^b&(V^T))+R[15]+1236535329&4294967295,S=b+(k<<22&4294967295|k>>>10),k=T+(b^V&(S^b))+R[1]+4129170786&4294967295,T=S+(k<<5&4294967295|k>>>27),k=V+(S^b&(T^S))+R[6]+3225465664&4294967295,V=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(V^T))+R[11]+643717713&4294967295,b=V+(k<<14&4294967295|k>>>18),k=S+(V^T&(b^V))+R[0]+3921069994&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(b^V&(S^b))+R[5]+3593408605&4294967295,T=S+(k<<5&4294967295|k>>>27),k=V+(S^b&(T^S))+R[10]+38016083&4294967295,V=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(V^T))+R[15]+3634488961&4294967295,b=V+(k<<14&4294967295|k>>>18),k=S+(V^T&(b^V))+R[4]+3889429448&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(b^V&(S^b))+R[9]+568446438&4294967295,T=S+(k<<5&4294967295|k>>>27),k=V+(S^b&(T^S))+R[14]+3275163606&4294967295,V=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(V^T))+R[3]+4107603335&4294967295,b=V+(k<<14&4294967295|k>>>18),k=S+(V^T&(b^V))+R[8]+1163531501&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(b^V&(S^b))+R[13]+2850285829&4294967295,T=S+(k<<5&4294967295|k>>>27),k=V+(S^b&(T^S))+R[2]+4243563512&4294967295,V=T+(k<<9&4294967295|k>>>23),k=b+(T^S&(V^T))+R[7]+1735328473&4294967295,b=V+(k<<14&4294967295|k>>>18),k=S+(V^T&(b^V))+R[12]+2368359562&4294967295,S=b+(k<<20&4294967295|k>>>12),k=T+(S^b^V)+R[5]+4294588738&4294967295,T=S+(k<<4&4294967295|k>>>28),k=V+(T^S^b)+R[8]+2272392833&4294967295,V=T+(k<<11&4294967295|k>>>21),k=b+(V^T^S)+R[11]+1839030562&4294967295,b=V+(k<<16&4294967295|k>>>16),k=S+(b^V^T)+R[14]+4259657740&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(S^b^V)+R[1]+2763975236&4294967295,T=S+(k<<4&4294967295|k>>>28),k=V+(T^S^b)+R[4]+1272893353&4294967295,V=T+(k<<11&4294967295|k>>>21),k=b+(V^T^S)+R[7]+4139469664&4294967295,b=V+(k<<16&4294967295|k>>>16),k=S+(b^V^T)+R[10]+3200236656&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(S^b^V)+R[13]+681279174&4294967295,T=S+(k<<4&4294967295|k>>>28),k=V+(T^S^b)+R[0]+3936430074&4294967295,V=T+(k<<11&4294967295|k>>>21),k=b+(V^T^S)+R[3]+3572445317&4294967295,b=V+(k<<16&4294967295|k>>>16),k=S+(b^V^T)+R[6]+76029189&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(S^b^V)+R[9]+3654602809&4294967295,T=S+(k<<4&4294967295|k>>>28),k=V+(T^S^b)+R[12]+3873151461&4294967295,V=T+(k<<11&4294967295|k>>>21),k=b+(V^T^S)+R[15]+530742520&4294967295,b=V+(k<<16&4294967295|k>>>16),k=S+(b^V^T)+R[2]+3299628645&4294967295,S=b+(k<<23&4294967295|k>>>9),k=T+(b^(S|~V))+R[0]+4096336452&4294967295,T=S+(k<<6&4294967295|k>>>26),k=V+(S^(T|~b))+R[7]+1126891415&4294967295,V=T+(k<<10&4294967295|k>>>22),k=b+(T^(V|~S))+R[14]+2878612391&4294967295,b=V+(k<<15&4294967295|k>>>17),k=S+(V^(b|~T))+R[5]+4237533241&4294967295,S=b+(k<<21&4294967295|k>>>11),k=T+(b^(S|~V))+R[12]+1700485571&4294967295,T=S+(k<<6&4294967295|k>>>26),k=V+(S^(T|~b))+R[3]+2399980690&4294967295,V=T+(k<<10&4294967295|k>>>22),k=b+(T^(V|~S))+R[10]+4293915773&4294967295,b=V+(k<<15&4294967295|k>>>17),k=S+(V^(b|~T))+R[1]+2240044497&4294967295,S=b+(k<<21&4294967295|k>>>11),k=T+(b^(S|~V))+R[8]+1873313359&4294967295,T=S+(k<<6&4294967295|k>>>26),k=V+(S^(T|~b))+R[15]+4264355552&4294967295,V=T+(k<<10&4294967295|k>>>22),k=b+(T^(V|~S))+R[6]+2734768916&4294967295,b=V+(k<<15&4294967295|k>>>17),k=S+(V^(b|~T))+R[13]+1309151649&4294967295,S=b+(k<<21&4294967295|k>>>11),k=T+(b^(S|~V))+R[4]+4149444226&4294967295,T=S+(k<<6&4294967295|k>>>26),k=V+(S^(T|~b))+R[11]+3174756917&4294967295,V=T+(k<<10&4294967295|k>>>22),k=b+(T^(V|~S))+R[2]+718787259&4294967295,b=V+(k<<15&4294967295|k>>>17),k=S+(V^(b|~T))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(b+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var S=T-this.blockSize,R=this.B,b=this.h,V=0;V<T;){if(b==0)for(;V<=S;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<T;)if(R[b++]=N.charCodeAt(V++),b==this.blockSize){o(this,R),b=0;break}}else for(;V<T;)if(R[b++]=N[V++],b==this.blockSize){o(this,R),b=0;break}}this.h=b,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var S=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=S&255,S/=256;for(this.u(N),N=Array(16),T=S=0;4>T;++T)for(var R=0;32>R;R+=8)N[S++]=this.g[T]>>>R&255;return N};function l(N,T){var S=f;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=T(N)}function h(N,T){this.h=T;for(var S=[],R=!0,b=N.length-1;0<=b;b--){var V=N[b]|0;R&&V==T||(S[b]=V,R=!1)}this.g=S}var f={};function g(N){return-128<=N&&128>N?l(N,function(T){return new h([T|0],0>T?-1:0)}):new h([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return B(_(-N));for(var T=[],S=1,R=0;N>=S;R++)T[R]=N/S|0,S*=4294967296;return new h(T,0)}function w(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return B(w(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(T,8)),R=x,b=0;b<N.length;b+=8){var V=Math.min(8,N.length-b),k=parseInt(N.substring(b,b+V),T);8>V?(V=_(Math.pow(T,V)),R=R.j(V).add(_(k))):(R=R.j(S),R=R.add(_(k)))}return R}var x=g(0),P=g(1),j=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-B(this).m();for(var N=0,T=1,S=0;S<this.g.length;S++){var R=this.i(S);N+=(0<=R?R:4294967296+R)*T,T*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(z(this))return"0";if(q(this))return"-"+B(this).toString(N);for(var T=_(Math.pow(N,6)),S=this,R="";;){var b=oe(S,T).g;S=te(S,b.j(T));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=b,z(S))return V+R;for(;6>V.length;)V="0"+V;R=V+R}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function z(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function q(N){return N.h==-1}r.l=function(N){return N=te(this,N),q(N)?-1:z(N)?0:1};function B(N){for(var T=N.g.length,S=[],R=0;R<T;R++)S[R]=~N.g[R];return new h(S,~N.h).add(P)}r.abs=function(){return q(this)?B(this):this},r.add=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0,b=0;b<=T;b++){var V=R+(this.i(b)&65535)+(N.i(b)&65535),k=(V>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);R=k>>>16,V&=65535,k&=65535,S[b]=k<<16|V}return new h(S,S[S.length-1]&-2147483648?-1:0)};function te(N,T){return N.add(B(T))}r.j=function(N){if(z(this)||z(N))return x;if(q(this))return q(N)?B(this).j(B(N)):B(B(this).j(N));if(q(N))return B(this.j(B(N)));if(0>this.l(j)&&0>N.l(j))return _(this.m()*N.m());for(var T=this.g.length+N.g.length,S=[],R=0;R<2*T;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<N.g.length;b++){var V=this.i(R)>>>16,k=this.i(R)&65535,ze=N.i(b)>>>16,J=N.i(b)&65535;S[2*R+2*b]+=k*J,ie(S,2*R+2*b),S[2*R+2*b+1]+=V*J,ie(S,2*R+2*b+1),S[2*R+2*b+1]+=k*ze,ie(S,2*R+2*b+1),S[2*R+2*b+2]+=V*ze,ie(S,2*R+2*b+2)}for(R=0;R<T;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=T;R<2*T;R++)S[R]=0;return new h(S,0)};function ie(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function ee(N,T){this.g=N,this.h=T}function oe(N,T){if(z(T))throw Error("division by zero");if(z(N))return new ee(x,x);if(q(N))return T=oe(B(N),T),new ee(B(T.g),B(T.h));if(q(T))return T=oe(N,B(T)),new ee(B(T.g),T.h);if(30<N.g.length){if(q(N)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var S=P,R=T;0>=R.l(N);)S=Ce(S),R=Ce(R);var b=Ee(S,1),V=Ee(R,1);for(R=Ee(R,2),S=Ee(S,2);!z(R);){var k=V.add(R);0>=k.l(N)&&(b=b.add(S),V=k),R=Ee(R,1),S=Ee(S,1)}return T=te(N,b.j(T)),new ee(b,T)}for(b=x;0<=N.l(T);){for(S=Math.max(1,Math.floor(N.m()/T.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),V=_(S),k=V.j(T);q(k)||0<k.l(N);)S-=R,V=_(S),k=V.j(T);z(V)&&(V=P),b=b.add(V),N=te(N,k)}return new ee(b,N)}r.A=function(N){return oe(this,N).h},r.and=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)&N.i(R);return new h(S,this.h&N.h)},r.or=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)|N.i(R);return new h(S,this.h|N.h)},r.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],R=0;R<T;R++)S[R]=this.i(R)^N.i(R);return new h(S,this.h^N.h)};function Ce(N){for(var T=N.g.length+1,S=[],R=0;R<T;R++)S[R]=N.i(R)<<1|N.i(R-1)>>>31;return new h(S,N.h)}function Ee(N,T){var S=T>>5;T%=32;for(var R=N.g.length-S,b=[],V=0;V<R;V++)b[V]=0<T?N.i(V+S)>>>T|N.i(V+S+1)<<32-T:N.i(V+S);return new h(b,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,S_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=w,ns=h}).apply(typeof jg<"u"?jg:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A_,ka,k_,Fu,Pd,x_,P_,R_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in y))break e;y=y[L]}u=u[u.length-1],E=y[u],p=p(E),p!=E&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,E=!1,L={next:function(){if(!E&&y<u.length){var $=y++;return{value:p($,u[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,y){return u.call.apply(u.bind,arguments)}function x(u,p,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function P(u,p,y){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:x,P.apply(null,arguments)}function j(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function z(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,L,$){for(var re=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)re[qe-2]=arguments[qe];return p.prototype[L].apply(E,re)}}function q(u){const p=u.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=u[E];return y}return[]}function B(u,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const L=u.length||0,$=E.length||0;u.length=L+$;for(let re=0;re<$;re++)u[L+re]=E[re]}else u.push(E)}}class te{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ie(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function oe(u){return oe[" "](u),u}oe[" "]=function(){};var Ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Ee(u,p,y){for(const E in u)p.call(y,u[E],E,u)}function N(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function T(u){const p={};for(const y in u)p[y]=u[y];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,p){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)u[y]=E[y];for(let $=0;$<S.length;$++)y=S[$],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function b(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function V(u){f.setTimeout(()=>{throw u},0)}function k(){var u=ce;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ze{constructor(){this.h=this.g=null}add(p,y){const E=J.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var J=new te(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,Y=!1,ce=new ze,ne=()=>{const u=f.Promise.resolve(void 0);ye=()=>{u.then(O)}};var O=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){V(y)}var p=J;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Y=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u})();function Ie(u,p){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Ce){e:{try{oe(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}z(Ie,ae);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ge(u,p,y,E,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=L,this.key=++je,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ar(u){this.src=u,this.g={},this.h=0}ar.prototype.add=function(u,p,y,E,L){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var re=Mr(u,p,E,L);return-1<re?(p=u[re],y||(p.fa=!1)):(p=new Ge(p,this.src,$,!!E,L),p.fa=y,u.push(p)),p};function fs(u,p){var y=p.type;if(y in u.g){var E=u.g[y],L=Array.prototype.indexOf.call(E,p,void 0),$;($=0<=L)&&Array.prototype.splice.call(E,L,1),$&&(wt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Mr(u,p,y,E){for(var L=0;L<u.length;++L){var $=u[L];if(!$.da&&$.listener==p&&$.capture==!!y&&$.ha==E)return L}return-1}var Si="closure_lm_"+(1e6*Math.random()|0),ps={};function Po(u,p,y,E,L){if(Array.isArray(p)){for(var $=0;$<p.length;$++)Po(u,p[$],y,E,L);return null}return y=No(y),u&&u[De]?u.K(p,y,_(E)?!!E.capture:!1,L):Ro(u,p,y,!1,E,L)}function Ro(u,p,y,E,L,$){if(!p)throw Error("Invalid event type");var re=_(L)?!!L.capture:!!L,qe=gs(u);if(qe||(u[Si]=qe=new ar(u)),y=qe.add(p,y,E,re,$),y.proxy)return y;if(E=ul(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)we||(L=re),L===void 0&&(L=!1),u.addEventListener(p.toString(),E,L);else if(u.attachEvent)u.attachEvent(ur(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ul(){function u(y){return p.call(u.src,u.listener,y)}const p=Co;return u}function ms(u,p,y,E,L){if(Array.isArray(p))for(var $=0;$<p.length;$++)ms(u,p[$],y,E,L);else E=_(E)?!!E.capture:!!E,y=No(y),u&&u[De]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],y=Mr($,y,E,L),-1<y&&(wt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=gs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Mr(p,y,E,L)),(y=-1<u?p[u]:null)&&lr(y))}function lr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[De])fs(p.i,u);else{var y=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(y,E,u.capture):p.detachEvent?p.detachEvent(ur(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=gs(p))?(fs(y,u),y.h==0&&(y.src=null,p[Si]=null)):wt(u)}}}function ur(u){return u in ps?ps[u]:ps[u]="on"+u}function Co(u,p){if(u.da)u=!0;else{p=new Ie(p,this);var y=u.listener,E=u.ha||u.src;u.fa&&lr(u),u=y.call(E,p)}return u}function gs(u){return u=u[Si],u instanceof ar?u:null}var ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function No(u){return typeof u=="function"?u:(u[ys]||(u[ys]=function(p){return u.handleEvent(p)}),u[ys])}function pt(){H.call(this),this.i=new ar(this),this.M=this,this.F=null}z(pt,H),pt.prototype[De]=!0,pt.prototype.removeEventListener=function(u,p,y,E){ms(this,u,p,y,E)};function mt(u,p){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new ae(p,u);else if(p instanceof ae)p.target=p.target||u;else{var L=p;p=new ae(E,u),R(p,L)}if(L=!0,y)for(var $=y.length-1;0<=$;$--){var re=p.g=y[$];L=cr(re,E,!0,p)&&L}if(re=p.g=u,L=cr(re,E,!0,p)&&L,L=cr(re,E,!1,p)&&L,y)for($=0;$<y.length;$++)re=p.g=y[$],L=cr(re,E,!1,p)&&L}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],E=0;E<y.length;E++)wt(y[E]);delete u.g[p],u.h--}}this.F=null},pt.prototype.K=function(u,p,y,E){return this.i.add(String(u),p,!1,y,E)},pt.prototype.L=function(u,p,y,E){return this.i.add(String(u),p,!0,y,E)};function cr(u,p,y,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,$=0;$<p.length;++$){var re=p[$];if(re&&!re.da&&re.capture==y){var qe=re.listener,gt=re.ha||re.src;re.fa&&fs(u.i,re),L=qe.call(gt,E)!==!1&&L}}return L&&!E.defaultPrevented}function bo(u,p,y){if(typeof u=="function")y&&(u=P(u,y));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Fr(u){u.g=bo(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ai extends H{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(u){H.call(this),this.h=u,this.g={}}z(ki,H);var Do=[];function Vo(u){Ee(u.g,function(p,y){this.g.hasOwnProperty(y)&&lr(p)},u),u.g={}}ki.prototype.N=function(){ki.aa.N.call(this),Vo(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oo=f.JSON.stringify,Lo=f.JSON.parse,Mo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function xi(){}xi.prototype.h=null;function _s(u){return u.h||(u.h=u.i())}function vs(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){ae.call(this,"d")}z(qn,ae);function ws(){ae.call(this,"c")}z(ws,ae);var Hn={},Fo=null;function Pi(){return Fo=Fo||new pt}Hn.La="serverreachability";function jo(u){ae.call(this,Hn.La,u)}z(jo,ae);function hr(u){const p=Pi();mt(p,new jo(p))}Hn.STAT_EVENT="statevent";function Uo(u,p){ae.call(this,Hn.STAT_EVENT,u),this.stat=p}z(Uo,ae);function at(u){const p=Pi();mt(p,new Uo(p,u))}Hn.Ma="timingevent";function Es(u,p){ae.call(this,Hn.Ma,u),this.size=p}z(Es,ae);function kn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Ci(u,p,y,E,L,$){u.info(function(){if(u.g)if($)for(var re="",qe=$.split("&"),gt=0;gt<qe.length;gt++){var Me=qe[gt].split("=");if(1<Me.length){var Et=Me[0];Me=Me[1];var ct=Et.split("_");re=2<=ct.length&&ct[1]=="type"?re+(Et+"="+Me+"&"):re+(Et+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+y+`
`+re})}function Ts(u,p,y,E,L,$,re){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+y+`
`+$+" "+re})}function xn(u,p,y,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Pc(u,y)+(E?" "+E:"")})}function zo(u,p){u.info(function(){return"TIMEOUT: "+p})}Ri.prototype.info=function(){};function Pc(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return Oo(y)}catch{return p}}var Is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Ni(){}z(Ni,xi),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Pn=new Ni;function Rn(u,p,y,E){this.j=u,this.i=p,this.l=y,this.R=E||1,this.U=new ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var Bo={},Ss={};function As(u,p,y){u.L=1,u.v=$r(on(p)),u.m=y,u.P=!0,$o(u,null)}function $o(u,p){u.F=Date.now(),Qe(u),u.A=on(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Hr(y.i,"t",E),u.C=0,y=u.j.J,u.h=new hl,u.g=Rl(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Ai(P(u.Y,u,u.g),u.O)),p=u.U,y=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Do[0]=L.toString()),L=Do);for(var $=0;$<L.length;$++){var re=Po(y,L[$],E||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),hr(),Ci(u.i,u.u,u.A,u.l,u.R,u.m)}Rn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Yt(u)==3?p.j():this.Y(u)},Rn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Yt(this.g);var p=this.g.Ba();const yn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Qo(this.g)))){this.J||ct!=4||p==7||(p==8||0>=yn?hr(3):hr(2)),bi(this);var y=this.g.Z();this.X=y;t:if(dl(this)){var E=Qo(this.g);u="";var L=E.length,$=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),jr(this);var re="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!($&&p==L-1)});E.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,Ts(this.i,this.u,this.A,this.l,this.R,ct,y),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,gt=this.g;if((qe=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(qe)){var Me=qe;break t}}Me=null}if(y=Me)xn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qo(this,y);else{this.o=!1,this.s=3,at(12),mn(this),jr(this);break e}}if(this.P){y=!0;let ln;for(;!this.J&&this.C<re.length;)if(ln=Rc(this,re),ln==Ss){ct==4&&(this.s=4,at(14),y=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Bo){this.s=4,at(15),xn(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else xn(this.i,this.l,ln,null),qo(this,ln);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||re.length!=0||this.h.h||(this.s=1,at(16),y=!1),this.o=this.o&&y,!y)xn(this.i,this.l,re,"[Invalid Chunked Response]"),mn(this),jr(this);else if(0<re.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Xo(Et),Et.M=!0,at(11))}}else xn(this.i,this.l,re,null),qo(this,re);ct==4&&mn(this),this.o&&!this.J&&(ct==4?Ls(this.j,this):(this.o=!1,Qe(this)))}else Ns(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),mn(this),jr(this)}}}catch{}};function dl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Rc(u,p){var y=u.C,E=p.indexOf(`
`,y);return E==-1?Ss:(y=Number(p.substring(y,E)),isNaN(y)?Bo:(E+=1,E+y>p.length?Ss:(p=p.slice(E,E+y),u.C=E+y,p)))}Rn.prototype.cancel=function(){this.J=!0,mn(this)};function Qe(u){u.S=Date.now()+u.I,fl(u,u.I)}function fl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kn(P(u.ba,u),p)}function bi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Rn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zo(this.i,this.A),this.L!=2&&(hr(),at(17)),mn(this),this.s=2,jr(this)):fl(this,this.S-u)};function jr(u){u.j.G==0||u.J||Ls(u.j,u)}function mn(u){bi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Vo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function qo(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||$t(y.h,u))){if(!u.K&&$t(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Os(y),Vn(y);else break e;Vs(y),at(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=kn(P(y.Za,y),6e3));if(1>=ml(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else gr(y,11)}else if((u.K||y.g==u)&&Os(y),!ie(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let Me=L[p];if(y.T=Me[0],Me=Me[1],y.G==2)if(Me[0]=="c"){y.K=Me[1],y.ia=Me[2];const Et=Me[3];Et!=null&&(y.la=Et,y.j.info("VER="+y.la));const ct=Me[4];ct!=null&&(y.Aa=ct,y.j.info("SVER="+y.Aa));const yn=Me[5];yn!=null&&typeof yn=="number"&&0<yn&&(E=1.5*yn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const ln=u.g;if(ln){const ji=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var $=E.h;$.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ho($,$.h),$.h=null))}if(E.D){const Fs=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(E.ya=Fs,Ke(E.I,E.D,Fs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var re=u;if(E.qa=Pl(E,E.J?E.ia:null,E.W),re.K){gl(E.h,re);var qe=re,gt=E.L;gt&&(qe.I=gt),qe.B&&(bi(qe),Qe(qe)),E.g=re}else Fi(E);0<y.i.length&&Qn(y)}else Me[0]!="stop"&&Me[0]!="close"||gr(y,7);else y.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?gr(y,7):Pt(y):Me[0]!="noop"&&y.l&&y.l.ta(Me),y.v=0)}}hr(4)}catch{}}var pl=class{constructor(u,p){this.g=u,this.map=p}};function Di(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ml(u){return u.h?1:u.g?u.g.size:0}function $t(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ho(u,p){u.g?u.g.add(p):u.h=p}function gl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Di.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return q(u.i)}function ks(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,E=0;E<y;E++)p.push(u[E]);return p}p=[],y=0;for(E in u)p[y++]=u[E];return p}function xs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const E in u)p[y++]=E;return p}}}function Ur(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=xs(u),E=ks(u),L=E.length,$=0;$<L;$++)p.call(void 0,E[$],y&&y[$],u)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),L=null;if(0<=E){var $=u[y].substring(0,E);L=u[y].substring(E+1)}else $=u[y];p($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function dr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof dr){this.h=u.h,Oi(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var p=u.i,y=new Wn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Br(this,y),this.m=u.m}else u&&(p=String(u).match(Vi))?(this.h=!1,Oi(this,p[1]||"",!0),this.o=Oe(p[2]||""),this.g=Oe(p[3]||"",!0),zr(this,p[4]),this.l=Oe(p[5]||"",!0),Br(this,p[6]||"",!0),this.m=Oe(p[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}dr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(qr(p,Ps,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(qr(p,Ps,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(qr(y,y.charAt(0)=="/"?wl:vl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",qr(y,Wo)),u.join("")};function on(u){return new dr(u)}function Oi(u,p,y){u.j=y?Oe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Br(u,p,y){p instanceof Wn?(u.i=p,Kn(u.i,u.h)):(y||(p=qr(p,El)),u.i=new Wn(p,u.h))}function Ke(u,p,y){u.i.set(p,y)}function $r(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,_l),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _l(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ps=/[#\/\?@]/g,vl=/[#\?:]/g,wl=/[#\?]/g,El=/[#\?@]/g,Wo=/#/g;function Wn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function xt(u){u.g||(u.g=new Map,u.h=0,u.i&&Cc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Wn.prototype,r.add=function(u,p){xt(this),this.i=null,u=gn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Cn(u,p){xt(u),p=gn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Nn(u,p){return xt(u),p=gn(u,p),u.g.has(p)}r.forEach=function(u,p){xt(this),this.g.forEach(function(y,E){y.forEach(function(L){u.call(p,L,E,this)},this)},this)},r.na=function(){xt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const L=u[E];for(let $=0;$<L.length;$++)y.push(p[E])}return y},r.V=function(u){xt(this);let p=[];if(typeof u=="string")Nn(this,u)&&(p=p.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},r.set=function(u,p){return xt(this),this.i=null,u=gn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Hr(u,p,y){Cn(u,p),0<y.length&&(u.i=null,u.g.set(gn(u,p),q(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const $=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var L=$;re[E]!==""&&(L+="="+encodeURIComponent(String(re[E]))),u.push(L)}}return this.i=u.join("&")};function gn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Kn(u,p){p&&!u.j&&(xt(u),u.i=null,u.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Cn(this,E),Hr(this,L,y))},u)),u.j=p}function Nc(u,p){const y=new Ri;if(f.Image){const E=new Image;E.onload=j(Qt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=j(Qt,y,"TestLoadImage: error",!1,p,E),E.onabort=j(Qt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=j(Qt,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function Tl(u,p){const y=new Ri,E=new AbortController,L=setTimeout(()=>{E.abort(),Qt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then($=>{clearTimeout(L),$.ok?Qt(y,"TestPingServer: ok",!0,p):Qt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Qt(y,"TestPingServer: error",!1,p)})}function Qt(u,p,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function bc(){this.g=new Mo}function Il(u,p,y){const E=y||"";try{Ur(u,function(L,$){let re=L;_(L)&&(re=Oo(L)),p.push(E+$+"="+encodeURIComponent(re))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function fr(u){this.l=u.Ub||null,this.j=u.eb||!1}z(fr,xi),fr.prototype.g=function(){return new Li(this.l,this.j)},fr.prototype.i=(function(u){return function(){return u}})({});function Li(u,p){pt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Li,pt),r=Li.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Dn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?bn(this):Dn(this),this.readyState==3&&Sl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,bn(this))},r.Qa=function(u){this.g&&(this.response=u,bn(this))},r.ga=function(){this.g&&bn(this)};function bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Dn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pr(u){let p="";return Ee(u,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Wr(u,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=pr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ke(u,p,y))}function tt(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(tt,pt);var Dc=/^https?$/i,Ko=["POST","PUT"];r=tt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?_s(this.o):_s(Pn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){Mi(this,$);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())y.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ko,p,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of y)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Mi(this,$)}};function Mi(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Rs(u),an(u)}function Rs(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Go(this):this.bb())},r.bb=function(){Go(this)};function Go(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)bo(u.Ea,0,u);else if(mt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=re===0){var L=String(u.D).match(Vi)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),E=!Dc.test(L?L.toLowerCase():"")}y=E}if(y)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var $=2<Yt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Rs(u)}}finally{an(u)}}}}function an(u,p){if(u.g){Cs(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||mt(u,"ready");try{y.onreadystatechange=E}catch{}}}function Cs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Lo(p)}};function Qo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(u){const p={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ie(u[E]))continue;var y=b(u[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=p[L]||[];p[L]=$,$.push(y)}N(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Yo(u){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,u),this.cb=Gn("retryDelaySeedMs",1e4,u),this.Wa=Gn("forwardChannelMaxRetries",2,u),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(u&&u.concurrentRequestLimit),this.Da=new bc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Yo.prototype,r.la=8,r.G=1,r.connect=function(u,p,y,E){at(0),this.W=u,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Pl(this,null,this.W),Qn(this)};function Pt(u){if(bs(u),u.G==3){var p=u.U++,y=on(u.I);if(Ke(y,"SID",u.K),Ke(y,"RID",p),Ke(y,"TYPE","terminate"),mr(u,y),p=new Rn(u,u.j,p),p.L=2,p.v=$r(on(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=Rl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Qe(p)}xl(u)}function Vn(u){u.g&&(Xo(u),u.g.cancel(),u.g=null)}function bs(u){Vn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Os(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Qn(u){if(!sn(u.h)&&!u.s){u.s=!0;var p=u.Ga;ye||ne(),Y||(ye(),Y=!0),ce.add(p,u),u.B=0}}function Vc(u,p){return ml(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kn(P(u.Ga,u,p),kl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Rn(this,this.j,u);let $=this.o;if(this.S&&($?($=T($),R($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Kr(this,L,p),y=on(this.I),Ke(y,"RID",u),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),mr(this,y),$&&(this.O?p="headers="+encodeURIComponent(String(pr($)))+"&"+p:this.m&&Wr(y,this.m,$)),Ho(this.h,L),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",p),Ke(y,"SID","null"),L.T=!0,As(L,y,null)):As(L,y,p),this.G=2}}else this.G==3&&(u?Ds(this,u):this.i.length==0||sn(this.h)||Ds(this))};function Ds(u,p){var y;p?y=p.l:y=u.U++;const E=on(u.I);Ke(E,"SID",u.K),Ke(E,"RID",y),Ke(E,"AID",u.T),mr(u,E),u.m&&u.o&&Wr(E,u.m,u.o),y=new Rn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Kr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ho(u.h,y),As(y,E,p)}function mr(u,p){u.H&&Ee(u.H,function(y,E){Ke(p,E,y)}),u.l&&Ur({},function(y,E){Ke(p,E,y)})}function Kr(u,p,y){y=Math.min(u.i.length,y);var E=u.l?P(u.l.Na,u.l,u):null;e:{var L=u.i;let $=-1;for(;;){const re=["count="+y];$==-1?0<y?($=L[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let qe=!0;for(let gt=0;gt<y;gt++){let Me=L[gt].g;const Et=L[gt].map;if(Me-=$,0>Me)$=Math.max(0,L[gt].g-100),qe=!1;else try{Il(Et,re,"req"+Me+"_")}catch{E&&E(Et)}}if(qe){E=re.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,E}function Fi(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ye||ne(),Y||(ye(),Y=!0),ce.add(p,u),u.v=0}}function Vs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kn(P(u.Fa,u),kl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Al(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kn(P(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Vn(this),Al(this))};function Xo(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Al(u){u.g=new Rn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=on(u.qa);Ke(p,"RID","rpc"),Ke(p,"SID",u.K),Ke(p,"AID",u.T),Ke(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(p,"TO",u.ja),Ke(p,"TYPE","xmlhttp"),mr(u,p),u.m&&u.o&&Wr(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=$r(on(p)),y.m=null,y.P=!0,$o(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Vn(this),Vs(this),at(19))};function Os(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ls(u,p){var y=null;if(u.g==p){Os(u),Xo(u),u.g=null;var E=2}else if($t(u.h,p))y=p.D,gl(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;E=Pi(),mt(E,new Es(E,y)),Qn(u)}else Fi(u);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&Vc(u,p)||E==2&&Vs(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),L){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function kl(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function gr(u,p){if(u.j.info("Error code "+p),p==2){var y=P(u.fb,u),E=u.Xa;const L=!E;E=new dr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Oi(E,"https"),$r(E),L?Nc(E.toString(),y):Tl(E.toString(),y)}else at(2);u.G=0,u.l&&u.l.sa(p),xl(u),bs(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function xl(u){if(u.G=0,u.ka=[],u.l){const p=yl(u.h);(p.length!=0||u.i.length!=0)&&(B(u.ka,p),B(u.ka,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.ra()}}function Pl(u,p,y){var E=y instanceof dr?on(y):new dr(y);if(E.g!="")p&&(E.g=p+"."+E.g),zr(E,E.s);else{var L=f.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var $=new dr(null);E&&Oi($,E),p&&($.g=p),L&&zr($,L),y&&($.l=y),E=$}return y=u.D,p=u.ya,y&&p&&Ke(E,y,p),Ke(E,"VER",u.la),mr(u,E),E}function Rl(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new tt(new fr({eb:y})):new tt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}r=Jo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ms(){}Ms.prototype.g=function(u,p){return new qt(u,p)};function qt(u,p){pt.call(this),this.g=new Yo(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ie(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ie(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yn(this)}z(qt,pt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Pt(this.g)},qt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Oo(u),u=y);p.i.push(new pl(p.Ya++,u)),p.G==3&&Qn(p)},qt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,qt.aa.N.call(this)};function Cl(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}z(Cl,qn);function Nl(){ws.call(this),this.status=1}z(Nl,ws);function Yn(u){this.g=u}z(Yn,Jo),Yn.prototype.ua=function(){mt(this.g,"a")},Yn.prototype.ta=function(u){mt(this.g,new Cl(u))},Yn.prototype.sa=function(u){mt(this.g,new Nl)},Yn.prototype.ra=function(){mt(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,R_=function(){return new Ms},P_=function(){return Pi()},x_=Hn,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Fu=Is,cl.COMPLETE="complete",k_=cl,vs.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ka=vs,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,A_=tt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const Ug="@firebase/firestore";let Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let Io="10.14.0";const as=new Qd("@firebase/firestore");function Ia(){return as.logLevel}function fe(r,...e){if(as.logLevel<=Le.DEBUG){const t=e.map(cf);as.debug(`Firestore (${Io}): ${r}`,...t)}}function Dr(r,...e){if(as.logLevel<=Le.ERROR){const t=e.map(cf);as.error(`Firestore (${Io}): ${r}`,...t)}}function po(r,...e){if(as.logLevel<=Le.WARN){const t=e.map(cf);as.warn(`Firestore (${Io}): ${r}`,...t)}}function cf(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function ke(r="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+r;throw Dr(e),new Error(e)}function He(r,e){r||ke()}function Pe(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class C_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class h1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class d1{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new C_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ut(e)}}class f1{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p1{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new f1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){He(this.o===void 0);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string"),this.R=t.token,new m1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function y1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class N_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=y1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function $e(r,e){return r<e?-1:r>e?1:0}function mo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}class vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new vt(0,0))}static max(){return new xe(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ja{constructor(e,t,s){t===void 0?t=0:t>e.length&&ke(),s===void 0?s=e.length-t:s>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends ja{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const _1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ja{construct(e,t,s){return new bt(e,t,s)}static isValidIdentifier(e){return _1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}function v1(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new _i(o,ge.empty(),e)}function w1(r){return new _i(r.readTime,r.key,-1)}class _i{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new _i(xe.min(),ge.empty(),-1)}static max(){return new _i(xe.max(),ge.empty(),-1)}}function E1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:$e(r.largestBatchId,e.largestBatchId))}const T1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function tl(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==T1)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,s)=>{t(e)}))}static reject(e){return new Q(((t,s)=>{s(e)}))}static waitFor(e){return new Q(((t,s)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(g=>s(g)))})),h=!0,l===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next((o=>o?Q.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new Q(((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next((w=>{h[_]=w,++f,f===l&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new Q(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function S1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nl(r){return r.name==="IndexedDbTransactionError"}class hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hf.oe=-1;function cc(r){return r==null}function Ju(r){return r===0&&1/r==-1/0}function A1(r){return typeof r=="number"&&Number.isInteger(r)&&!Ju(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function zg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function cs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function b_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class st{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Nt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bg(this.data.getIterator())}getIteratorFrom(e){return new Bg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class Bg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new dn([])}unionWith(e){let t=new Dt(bt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new D_("Invalid base64 string: "+l):l}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const k1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(r){if(He(!!r),typeof r=="string"){let e=0;const t=k1.exec(r);if(He(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(r.seconds),nanos:ut(r.nanos)}}function ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Vt.fromBase64String(r):Vt.fromUint8Array(r)}function df(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ff(r){const e=r.mapValue.fields.__previous_value__;return df(e)?ff(e):e}function Ua(r){const e=vi(r.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}class x1{constructor(e,t,s,o,l,h,f,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=_}}class za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}const Pu={mapValue:{}};function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?df(r)?4:R1(r)?9007199254740991:P1(r)?10:11:ke()}function sr(r,e){if(r===e)return!0;const t=us(r);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ua(r).isEqual(Ua(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=vi(o.timestampValue),f=vi(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return ls(o.bytesValue).isEqual(ls(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ut(o.doubleValue),f=ut(l.doubleValue);return h===f?Ju(h)===Ju(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(zg(h)!==zg(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!sr(h[g],f[g])))return!1;return!0})(r,e);default:return ke()}}function Ba(r,e){return(r.values||[]).find((t=>sr(t,e)))!==void 0}function go(r,e){if(r===e)return 0;const t=us(r),s=us(e);if(t!==s)return $e(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=ut(l.integerValue||l.doubleValue),g=ut(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return $g(r.timestampValue,e.timestampValue);case 4:return $g(Ua(r),Ua(e));case 5:return $e(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=ls(l),g=ls(h);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),g=h.split("/");for(let _=0;_<f.length&&_<g.length;_++){const w=$e(f[_],g[_]);if(w!==0)return w}return $e(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=$e(ut(l.latitude),ut(h.latitude));return f!==0?f:$e(ut(l.longitude),ut(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qg(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,g,_,w;const x=l.fields||{},P=h.fields||{},j=(f=x.value)===null||f===void 0?void 0:f.arrayValue,z=(g=P.value)===null||g===void 0?void 0:g.arrayValue,q=$e(((_=j?.values)===null||_===void 0?void 0:_.length)||0,((w=z?.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:qg(j,z)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Pu.mapValue&&h===Pu.mapValue)return 0;if(l===Pu.mapValue)return 1;if(h===Pu.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),_=h.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let x=0;x<g.length&&x<w.length;++x){const P=$e(g[x],w[x]);if(P!==0)return P;const j=go(f[g[x]],_[w[x]]);if(j!==0)return j}return $e(g.length,w.length)})(r.mapValue,e.mapValue);default:throw ke()}}function $g(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const t=vi(r),s=vi(e),o=$e(t.seconds,s.seconds);return o!==0?o:$e(t.nanos,s.nanos)}function qg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=go(t[o],s[o]);if(l)return l}return $e(t.length,s.length)}function yo(r){return Rd(r)}function Rd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=vi(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ls(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ge.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Rd(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Rd(t.fields[h])}`;return o+"}"})(r.mapValue):ke()}function Hg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cd(r){return!!r&&"integerValue"in r}function pf(r){return!!r&&"arrayValue"in r}function Wg(r){return!!r&&"nullValue"in r}function Kg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ju(r){return!!r&&"mapValue"in r}function P1(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Na(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Na(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Na(r.arrayValue.values[t]);return e}return Object.assign({},r)}function R1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ju(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(t)}setAll(e){let t=bt.emptyPath(),s={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Na(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ju(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){cs(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new rn(Na(this.value))}}function V_(r){const e=[];return cs(r.fields,((t,s)=>{const o=new bt([t]);if(ju(s)){const l=V_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new dn(e)}class zt{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,xe.min(),xe.min(),xe.min(),rn.empty(),0)}static newFoundDocument(e,t,s,o){return new zt(e,1,t,xe.min(),s,o,0)}static newNoDocument(e,t){return new zt(e,2,t,xe.min(),xe.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,xe.min(),xe.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zu{constructor(e,t){this.position=e,this.inclusive=t}}function Gg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=go(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!sr(r.position[t],e.position[t]))return!1;return!0}class $a{constructor(e,t="asc"){this.field=e,this.dir=t}}function C1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}let O_=class{};class ft extends O_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new b1(e,t,s):t==="array-contains"?new O1(e,s):t==="in"?new L1(e,s):t==="not-in"?new M1(e,s):t==="array-contains-any"?new F1(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new D1(e,s):new V1(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(go(t,this.value)):t!==null&&us(this.value)===us(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends O_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $n(e,t)}matches(e){return L_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function L_(r){return r.op==="and"}function M_(r){return N1(r)&&L_(r)}function N1(r){for(const e of r.filters)if(e instanceof $n)return!1;return!0}function Nd(r){if(r instanceof ft)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(M_(r))return r.filters.map((e=>Nd(e))).join(",");{const e=r.filters.map((t=>Nd(t))).join(",");return`${r.op}(${e})`}}function F_(r,e){return r instanceof ft?(function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&sr(s.value,o.value)})(r,e):r instanceof $n?(function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,f)=>l&&F_(h,o.filters[f])),!0):!1})(r,e):void ke()}function j_(r){return r instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${yo(t.value)}`})(r):r instanceof $n?(function(t){return t.op.toString()+" {"+t.getFilters().map(j_).join(" ,")+"}"})(r):"Filter"}class b1 extends ft{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class D1 extends ft{constructor(e,t){super(e,"in",t),this.keys=U_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class V1 extends ft{constructor(e,t){super(e,"not-in",t),this.keys=U_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function U_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class O1 extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pf(t)&&Ba(t.arrayValue,this.value)}}class L1 extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ba(this.value.arrayValue,t)}}class M1 extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ba(this.value.arrayValue,t)}}class F1 extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ba(this.value.arrayValue,s)))}}class j1{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function Yg(r,e=null,t=[],s=[],o=null,l=null,h=null){return new j1(r,e,t,s,o,l,h)}function mf(r){const e=Pe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Nd(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>yo(s))).join(",")),e.ue=t}return e.ue}function gf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!C1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!F_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qg(r.startAt,e.startAt)&&Qg(r.endAt,e.endAt)}function bd(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class So{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U1(r,e,t,s,o,l,h,f){return new So(r,e,t,s,o,l,h,f)}function yf(r){return new So(r)}function Xg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function z_(r){return r.collectionGroup!==null}function ba(r){const e=Pe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Dt(bt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(f=f.add(_.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new $a(l,s))})),t.has(bt.keyField().canonicalString())||e.ce.push(new $a(bt.keyField(),s))}return e.ce}function rr(r){const e=Pe(r);return e.le||(e.le=z1(e,ba(r))),e.le}function z1(r,e){if(r.limitType==="F")return Yg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new $a(o.field,l)}));const t=r.endAt?new Zu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zu(r.startAt.position,r.startAt.inclusive):null;return Yg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Dd(r,e){const t=r.filters.concat([e]);return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Vd(r,e,t){return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function hc(r,e){return gf(rr(r),rr(e))&&r.limitType===e.limitType}function B_(r){return`${mf(rr(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>j_(o))).join(", ")}]`),cc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>yo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(rr(r))}; limitType=${r.limitType})`}function dc(r,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,o){for(const l of ba(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,f,g){const _=Gg(h,f,g);return h.inclusive?_<=0:_<0})(s.startAt,ba(s),o)||s.endAt&&!(function(h,f,g){const _=Gg(h,f,g);return h.inclusive?_>=0:_>0})(s.endAt,ba(s),o))})(r,e)}function B1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $_(r){return(e,t)=>{let s=!1;for(const o of ba(r)){const l=$1(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function $1(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):(function(l,h,f){const g=h.data.field(l),_=f.data.field(l);return g!==null&&_!==null?go(g,_):ke()})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ke()}}class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return b_(this.inner)}size(){return this.innerSize}}const q1=new st(ge.comparator);function Vr(){return q1}const q_=new st(ge.comparator);function xa(...r){let e=q_;for(const t of r)e=e.insert(t.key,t);return e}function H_(r){let e=q_;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ts(){return Da()}function W_(){return Da()}function Da(){return new Ao((r=>r.toString()),((r,e)=>r.isEqual(e)))}const H1=new st(ge.comparator),W1=new Dt(ge.comparator);function Ve(...r){let e=W1;for(const t of r)e=e.add(t);return e}const K1=new Dt($e);function G1(){return K1}function _f(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function K_(r){return{integerValue:""+r}}function Q1(r,e){return A1(e)?K_(e):_f(r,e)}class fc{constructor(){this._=void 0}}function Y1(r,e,t){return r instanceof qa?(function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&df(l)&&(l=ff(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}})(t,e):r instanceof Ha?Q_(r,e):r instanceof Wa?Y_(r,e):(function(o,l){const h=G_(o,l),f=Jg(h)+Jg(o.Pe);return Cd(h)&&Cd(o.Pe)?K_(f):_f(o.serializer,f)})(r,e)}function X1(r,e,t){return r instanceof Ha?Q_(r,e):r instanceof Wa?Y_(r,e):t}function G_(r,e){return r instanceof ec?(function(s){return Cd(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class qa extends fc{}class Ha extends fc{constructor(e){super(),this.elements=e}}function Q_(r,e){const t=X_(e);for(const s of r.elements)t.some((o=>sr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Wa extends fc{constructor(e){super(),this.elements=e}}function Y_(r,e){let t=X_(e);for(const s of r.elements)t=t.filter((o=>!sr(o,s)));return{arrayValue:{values:t}}}class ec extends fc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Jg(r){return ut(r.integerValue||r.doubleValue)}function X_(r){return pf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class J1{constructor(e,t){this.field=e,this.transform=t}}function Z1(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ha&&o instanceof Ha||s instanceof Wa&&o instanceof Wa?mo(s.elements,o.elements,sr):s instanceof ec&&o instanceof ec?sr(s.Pe,o.Pe):s instanceof qa&&o instanceof qa})(r.transform,e.transform)}class eS{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pc{}function J_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vf(r.key,Bn.none()):new rl(r.key,r.data,Bn.none());{const t=r.data,s=rn.empty();let o=new Dt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ii(r.key,s,new dn(o.toArray()),Bn.none())}}function tS(r,e,t){r instanceof rl?(function(o,l,h){const f=o.value.clone(),g=ey(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Ii?(function(o,l,h){if(!Uu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=ey(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(Z_(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Va(r,e,t,s){return r instanceof rl?(function(l,h,f,g){if(!Uu(l.precondition,h))return f;const _=l.value.clone(),w=ty(l.fieldTransforms,g,h);return _.setAll(w),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,t,s):r instanceof Ii?(function(l,h,f,g){if(!Uu(l.precondition,h))return f;const _=ty(l.fieldTransforms,g,h),w=h.data;return w.setAll(Z_(l)),w.setAll(_),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(r,e,t,s):(function(l,h,f){return Uu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function nS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=G_(s.transform,o||null);l!=null&&(t===null&&(t=rn.empty()),t.set(s.field,l))}return t||null}function Zg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((l,h)=>Z1(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class rl extends pc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ii extends pc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Z_(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function ey(r,e,t){const s=new Map;He(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,X1(h,f,t[o]))}return s}function ty(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,Y1(l,h,e))}return s}class vf extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rS extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&tS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Va(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Va(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=W_();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=J_(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((t,s)=>Zg(t,s)))&&mo(this.baseMutations,e.baseMutations,((t,s)=>Zg(t,s)))}}class wf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length);let o=(function(){return H1})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new wf(e,t,s,o)}}class sS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oS{constructor(e,t){this.count=e,this.unchangedNames=t}}var dt,Fe;function aS(r){switch(r){default:return ke();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function ev(r){if(r===void 0)return Dr("GRPC error has no .code"),W.UNKNOWN;switch(r){case dt.OK:return W.OK;case dt.CANCELLED:return W.CANCELLED;case dt.UNKNOWN:return W.UNKNOWN;case dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case dt.INTERNAL:return W.INTERNAL;case dt.UNAVAILABLE:return W.UNAVAILABLE;case dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case dt.NOT_FOUND:return W.NOT_FOUND;case dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case dt.ABORTED:return W.ABORTED;case dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case dt.DATA_LOSS:return W.DATA_LOSS;default:return ke()}}(Fe=dt||(dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function lS(){return new TextEncoder}const uS=new ns([4294967295,4294967295],0);function ny(r){const e=lS().encode(r),t=new S_;return t.update(e),new Uint8Array(t.digest())}function ry(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ns([t,s],0),new ns([o,l],0)]}class Ef{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Pa(`Invalid padding: ${t}`);if(s<0)throw new Pa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ns.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(ns.fromNumber(s)));return o.compare(uS)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=ny(e),[s,o]=ry(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Ef(l,o,t);return s.forEach((f=>h.insert(f))),h}insert(e){if(this.Ie===0)return;const t=ny(e),[s,o]=ry(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new mc(xe.min(),o,new st($e),Vr(),Ve())}}class il{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new il(s,t,Ve(),Ve(),Ve())}}class zu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class tv{constructor(e,t){this.targetId=e,this.me=t}}class nv{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class iy{constructor(){this.fe=0,this.ge=oy(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),s=Ve();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ke()}})),new il(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=oy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=sy(),this.Qe=new st($e)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:ke()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const l=o.target;if(bd(l))if(s===0){const h=new ge(l.path);this.Ue(t,h,zt.newNoDocument(h,xe.min()))}else He(s===1);else{const h=this.Ye(t);if(h!==s){const f=this.Ze(e),g=f?this.Xe(f,e,h):1;if(g!==0){this.je(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=ls(s).toUint8Array()}catch(g){if(g instanceof D_)return po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Ef(h,o,l)}catch(g){return po(g instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ie===0?null:f}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.Le.tt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,l,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((l,h)=>{const f=this.Je(h);if(f){if(l.current&&bd(f.target)){const g=new ge(f.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,zt.newNoDocument(g,e))}l.be&&(t.set(h,l.ve()),l.Ce())}}));let s=Ve();this.qe.forEach(((l,h)=>{let f=!0;h.forEachWhile((g=>{const _=this.Je(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.ke.forEach(((l,h)=>h.setReadTime(e)));const o=new mc(e,t,this.Qe,this.ke,s);return this.ke=Vr(),this.qe=sy(),this.Qe=new st($e),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new iy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt($e),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new iy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sy(){return new st(ge.comparator)}function oy(){return new st(ge.comparator)}const hS={asc:"ASCENDING",desc:"DESCENDING"},dS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fS={and:"AND",or:"OR"};class pS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Od(r,e){return r.useProto3Json||cc(e)?e:{value:e}}function tc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mS(r,e){return tc(r,e.toTimestamp())}function ir(r){return He(!!r),xe.fromTimestamp((function(t){const s=vi(t);return new vt(s.seconds,s.nanos)})(r))}function Tf(r,e){return Ld(r,e).canonicalString()}function Ld(r,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function iv(r){const e=et.fromString(r);return He(uv(e)),e}function Md(r,e){return Tf(r.databaseId,e.path)}function dd(r,e){const t=iv(e);if(t.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(ov(t))}function sv(r,e){return Tf(r.databaseId,e)}function gS(r){const e=iv(r);return e.length===4?et.emptyPath():ov(e)}function Fd(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ov(r){return He(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function ay(r,e,t){return{name:Md(r,e),fields:t.value.mapValue.fields}}function yS(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ke()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,w){return _.useProto3Json?(He(w===void 0||typeof w=="string"),Vt.fromBase64String(w||"")):(He(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Vt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(_){const w=_.code===void 0?W.UNKNOWN:ev(_.code);return new le(w,_.message||"")})(h);t=new nv(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dd(r,s.document.name),l=ir(s.document.updateTime),h=s.document.createTime?ir(s.document.createTime):xe.min(),f=new rn({mapValue:{fields:s.document.fields}}),g=zt.newFoundDocument(o,l,h,f),_=s.targetIds||[],w=s.removedTargetIds||[];t=new zu(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dd(r,s.document),l=s.readTime?ir(s.readTime):xe.min(),h=zt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new zu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dd(r,s.document),l=s.removedTargetIds||[];t=new zu([],l,o,null)}else{if(!("filter"in e))return ke();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new oS(o,l),f=s.targetId;t=new tv(f,h)}}return t}function _S(r,e){let t;if(e instanceof rl)t={update:ay(r,e.key,e.value)};else if(e instanceof vf)t={delete:Md(r,e.key)};else if(e instanceof Ii)t={update:ay(r,e.key,e.data),updateMask:xS(e.fieldMask)};else{if(!(e instanceof rS))return ke();t={verify:Md(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const f=h.transform;if(f instanceof qa)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ha)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ec)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw ke()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:mS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke()})(r,e.precondition)),t}function vS(r,e){return r&&r.length>0?(He(e!==void 0),r.map((t=>(function(o,l){let h=o.updateTime?ir(o.updateTime):ir(l);return h.isEqual(xe.min())&&(h=ir(l)),new eS(h,o.transformResults||[])})(t,e)))):[]}function wS(r,e){return{documents:[sv(r,e.path)]}}function ES(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=sv(r,o);const l=(function(_){if(_.length!==0)return lv($n.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(_){if(_.length!==0)return _.map((w=>(function(P){return{field:oo(P.field),direction:SS(P.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Od(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:t,parent:o}}function TS(r){let e=gS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(x){const P=av(x);return P instanceof $n&&M_(P)?P.getFilters():[P]})(t.where));let h=[];t.orderBy&&(h=(function(x){return x.map((P=>(function(z){return new $a(ao(z.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(P)))})(t.orderBy));let f=null;t.limit&&(f=(function(x){let P;return P=typeof x=="object"?x.value:x,cc(P)?null:P})(t.limit));let g=null;t.startAt&&(g=(function(x){const P=!!x.before,j=x.values||[];return new Zu(j,P)})(t.startAt));let _=null;return t.endAt&&(_=(function(x){const P=!x.before,j=x.values||[];return new Zu(j,P)})(t.endAt)),U1(e,o,h,l,f,"F",g,_)}function IS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function av(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ao(t.unaryFilter.field);return ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ke()}})(r):r.fieldFilter!==void 0?(function(t){return ft.create(ao(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return $n.create(t.compositeFilter.filters.map((s=>av(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke()}})(t.compositeFilter.op))})(r):ke()}function SS(r){return hS[r]}function AS(r){return dS[r]}function kS(r){return fS[r]}function oo(r){return{fieldPath:r.canonicalString()}}function ao(r){return bt.fromServerFormat(r.fieldPath)}function lv(r){return r instanceof ft?(function(t){if(t.op==="=="){if(Kg(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(Wg(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kg(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(Wg(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:AS(t.op),value:t.value}}})(r):r instanceof $n?(function(t){const s=t.getFilters().map((o=>lv(o)));return s.length===1?s[0]:{compositeFilter:{op:kS(t.op),filters:s}}})(r):ke()}function xS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function uv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class di{constructor(e,t,s,o,l=xe.min(),h=xe.min(),f=Vt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PS{constructor(e){this.ct=e}}function RS(r){const e=TS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vd(e,e.limit,"L"):e}class CS{constructor(){this.un=new NS}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(_i.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class NS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(et.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}class _o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _o(0)}static kn(){return new _o(-1)}}class bS{constructor(){this.changes=new Ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class VS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Va(s.mutation,o,dn.empty(),vt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ve()){const o=ts();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=xa();return l.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=ts();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ve())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,s,o){let l=Vr();const h=Da(),f=(function(){return Da()})();return t.forEach(((g,_)=>{const w=s.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof Ii)?l=l.insert(_.key,_):w!==void 0?(h.set(_.key,w.mutation.getFieldMask()),Va(w.mutation,_,w.mutation.getFieldMask(),vt.now())):h.set(_.key,dn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((_,w)=>h.set(_,w))),t.forEach(((_,w)=>{var x;return f.set(_,new DS(w,(x=h.get(_))!==null&&x!==void 0?x:null))})),f)))}recalculateAndSaveOverlays(e,t){const s=Da();let o=new st(((h,f)=>h-f)),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const _=t.get(g);if(_===null)return;let w=s.get(g)||dn.empty();w=f.applyToLocalView(_,w),s.set(g,w);const x=(o.get(f.batchId)||Ve()).add(g);o=o.insert(f.batchId,x)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),_=g.key,w=g.value,x=W_();w.forEach((P=>{if(!l.has(P)){const j=J_(t.get(P),s.get(P));j!==null&&x.set(P,j),l=l.add(P)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,x))}return Q.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):z_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Q.resolve(ts());let f=-1,g=l;return h.next((_=>Q.forEach(_,((w,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next((P=>{g=g.insert(w,P)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,g,_,Ve()))).next((w=>({batchId:f,changes:H_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let o=xa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=xa();return this.indexManager.getCollectionParents(e,l).next((f=>Q.forEach(f,(g=>{const _=(function(x,P){return new So(P,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((w=>{w.forEach(((x,P)=>{h=h.insert(x,P)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((g,_)=>{const w=_.getKey();h.get(w)===null&&(h=h.insert(w,zt.newInvalidDocument(w)))}));let f=xa();return h.forEach(((g,_)=>{const w=l.get(g);w!==void 0&&Va(w.mutation,_,dn.empty(),vt.now()),dc(t,_)&&(f=f.insert(g,_))})),f}))}}class OS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:RS(o.bundledQuery),readTime:ir(o.readTime)}})(t)),Q.resolve()}}class LS{constructor(){this.overlays=new st(ge.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ts();return Q.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.ht(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const o=ts(),l=t.length+1,h=new ge(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new st(((_,w)=>_-w));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let w=l.get(_.largestBatchId);w===null&&(w=ts(),l=l.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const f=ts(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,w)=>f.set(_,w))),!(f.size()>=o)););return Q.resolve(f)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new sS(t,s));let l=this.Ir.get(t);l===void 0&&(l=Ve(),this.Ir.set(t,l)),this.Ir.set(t,l.add(s.key))}}class MS{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}class If{constructor(){this.Tr=new Dt(At.Er),this.dr=new Dt(At.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new At(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new At(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new ge(new et([])),s=new At(t,e),o=new At(t,e+1),l=[];return this.dr.forEachInRange([s,o],(h=>{this.Vr(h),l.push(h.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ge(new et([])),s=new At(t,e),o=new At(t,e+1);let l=Ve();return this.dr.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new At(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ge.comparator(e.key,t.key)||$e(e.wr,t.wr)}static Ar(e,t){return $e(e.wr,t.wr)||ge.comparator(e.key,t.key)}}class FS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dt(At.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new iS(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.br=this.br.add(new At(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([s,o],(h=>{const f=this.Dr(h.wr);l.push(f)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt($e);return t.forEach((o=>{const l=new At(o,0),h=new At(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,h],(f=>{s=s.add(f.wr)}))})),Q.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const h=new At(new ge(l),0);let f=new Dt($e);return this.br.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(f=f.add(g.wr)),!0)}),h),Q.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){He(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return Q.forEach(t.mutations,(o=>{const l=new At(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new At(t,0),o=this.br.firstAfterOrEqual(s);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jS{constructor(e){this.Mr=e,this.docs=(function(){return new st(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let s=Vr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))})),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Vr();const h=t.path,f=new ge(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||E1(w1(w),s)<=0||(o.has(w.key)||dc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,s,o){ke()}Or(e,t){return Q.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new US(this)}getSize(e){return Q.resolve(this.size)}}class US extends bS{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class zS{constructor(e){this.persistence=e,this.Nr=new Ao((t=>mf(t)),gf),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new If,this.targetCount=0,this.kr=_o.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Nr.forEach(((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Nr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Q.waitFor(l).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}}class BS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new hf(0),this.Kr=!1,this.Kr=!0,this.$r=new MS,this.referenceDelegate=e(this),this.Ur=new zS(this),this.indexManager=new CS,this.remoteDocumentCache=(function(o){return new jS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new PS(t),this.Gr=new OS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new FS(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new $S(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,t){return Q.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class $S extends I1{constructor(e){super(),this.currentSequenceNumber=e}}class Sf{constructor(e){this.persistence=e,this.Jr=new If,this.Yr=null}static Zr(e){return new Sf(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,(s=>{const o=ge.fromPath(s);return this.ei(e,o).next((l=>{l||t.removeEntry(o,xe.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Af{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Af(e,t.fromCache,s,o)}}class qS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class HS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return bw()?8:S1(Bt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Yi(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.Zi(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new qS;return this.Xi(e,t,h).next((f=>{if(l.result=f,this.zi)return this.es(e,t,h,f.size)}))})).next((()=>l.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(Ia()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",so(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Ia()<=Le.DEBUG&&fe("QueryEngine","Query:",so(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Ia()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",so(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):Q.resolve())}Yi(e,t){if(Xg(t))return Q.resolve(null);let s=rr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Vd(t,null,"F"),s=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=Ve(...l);return this.Ji.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,s).next((g=>{const _=this.ts(t,f);return this.ns(t,_,h,g.readTime)?this.Yi(e,Vd(t,null,"F")):this.rs(e,_,t,g)}))))})))))}Zi(e,t,s,o){return Xg(t)||o.isEqual(xe.min())?Q.resolve(null):this.Ji.getDocuments(e,s).next((l=>{const h=this.ts(t,l);return this.ns(t,h,s,o)?Q.resolve(null):(Ia()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(t)),this.rs(e,h,t,v1(o,-1)).next((f=>f)))}))}ts(e,t){let s=new Dt($_(e));return t.forEach(((o,l)=>{dc(e,l)&&(s=s.add(l))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,t,s){return Ia()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",so(t)),this.Ji.getDocumentsMatchingQuery(e,t,_i.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}class WS{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new st($e),this._s=new Ao((l=>mf(l)),gf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function KS(r,e,t,s){return new WS(r,e,t,s)}async function cv(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],f=[];let g=Ve();for(const _ of o){h.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of l){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((_=>({hs:_,removedBatchIds:h,addedBatchIds:f})))}))}))}function GS(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(f,g,_,w){const x=_.batch,P=x.keys();let j=Q.resolve();return P.forEach((z=>{j=j.next((()=>w.getEntry(g,z))).next((q=>{const B=_.docVersions.get(z);He(B!==null),q.version.compareTo(B)<0&&(x.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))}))})),j.next((()=>f.mutationQueue.removeMutationBatch(g,x)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let g=Ve();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(g=g.add(f.batch.mutations[_].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function hv(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function QS(r,e){const t=Pe(r),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const f=[];e.targetChanges.forEach(((w,x)=>{const P=o.get(x);if(!P)return;f.push(t.Ur.removeMatchingKeys(l,w.removedDocuments,x).next((()=>t.Ur.addMatchingKeys(l,w.addedDocuments,x))));let j=P.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?j=j.withResumeToken(Vt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):w.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(w.resumeToken,s)),o=o.insert(x,j),(function(q,B,te){return q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(P,j,w)&&f.push(t.Ur.updateTargetData(l,j))}));let g=Vr(),_=Ve();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(YS(l,h,e.documentUpdates).next((w=>{g=w.Ps,_=w.Is}))),!s.isEqual(xe.min())){const w=t.Ur.getLastRemoteSnapshotVersion(l).next((x=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(w)}return Q.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,_))).next((()=>g))})).then((l=>(t.os=o,l)))}function YS(r,e,t){let s=Ve(),o=Ve();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let h=Vr();return t.forEach(((f,g)=>{const _=l.get(f);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",g.version)})),{Ps:h,Is:o}}))}function XS(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function JS(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((l=>l?(o=l,Q.resolve(o)):t.Ur.allocateTargetId(s).next((h=>(o=new di(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function jd(r,e,t){const s=Pe(r),o=s.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!nl(h))throw h;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function ly(r,e,t){const s=Pe(r);let o=xe.min(),l=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,_,w){const x=Pe(g),P=x._s.get(w);return P!==void 0?Q.resolve(x.os.get(P)):x.Ur.getTargetData(_,w)})(s,h,rr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,f.targetId).next((g=>{l=g}))})).next((()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:xe.min(),t?l:Ve()))).next((f=>(ZS(s,B1(e),f),{documents:f,Ts:l})))))}function ZS(r,e,t){let s=r.us.get(e)||xe.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.us.set(e,s)}class uy{constructor(){this.activeTargetIds=G1()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eA{constructor(){this.so=new uy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tA{_o(e){}shutdown(){}}class cy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ru=null;function fd(){return Ru===null?Ru=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ru++,"0x"+Ru.toString(16)}const nA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const jt="WebChannelConnection";class iA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(t,s,o,l,h){const f=fd(),g=this.xo(t,s.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,l,h),this.No(t,g,_,o).then((w=>(fe("RestConnection",`Received RPC '${t}' ${f}: `,w),w)),(w=>{throw po("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",o),w}))}Lo(t,s,o,l,h,f){return this.Mo(t,s,o,l,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((l,h)=>t[h]=l)),o&&o.headers.forEach(((l,h)=>t[h]=l))}xo(t,s){const o=nA[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const l=fd();return new Promise(((h,f)=>{const g=new A_;g.setWithCredentials(!0),g.listenOnce(k_.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Fu.NO_ERROR:const w=g.getResponseJson();fe(jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Fu.TIMEOUT:fe(jt,`RPC '${e}' ${l} timed out`),f(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const x=g.getStatus();if(fe(jt,`RPC '${e}' ${l} failed with status:`,x,"response text:",g.getResponseText()),x>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P?.error;if(j&&j.status&&j.message){const z=(function(B){const te=B.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})(j.status);f(new le(z,j.message))}else f(new le(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new le(W.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{fe(jt,`RPC '${e}' ${l} completed.`)}}));const _=JSON.stringify(o);fe(jt,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",_,s,15)}))}Bo(e,t,s){const o=fd(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=R_(),f=P_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=l.join("");fe(jt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const x=h.createWebChannel(w,g);let P=!1,j=!1;const z=new rA({Io:B=>{j?fe(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(P||(fe(jt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),P=!0),fe(jt,`RPC '${e}' stream ${o} sending:`,B),x.send(B))},To:()=>x.close()}),q=(B,te,ie)=>{B.listen(te,(ee=>{try{ie(ee)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return q(x,ka.EventType.OPEN,(()=>{j||(fe(jt,`RPC '${e}' stream ${o} transport opened.`),z.yo())})),q(x,ka.EventType.CLOSE,(()=>{j||(j=!0,fe(jt,`RPC '${e}' stream ${o} transport closed`),z.So())})),q(x,ka.EventType.ERROR,(B=>{j||(j=!0,po(jt,`RPC '${e}' stream ${o} transport errored:`,B),z.So(new le(W.UNAVAILABLE,"The operation could not be completed")))})),q(x,ka.EventType.MESSAGE,(B=>{var te;if(!j){const ie=B.data[0];He(!!ie);const ee=ie,oe=ee.error||((te=ee[0])===null||te===void 0?void 0:te.error);if(oe){fe(jt,`RPC '${e}' stream ${o} received error:`,oe);const Ce=oe.status;let Ee=(function(S){const R=dt[S];if(R!==void 0)return ev(R)})(Ce),N=oe.message;Ee===void 0&&(Ee=W.INTERNAL,N="Unknown error status: "+Ce+" with message "+oe.message),j=!0,z.So(new le(Ee,N)),x.close()}else fe(jt,`RPC '${e}' stream ${o} received:`,ie),z.bo(ie)}})),q(f,x_.STAT_EVENT,(B=>{B.stat===Pd.PROXY?fe(jt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Pd.NOPROXY&&fe(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.wo()}),0),z}}function pd(){return typeof document<"u"?document:null}function gc(r){return new pS(r,!0)}class dv{constructor(e,t,s=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class fv{constructor(e,t,s,o,l,h,f,g){this.ui=e,this.Ho=s,this.Jo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dv(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sA extends fv{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=yS(this.serializer,e),s=(function(l){if(!("targetChange"in l))return xe.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?ir(h.readTime):xe.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=Fd(this.serializer),t.addTarget=(function(l,h){let f;const g=h.target;if(f=bd(g)?{documents:wS(l,g)}:{query:ES(l,g)._t},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=rv(l,h.resumeToken);const _=Od(l,h.expectedCount);_!==null&&(f.expectedCount=_)}else if(h.snapshotVersion.compareTo(xe.min())>0){f.readTime=tc(l,h.snapshotVersion.toTimestamp());const _=Od(l,h.expectedCount);_!==null&&(f.expectedCount=_)}return f})(this.serializer,e);const s=IS(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=Fd(this.serializer),t.removeTarget=e,this.a_(t)}}class oA extends fv{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=vS(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=Fd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>_S(this.serializer,s)))};this.a_(t)}}class aA extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Mo(e,Ld(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(W.UNKNOWN,l.toString())}))}Lo(e,t,s,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Lo(e,Ld(t,s),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(W.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class lA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(t),this.D_=!1):fe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class uA{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((h=>{s.enqueueAndForget((async()=>{hs(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const _=Pe(g);_.L_.add(4),await sl(_),_.q_.set("Unknown"),_.L_.delete(4),await yc(_)})(this))}))})),this.q_=new lA(s,o)}}async function yc(r){if(hs(r))for(const e of r.B_)await e(!0)}async function sl(r){for(const e of r.B_)await e(!1)}function pv(r,e){const t=Pe(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Rf(t)?Pf(t):ko(t).r_()&&xf(t,e))}function kf(r,e){const t=Pe(r),s=ko(t);t.N_.delete(e),s.r_()&&mv(t,e),t.N_.size===0&&(s.r_()?s.o_():hs(t)&&t.q_.set("Unknown"))}function xf(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ko(r).A_(e)}function mv(r,e){r.Q_.xe(e),ko(r).R_(e)}function Pf(r){r.Q_=new cS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.q_.v_()}function Rf(r){return hs(r)&&!ko(r).n_()&&r.N_.size>0}function hs(r){return Pe(r).L_.size===0}function gv(r){r.Q_=void 0}async function cA(r){r.q_.set("Online")}async function hA(r){r.N_.forEach(((e,t)=>{xf(r,e)}))}async function dA(r,e){gv(r),Rf(r)?(r.q_.M_(e),Pf(r)):r.q_.set("Unknown")}async function fA(r,e,t){if(r.q_.set("Online"),e instanceof nv&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.N_.delete(f),o.Q_.removeTarget(f))})(r,e)}catch(s){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nc(r,s)}else if(e instanceof zu?r.Q_.Ke(e):e instanceof tv?r.Q_.He(e):r.Q_.We(e),!t.isEqual(xe.min()))try{const s=await hv(r.localStore);t.compareTo(s)>=0&&await(function(l,h){const f=l.Q_.rt(h);return f.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.N_.get(_);w&&l.N_.set(_,w.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,_)=>{const w=l.N_.get(g);if(!w)return;l.N_.set(g,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),mv(l,g);const x=new di(w.target,g,_,w.sequenceNumber);xf(l,x)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(s){fe("RemoteStore","Failed to raise snapshot:",s),await nc(r,s)}}async function nc(r,e,t){if(!nl(e))throw e;r.L_.add(1),await sl(r),r.q_.set("Offline"),t||(t=()=>hv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await yc(r)}))}function yv(r,e){return e().catch((t=>nc(r,t,e)))}async function _c(r){const e=Pe(r),t=wi(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;pA(e);)try{const o=await XS(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,mA(e,o)}catch(o){await nc(e,o)}_v(e)&&vv(e)}function pA(r){return hs(r)&&r.O_.length<10}function mA(r,e){r.O_.push(e);const t=wi(r);t.r_()&&t.V_&&t.m_(e.mutations)}function _v(r){return hs(r)&&!wi(r).n_()&&r.O_.length>0}function vv(r){wi(r).start()}async function gA(r){wi(r).p_()}async function yA(r){const e=wi(r);for(const t of r.O_)e.m_(t.mutations)}async function _A(r,e,t){const s=r.O_.shift(),o=wf.from(s,e,t);await yv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await _c(r)}async function vA(r,e){e&&wi(r).V_&&await(async function(s,o){if((function(h){return aS(h)&&h!==W.ABORTED})(o.code)){const l=s.O_.shift();wi(s).s_(),await yv(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await _c(s)}})(r,e),_v(r)&&vv(r)}async function hy(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const s=hs(t);t.L_.add(3),await sl(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await yc(t)}async function wA(r,e){const t=Pe(r);e?(t.L_.delete(2),await yc(t)):e||(t.L_.add(2),await sl(t),t.q_.set("Unknown"))}function ko(r){return r.K_||(r.K_=(function(t,s,o){const l=Pe(t);return l.w_(),new sA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:cA.bind(null,r),Ro:hA.bind(null,r),mo:dA.bind(null,r),d_:fA.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Rf(r)?Pf(r):r.q_.set("Unknown")):(await r.K_.stop(),gv(r))}))),r.K_}function wi(r){return r.U_||(r.U_=(function(t,s,o){const l=Pe(t);return l.w_(),new oA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gA.bind(null,r),mo:vA.bind(null,r),f_:yA.bind(null,r),g_:_A.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await _c(r)):(await r.U_.stop(),r.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class Cf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new Cf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nf(r,e){if(Dr("AsyncQueue",`${e}: ${r}`),nl(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=xa(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class dy{constructor(){this.W_=new st(ge.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class vo{constructor(e,t,s,o,l,h,f,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new vo(e,t,ho.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class EA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class TA{constructor(){this.queries=fy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=Pe(t),l=o.queries;o.queries=fy(),l.forEach(((h,f)=>{for(const g of f.j_)g.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function fy(){return new Ao((r=>B_(r)),hc)}async function wv(r,e){const t=Pe(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.H_()&&e.J_()&&(s=2):(l=new EA,s=e.J_()?0:1);try{switch(s){case 0:l.z_=await t.onListen(o,!0);break;case 1:l.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Nf(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&bf(t)}async function Ev(r,e){const t=Pe(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.j_.indexOf(e);h>=0&&(l.j_.splice(h,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function IA(r,e){const t=Pe(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.j_)f.X_(o)&&(s=!0);h.z_=o}}s&&bf(t)}function SA(r,e,t){const s=Pe(r),o=s.queries.get(e);if(o)for(const l of o.j_)l.onError(t);s.queries.delete(e)}function bf(r){r.Y_.forEach((e=>{e.next()}))}var Ud,py;(py=Ud||(Ud={})).ea="default",py.Cache="cache";class Tv{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ud.Cache}}class Iv{constructor(e){this.key=e}}class Sv{constructor(e){this.key=e}}class AA{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=$_(e),this.Ra=new ho(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new dy,o=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,x)=>{const P=o.get(w),j=dc(this.query,x)?x:null,z=!!P&&this.mutatedKeys.has(P.key),q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;P&&j?P.data.isEqual(j.data)?z!==q&&(s.track({type:3,doc:j}),B=!0):this.ga(P,j)||(s.track({type:2,doc:j}),B=!0,(g&&this.Aa(j,g)>0||_&&this.Aa(j,_)<0)&&(f=!0)):!P&&j?(s.track({type:0,doc:j}),B=!0):P&&!j&&(s.track({type:1,doc:P}),B=!0,(g||_)&&(f=!0)),B&&(j?(h=h.add(j),l=q?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{Ra:h,fa:s,ns:f,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((w,x)=>(function(j,z){const q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return q(j)-q(z)})(w.type,x.type)||this.Aa(w.doc,x.doc))),this.pa(s),o=o!=null&&o;const f=t&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,_=g!==this.Ea;return this.Ea=g,h.length!==0||_?{snapshot:new vo(this.query,e.Ra,l,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new Sv(s))})),this.da.forEach((s=>{e.has(s)||t.push(new Iv(s))})),t}ba(e){this.Ta=e.Ts,this.da=Ve();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class xA{constructor(e){this.key=e,this.va=!1}}class PA{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Ao((f=>B_(f)),hc),this.Ma=new Map,this.xa=new Set,this.Oa=new st(ge.comparator),this.Na=new Map,this.La=new If,this.Ba={},this.ka=new Map,this.qa=_o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function RA(r,e,t=!0){const s=Cv(r);let o;const l=s.Fa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await Av(s,e,t,!0),o}async function CA(r,e){const t=Cv(r);await Av(t,e,!0,!1)}async function Av(r,e,t,s){const o=await JS(r.localStore,rr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await NA(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&pv(r.remoteStore,o),f}async function NA(r,e,t,s,o){r.Ka=(x,P,j)=>(async function(q,B,te,ie){let ee=B.view.ma(te);ee.ns&&(ee=await ly(q.localStore,B.query,!1).then((({documents:N})=>B.view.ma(N,ee))));const oe=ie&&ie.targetChanges.get(B.targetId),Ce=ie&&ie.targetMismatches.get(B.targetId)!=null,Ee=B.view.applyChanges(ee,q.isPrimaryClient,oe,Ce);return gy(q,B.targetId,Ee.wa),Ee.snapshot})(r,x,P,j);const l=await ly(r.localStore,e,!0),h=new AA(e,l.Ts),f=h.ma(l.documents),g=il.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),_=h.applyChanges(f,r.isPrimaryClient,g);gy(r,t,_.wa);const w=new kA(e,t,h);return r.Fa.set(e,w),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),_.snapshot}async function bA(r,e,t){const s=Pe(r),o=s.Fa.get(e),l=s.Ma.get(o.targetId);if(l.length>1)return s.Ma.set(o.targetId,l.filter((h=>!hc(h,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&kf(s.remoteStore,o.targetId),zd(s,o.targetId)})).catch(tl)):(zd(s,o.targetId),await jd(s.localStore,o.targetId,!0))}async function DA(r,e){const t=Pe(r),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),kf(t.remoteStore,s.targetId))}async function VA(r,e,t){const s=zA(r);try{const o=await(function(h,f){const g=Pe(h),_=vt.now(),w=f.reduce(((j,z)=>j.add(z.key)),Ve());let x,P;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let z=Vr(),q=Ve();return g.cs.getEntries(j,w).next((B=>{z=B,z.forEach(((te,ie)=>{ie.isValidDocument()||(q=q.add(te))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,z))).next((B=>{x=B;const te=[];for(const ie of f){const ee=nS(ie,x.get(ie.key).overlayedDocument);ee!=null&&te.push(new Ii(ie.key,ee,V_(ee.value.mapValue),Bn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,_,te,f)})).next((B=>{P=B;const te=B.applyToLocalDocumentSet(x,q);return g.documentOverlayCache.saveOverlays(j,B.batchId,te)}))})).then((()=>({batchId:P.batchId,changes:H_(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let _=h.Ba[h.currentUser.toKey()];_||(_=new st($e)),_=_.insert(f,g),h.Ba[h.currentUser.toKey()]=_})(s,o.batchId,t),await ol(s,o.changes),await _c(s.remoteStore)}catch(o){const l=Nf(o,"Failed to persist write");t.reject(l)}}async function kv(r,e){const t=Pe(r);try{const s=await QS(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Na.get(l);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?He(h.va):o.removedDocuments.size>0&&(He(h.va),h.va=!1))})),await ol(t,s,e)}catch(s){await tl(s)}}function my(r,e,t){const s=Pe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((l,h)=>{const f=h.view.Z_(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=Pe(h);g.onlineState=f;let _=!1;g.queries.forEach(((w,x)=>{for(const P of x.j_)P.Z_(f)&&(_=!0)})),_&&bf(g)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OA(r,e,t){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),l=o&&o.key;if(l){let h=new st(ge.comparator);h=h.insert(l,zt.newNoDocument(l,xe.min()));const f=Ve().add(l),g=new mc(xe.min(),new Map,new st($e),h,f);await kv(s,g),s.Oa=s.Oa.remove(l),s.Na.delete(e),Df(s)}else await jd(s.localStore,e,!1).then((()=>zd(s,e,t))).catch(tl)}async function LA(r,e){const t=Pe(r),s=e.batch.batchId;try{const o=await GS(t.localStore,e);Pv(t,s,null),xv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ol(t,o)}catch(o){await tl(o)}}async function MA(r,e,t){const s=Pe(r);try{const o=await(function(h,f){const g=Pe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let w;return g.mutationQueue.lookupMutationBatch(_,f).next((x=>(He(x!==null),w=x.keys(),g.mutationQueue.removeMutationBatch(_,x)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w))).next((()=>g.localDocuments.getDocuments(_,w)))}))})(s.localStore,e);Pv(s,e,t),xv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ol(s,o)}catch(o){await tl(o)}}function xv(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function Pv(r,e,t){const s=Pe(r);let o=s.Ba[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function zd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||Rv(r,s)}))}function Rv(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(kf(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Df(r))}function gy(r,e,t){for(const s of t)s instanceof Iv?(r.La.addReference(s.key,e),FA(r,s)):s instanceof Sv?(fe("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||Rv(r,s.key)):ke()}function FA(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(fe("SyncEngine","New document in limbo: "+t),r.xa.add(s),Df(r))}function Df(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new ge(et.fromString(e)),s=r.qa.next();r.Na.set(s,new xA(t)),r.Oa=r.Oa.insert(t,s),pv(r.remoteStore,new di(rr(yf(t.path)),s,"TargetPurposeLimboResolution",hf.oe))}}async function ol(r,e,t){const s=Pe(r),o=[],l=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach(((f,g)=>{h.push(s.Ka(g,e,t).then((_=>{var w;if((_||t)&&s.isPrimaryClient){const x=_?!_.fromCache:(w=t?.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Af.Wi(g.targetId,_);l.push(x)}})))})),await Promise.all(h),s.Ca.d_(o),await(async function(g,_){const w=Pe(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Q.forEach(_,(P=>Q.forEach(P.$i,(j=>w.persistence.referenceDelegate.addReference(x,P.targetId,j))).next((()=>Q.forEach(P.Ui,(j=>w.persistence.referenceDelegate.removeReference(x,P.targetId,j)))))))))}catch(x){if(!nl(x))throw x;fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const P=x.targetId;if(!x.fromCache){const j=w.os.get(P),z=j.snapshotVersion,q=j.withLastLimboFreeSnapshotVersion(z);w.os=w.os.insert(P,q)}}})(s.localStore,l))}async function jA(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const s=await cv(t.localStore,e);t.currentUser=e,(function(l,h){l.ka.forEach((f=>{f.forEach((g=>{g.reject(new le(W.CANCELLED,h))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ol(t,s.hs)}}function UA(r,e){const t=Pe(r),s=t.Na.get(e);if(s&&s.va)return Ve().add(s.key);{let o=Ve();const l=t.Ma.get(e);if(!l)return o;for(const h of l){const f=t.Fa.get(h);o=o.unionWith(f.view.Va)}return o}}function Cv(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OA.bind(null,e),e.Ca.d_=IA.bind(null,e.eventManager),e.Ca.$a=SA.bind(null,e.eventManager),e}function zA(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MA.bind(null,e),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return KS(this.persistence,new HS,e.initialUser,this.serializer)}Ga(e){return new BS(Sf.Zr,this.serializer)}Wa(e){return new eA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class Bd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>my(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jA.bind(null,this.syncEngine),await wA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TA})()}createDatastore(e){const t=gc(e.databaseInfo.databaseId),s=(function(l){return new iA(l)})(e.databaseInfo);return(function(l,h,f,g){return new aA(l,h,f,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,f){return new uA(s,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>my(this.syncEngine,t,0)),(function(){return cy.D()?new cy:new tA})())}createSyncEngine(e,t){return(function(o,l,h,f,g,_,w){const x=new PA(o,l,h,f,g,_);return w&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Pe(o);fe("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await sl(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bd.provider={build:()=>new Bd};class Nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class BA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=N_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{fe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Nf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function md(r,e){r.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await $A(r);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>hy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>hy(e.remoteStore,o))),r._onlineComponents=e}async function $A(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await md(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await md(r,new rc)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await md(r,new rc);return r._offlineComponents}async function bv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await yy(r,r._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await yy(r,new Bd))),r._onlineComponents}function qA(r){return bv(r).then((e=>e.syncEngine))}async function Dv(r){const e=await bv(r),t=e.eventManager;return t.onListen=RA.bind(null,e.syncEngine),t.onUnlisten=bA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DA.bind(null,e.syncEngine),t}function HA(r,e,t={}){const s=new Rr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,g,_){const w=new Nv({next:P=>{w.Za(),h.enqueueAndForget((()=>Ev(l,x)));const j=P.docs.has(f);!j&&P.fromCache?_.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&P.fromCache&&g&&g.source==="server"?_.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(P)},error:P=>_.reject(P)}),x=new Tv(yf(f.path),w,{includeMetadataChanges:!0,_a:!0});return wv(l,x)})(await Dv(r),r.asyncQueue,e,t,s))),s.promise}function WA(r,e,t={}){const s=new Rr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,g,_){const w=new Nv({next:P=>{w.Za(),h.enqueueAndForget((()=>Ev(l,x))),P.fromCache&&g.source==="server"?_.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),x=new Tv(f,w,{includeMetadataChanges:!0,_a:!0});return wv(l,x)})(await Dv(r),r.asyncQueue,e,t,s))),s.promise}function Vv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const _y=new Map;function Ov(r,e,t){if(!t)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function KA(r,e,t,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function vy(r){if(!ge.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wy(r){if(ge.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ke()}function or(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vc(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Ey{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ey({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ey(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new c1;switch(s.type){case"firstParty":return new p1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=_y.get(t);s&&(fe("ComponentProvider","Removing Datastore"),_y.delete(t),s.terminate())})(this),Promise.resolve()}}function GA(r,e,t,s={}){var o;const l=(r=or(r,wc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ut.MOCK_USER;else{f=Aw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ut(_)}r._authCredentials=new h1(new C_(f,g))}}class ds{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class Gt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class yi extends ds{constructor(e,t,s){super(e,t,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ge(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function QA(r,e,...t){if(r=kt(r),Ov("collection","path",e),r instanceof wc){const s=et.fromString(e,...t);return wy(s),new yi(r,null,s)}{if(!(r instanceof Gt||r instanceof yi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return wy(s),new yi(r.firestore,null,s)}}function Ec(r,e,...t){if(r=kt(r),arguments.length===1&&(e=N_.newId()),Ov("doc","path",e),r instanceof wc){const s=et.fromString(e,...t);return vy(s),new Gt(r,null,new ge(s))}{if(!(r instanceof Gt||r instanceof yi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return vy(s),new Gt(r.firestore,r instanceof yi?r.converter:null,new ge(s))}}class Ty{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dv(this,"async_queue_retry"),this.Vu=()=>{const s=pd();s&&fe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=pd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=pd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Rr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nl(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f})(s);throw Dr("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Cf.createAndSchedule(this,e,t,s,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class xo extends wc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ty,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ty(e),this._firestoreClient=void 0,await e}}}function YA(r,e){const t=typeof r=="object"?r:zy(),s=typeof r=="string"?r:"(default)",o=Xd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Iw("firestore");l&&GA(o,...l)}return o}function Vf(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XA(r),r._firestoreClient}function XA(r){var e,t,s;const o=r._freezeSettings(),l=(function(f,g,_,w){return new x1(f,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Vv(w.experimentalLongPollingOptions),w.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new BA(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(f){const g=f?._online.build();return{_offline:f?._offline.build(g),_online:g}})(r._componentsProvider))}class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(Vt.fromBase64String(e))}catch(t){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wo(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ic{constructor(e){this._methodName=e}}class Of{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}class Lf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}}const JA=/^__.*__$/;class ZA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new rl(e,this.data,t,this.fieldTransforms)}}class Lv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Mf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ic(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Mv(this.Cu)&&JA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ek{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gc(e)}Qu(e,t,s,o=!1){return new Mf({Cu:e,methodName:t,qu:s,path:bt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(r){const e=r._freezeSettings(),t=gc(r._databaseId);return new ek(r._databaseId,!!e.ignoreUndefinedProperties,t)}function tk(r,e,t,s,o,l={}){const h=r.Qu(l.merge||l.mergeFields?2:0,e,t,o);Uf("Data must be an object, but it was:",h,s);const f=Fv(s,h);let g,_;if(l.merge)g=new dn(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const x of l.mergeFields){const P=$d(e,x,t);if(!h.contains(P))throw new le(W.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Uv(w,P)||w.push(P)}g=new dn(w),_=h.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,_=h.fieldTransforms;return new ZA(new rn(f),g,_)}class Sc extends Ic{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sc}}class jf extends Ic{_toFieldTransform(e){return new J1(e.path,new qa)}isEqual(e){return e instanceof jf}}function nk(r,e,t,s){const o=r.Qu(1,e,t);Uf("Data must be an object, but it was:",o,s);const l=[],h=rn.empty();cs(s,((g,_)=>{const w=zf(e,g,t);_=kt(_);const x=o.Nu(w);if(_ instanceof Sc)l.push(w);else{const P=al(_,x);P!=null&&(l.push(w),h.set(w,P))}}));const f=new dn(l);return new Lv(h,f,o.fieldTransforms)}function rk(r,e,t,s,o,l){const h=r.Qu(1,e,t),f=[$d(e,s,t)],g=[o];if(l.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<l.length;P+=2)f.push($d(e,l[P])),g.push(l[P+1]);const _=[],w=rn.empty();for(let P=f.length-1;P>=0;--P)if(!Uv(_,f[P])){const j=f[P];let z=g[P];z=kt(z);const q=h.Nu(j);if(z instanceof Sc)_.push(j);else{const B=al(z,q);B!=null&&(_.push(j),w.set(j,B))}}const x=new dn(_);return new Lv(w,x,h.fieldTransforms)}function ik(r,e,t,s=!1){return al(t,r.Qu(s?4:3,e))}function al(r,e){if(jv(r=kt(r)))return Uf("Unsupported field value:",e,r),Fv(r,e);if(r instanceof Ic)return(function(s,o){if(!Mv(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const f of s){let g=al(f,o.Lu(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Q1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=vt.fromDate(s);return{timestampValue:tc(o.serializer,l)}}if(s instanceof vt){const l=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tc(o.serializer,l)}}if(s instanceof Of)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wo)return{bytesValue:rv(o.serializer,s._byteString)};if(s instanceof Gt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lf)return(function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw f.Bu("VectorValues must only contain numeric values.");return _f(f.serializer,g)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${vc(s)}`)})(r,e)}function Fv(r,e){const t={};return b_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,((s,o)=>{const l=al(o,e.Mu(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function jv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof Of||r instanceof wo||r instanceof Gt||r instanceof Ic||r instanceof Lf)}function Uf(r,e,t){if(!jv(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=vc(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function $d(r,e,t){if((e=kt(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return zf(r,e);throw ic("Field path arguments must be of type string or ",r,!1,void 0,t)}const sk=new RegExp("[~\\*/\\[\\]]");function zf(r,e,t){if(e.search(sk)>=0)throw ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Tc(...e.split("."))._internalPath}catch{throw ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ic(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(W.INVALID_ARGUMENT,f+r+g)}function Uv(r,e){return r.some((t=>t.isEqual(e)))}class zv{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ok extends zv{data(){return super.data()}}function Bf(r,e){return typeof e=="string"?zf(r,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function ak(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $f{}class Bv extends $f{}function lk(r,e,...t){let s=[];e instanceof $f&&s.push(e),s=s.concat(t),(function(l){const h=l.filter((g=>g instanceof Hf)).length,f=l.filter((g=>g instanceof qf)).length;if(h>1||h>0&&f>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class qf extends Bv{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new qf(e,t,s)}_apply(e){const t=this._parse(e);return $v(e._query,t),new ds(e.firestore,e.converter,Dd(e._query,t))}_parse(e){const t=Ff(e.firestore);return(function(l,h,f,g,_,w,x){let P;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Sy(x,w);const j=[];for(const z of x)j.push(Iy(g,l,z));P={arrayValue:{values:j}}}else P=Iy(g,l,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Sy(x,w),P=ik(f,h,x,w==="in"||w==="not-in");return ft.create(_,w,P)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hf extends $f{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const f=l.getFlattenedFilters();for(const g of f)$v(h,g),h=Dd(h,g)})(e._query,t),new ds(e.firestore,e.converter,Dd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wf extends Bv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wf(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $a(l,h)})(e._query,this._field,this._direction);return new ds(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new So(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function uk(r,e="asc"){const t=e,s=Bf("orderBy",r);return Wf._create(s,t)}function Iy(r,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z_(e)&&t.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ge.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hg(r,new ge(s))}if(t instanceof Gt)return Hg(r,t._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vc(t)}.`)}function Sy(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $v(r,e){const t=(function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ck{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return cs(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>ut(h.doubleValue)));return new Lf(l)}convertGeoPoint(e){return new Of(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ff(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const t=vi(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);He(uv(s));const o=new za(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||Dr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function hk(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Ra{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qv extends zv{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Bu extends qv{data(e={}){return super.data(e)}}class dk{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ra(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Bu(this._firestore,this._userDataWriter,s.key,s,new Ra(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new Bu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ra(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new Bu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ra(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return f.type!==0&&(_=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:fk(f.type),doc:g,oldIndex:_,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function pk(r){r=or(r,Gt);const e=or(r.firestore,xo);return HA(Vf(e),r._key).then((t=>vk(e,r,t)))}class Hv extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function mk(r){r=or(r,ds);const e=or(r.firestore,xo),t=Vf(e),s=new Hv(e);return ak(r._query),WA(t,r._query).then((o=>new dk(e,s,r,o)))}function gk(r,e,t){r=or(r,Gt);const s=or(r.firestore,xo),o=hk(r.converter,e,t);return Kf(s,[tk(Ff(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Bn.none())])}function yk(r,e,t,...s){r=or(r,Gt);const o=or(r.firestore,xo),l=Ff(o);let h;return h=typeof(e=kt(e))=="string"||e instanceof Tc?rk(l,"updateDoc",r._key,e,t,s):nk(l,"updateDoc",r._key,e),Kf(o,[h.toMutation(r._key,Bn.exists(!0))])}function _k(r){return Kf(or(r.firestore,xo),[new vf(r._key,Bn.none())])}function Kf(r,e){return(function(s,o){const l=new Rr;return s.asyncQueue.enqueueAndForget((async()=>VA(await qA(s),o,l))),l.promise})(Vf(r),e)}function vk(r,e,t){const s=t.docs.get(e._key),o=new Hv(r);return new qv(r,o,e._key,s,new Ra(t.hasPendingWrites,t.fromCache),e.converter)}function qd(){return new jf("serverTimestamp")}(function(e,t=!0){(function(o){Io=o})(Eo),fo(new ss("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new xo(new d1(s.getProvider("auth-internal")),new g1(s.getProvider("app-check-internal")),(function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(_.options.projectId,w)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),gi(Ug,"4.7.3",e),gi(Ug,"4.7.3","esm2017")})();const wk={apiKey:"AIzaSyB1UL7Ji4gqaJ2EX_r1UoZzmZYl-succf4",authDomain:"lastz-power.firebaseapp.com",projectId:"lastz-power",storageBucket:"lastz-power.firebasestorage.app",messagingSenderId:"158054571749",appId:"1:158054571749:web:e223407cf48ec8cb93be0c"},Wv=Uy(wk),rs=o1(Wv),ll=YA(Wv),Ek=async(r,e)=>{try{let t=e.gameId.trim();if(t=t.replace(/\//g,"_"),!t)throw new Error("Game ID ");const s=Ec(ll,"users",t),o={gameId:e.gameId.trim(),alliance:e.alliance.trim(),team1Power:Number(e.team1Power),team2Power:Number(e.team2Power),team3Power:Number(e.team3Power),updatedAt:qd(),submittedAt:qd()};return await gk(s,o,{merge:!0}),{success:!0}}catch(t){return console.error(":",t),{success:!1,error:t.message}}},Tk=async r=>{try{const e=Ec(ll,"admins",r),t=await pk(e);return t.exists()&&t.data().isActive?{success:!0,isAdmin:!0,adminData:t.data()}:{success:!0,isAdmin:!1}}catch(e){return console.error(":",e),{success:!1,error:e.message}}},Ik=()=>{const[r,e]=me.useState(null),[t,s]=me.useState(!1),[o,l]=me.useState(!0);return me.useEffect(()=>{const h=QT(rs,async f=>{if(e(f),f){const g=await Tk(f.uid);s(g.isAdmin||!1)}else s(!1);l(!1)});return()=>h()},[]),{user:r,isAdmin:t,loading:o}},Sk={zh:{title:"",subtitle:" V2",guest_mode:"",admin_tag:"",logout:"",personal_entry:"",all_management:"",footer_text:" 2026 ",admin_login_gate:"",status_operational:"",loading_system:"...",preparing_env:"...",back_to_guest:" ",login_success:"",register_success:"",op_failed:"",email_in_use:" Email ",invalid_email:"Email ",weak_password:"6",auth_failed:"Email ",google_failed:"Google ",system_name:"",login:"",register:"",password_label:"",processing:"...",or_text:"",google_login:" Google ",form_title:"",form_desc:"",save_success:" ",save_failed:"",error_occurred:"",game_id:" ID",alliance:"",game_id_placeholder:": KingArthas",alliance_placeholder:": LastHope",team1:" (M)",team2:" (M)",team3:" (M)",save_data:"",saving:"...",combat_details:"",current_total:"",data_preview:"",sync_notice:"",last_updated:"",id_required:" ID ",alliance_required:"",admin_title:"",admin_desc:"",refresh:"",export_csv:"",preparing_export:" CSV...",stats_overview:"",display_count:"",avg_s1:"S1 ",avg_s2:"S2 ",avg_s3:"S3 ",search_placeholder:"  ID  ...",filter_options:"",member_id:" ID",alliance_label:"",s1_power:"S1 (M)",s2_power:"S2 (M)",s3_power:"S3 (M)",total_eval:"",update_record:"",actions:"",delete_confirm:"  {id} ",delete_success:"",edit:"",edit_record:"",update_success:"",cancel:"",confirm_save:"",no_data:"",no_results:"",intel_v2:" V2.0 ",data_count:"",loading_data:"..."},en:{title:"Combat Tracker",subtitle:"Alliance Intel V2",guest_mode:"Guest Mode",admin_tag:"ADMIN",logout:"Logout",personal_entry:"Entry Form",all_management:"Dashboard",footer_text:" 2026 Combat Tracker",admin_login_gate:"Admin Server Entrance",status_operational:"Operational",loading_system:"Initializing Combat System...",preparing_env:"Preparing Combat Environment...",back_to_guest:" Back to Guest Mode",login_success:"Login successful!",register_success:"Registration successful!",op_failed:"Operation failed, please try again later",email_in_use:"This Email is already in use",invalid_email:"Invalid Email format",weak_password:"Password too weak (at least 6 characters)",auth_failed:"Invalid Email or password",google_failed:"Google login failed, please try again",system_name:"Game Power Tracker",login:"Login",register:"Register",password_label:"Password",processing:"Processing...",or_text:"Or",google_login:"Sign in with Google",form_title:"Power Data Entry",form_desc:"Enter your latest hero power info to keep allies updated",save_success:" Data saved successfully!",save_failed:"Save failed: ",error_occurred:"Error occurred: ",game_id:"Game ID",alliance:"Alliance",game_id_placeholder:"e.g., KingArthas",alliance_placeholder:"e.g., LastHope",team1:"Team 1 Power (M)",team2:"Team 2 Power (M)",team3:"Team 3 Power (M)",save_data:"Save Data",saving:"Saving...",combat_details:"Team Power Details",current_total:"Total Combat Power",data_preview:"Data Preview",sync_notice:"Data will be synced to Alliance database",last_updated:"Last updated",id_required:"Game ID is required",alliance_required:"Alliance name is required",admin_title:"Alliance Intel Center",admin_desc:"Monitor and analyze member power distribution",refresh:"Refresh",export_csv:"Export CSV",preparing_export:"Preparing CSV download...",stats_overview:"Statistics",display_count:"Members",avg_s1:"S1 Avg",avg_s2:"S2 Avg",avg_s3:"S3 Avg",search_placeholder:"Search Game ID or Alliance...",filter_options:"Filters",member_id:"Member ID",alliance_label:"Alliance",s1_power:"S1 Power(M)",s2_power:"S2 Power(M)",s3_power:"S3 Power(M)",total_eval:"Total Eval",update_record:"Update Record",actions:"Action",delete_confirm:" Are you sure you want to delete {id}? This cannot be undone.",delete_success:"Deleted successfully",edit:"Edit",edit_record:"Edit Member Record",update_success:"Update successful",cancel:"Cancel",confirm_save:"Save Changes",no_data:"No data submitted yet",no_results:"No matching records found",intel_v2:"Alliance Intel V2.0 Stable",data_count:"Total Records",loading_data:"Loading Big Data..."}},Kv=me.createContext(),Ak=({children:r})=>{const[e,t]=me.useState(localStorage.getItem("preferred_lang")||"zh"),s=l=>Sk[e][l]||l,o=()=>{const l=e==="zh"?"en":"zh";t(l),localStorage.setItem("preferred_lang",l)};return I.jsx(Kv.Provider,{value:{lang:e,t:s,toggleLang:o},children:r})},Ac=()=>me.useContext(Kv);function Gv(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=Gv(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function fi(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=Gv(r))&&(s&&(s+=" "),s+=e);return s}const Ka=r=>typeof r=="number"&&!isNaN(r),is=r=>typeof r=="string",fn=r=>typeof r=="function",$u=r=>is(r)||fn(r)?r:null,Hd=r=>me.isValidElement(r)||is(r)||fn(r)||Ka(r);function kk(r,e,t){t===void 0&&(t=300);const{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function kc(r){let{enter:e,exit:t,appendPosition:s=!1,collapse:o=!0,collapseDuration:l=300}=r;return function(h){let{children:f,position:g,preventExitTransition:_,done:w,nodeRef:x,isIn:P,playToast:j}=h;const z=s?`${e}--${g}`:e,q=s?`${t}--${g}`:t,B=me.useRef(0);return me.useLayoutEffect(()=>{const te=x.current,ie=z.split(" "),ee=oe=>{oe.target===x.current&&(j(),te.removeEventListener("animationend",ee),te.removeEventListener("animationcancel",ee),B.current===0&&oe.type!=="animationcancel"&&te.classList.remove(...ie))};te.classList.add(...ie),te.addEventListener("animationend",ee),te.addEventListener("animationcancel",ee)},[]),me.useEffect(()=>{const te=x.current,ie=()=>{te.removeEventListener("animationend",ie),o?kk(te,w,l):w()};P||(_?ie():(B.current=1,te.className+=` ${q}`,te.addEventListener("animationend",ie)))},[P]),We.createElement(We.Fragment,null,f)}}function Ay(r,e){return r!=null?{content:r.content,containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,status:e}:{}}const Kt=new Map;let Ga=[];const Wd=new Set,xk=r=>Wd.forEach(e=>e(r)),Qv=()=>Kt.size>0;function Yv(r,e){var t;if(e)return!((t=Kt.get(e))==null||!t.isToastActive(r));let s=!1;return Kt.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function Xv(r,e){Hd(r)&&(Qv()||Ga.push({content:r,options:e}),Kt.forEach(t=>{t.buildToast(r,e)}))}function ky(r,e){Kt.forEach(t=>{e!=null&&e!=null&&e.containerId?e?.containerId===t.id&&t.toggle(r,e?.id):t.toggle(r,e?.id)})}function Pk(r){const{subscribe:e,getSnapshot:t,setProps:s}=me.useRef((function(l){const h=l.containerId||1;return{subscribe(f){const g=(function(w,x,P){let j=1,z=0,q=[],B=[],te=[],ie=x;const ee=new Map,oe=new Set,Ce=()=>{te=Array.from(ee.values()),oe.forEach(T=>T())},Ee=T=>{B=T==null?[]:B.filter(S=>S!==T),Ce()},N=T=>{const{toastId:S,onOpen:R,updateId:b,children:V}=T.props,k=b==null;T.staleId&&ee.delete(T.staleId),ee.set(S,T),B=[...B,T.props.toastId].filter(ze=>ze!==T.staleId),Ce(),P(Ay(T,k?"added":"updated")),k&&fn(R)&&R(me.isValidElement(V)&&V.props)};return{id:w,props:ie,observe:T=>(oe.add(T),()=>oe.delete(T)),toggle:(T,S)=>{ee.forEach(R=>{S!=null&&S!==R.props.toastId||fn(R.toggle)&&R.toggle(T)})},removeToast:Ee,toasts:ee,clearQueue:()=>{z-=q.length,q=[]},buildToast:(T,S)=>{if((H=>{let{containerId:ae,toastId:we,updateId:Ie}=H;const Re=ae?ae!==w:w!==1,De=ee.has(we)&&Ie==null;return Re||De})(S))return;const{toastId:R,updateId:b,data:V,staleId:k,delay:ze}=S,J=()=>{Ee(R)},Te=b==null;Te&&z++;const ye={...ie,style:ie.toastStyle,key:j++,...Object.fromEntries(Object.entries(S).filter(H=>{let[ae,we]=H;return we!=null})),toastId:R,updateId:b,data:V,closeToast:J,isIn:!1,className:$u(S.className||ie.toastClassName),bodyClassName:$u(S.bodyClassName||ie.bodyClassName),progressClassName:$u(S.progressClassName||ie.progressClassName),autoClose:!S.isLoading&&(Y=S.autoClose,ce=ie.autoClose,Y===!1||Ka(Y)&&Y>0?Y:ce),deleteToast(){const H=ee.get(R),{onClose:ae,children:we}=H.props;fn(ae)&&ae(me.isValidElement(we)&&we.props),P(Ay(H,"removed")),ee.delete(R),z--,z<0&&(z=0),q.length>0?N(q.shift()):Ce()}};var Y,ce;ye.closeButton=ie.closeButton,S.closeButton===!1||Hd(S.closeButton)?ye.closeButton=S.closeButton:S.closeButton===!0&&(ye.closeButton=!Hd(ie.closeButton)||ie.closeButton);let ne=T;me.isValidElement(T)&&!is(T.type)?ne=me.cloneElement(T,{closeToast:J,toastProps:ye,data:V}):fn(T)&&(ne=T({closeToast:J,toastProps:ye,data:V}));const O={content:ne,props:ye,staleId:k};ie.limit&&ie.limit>0&&z>ie.limit&&Te?q.push(O):Ka(ze)?setTimeout(()=>{N(O)},ze):N(O)},setProps(T){ie=T},setToggle:(T,S)=>{ee.get(T).toggle=S},isToastActive:T=>B.some(S=>S===T),getSnapshot:()=>te}})(h,l,xk);Kt.set(h,g);const _=g.observe(f);return Ga.forEach(w=>Xv(w.content,w.options)),Ga=[],()=>{_(),Kt.delete(h)}},setProps(f){var g;(g=Kt.get(h))==null||g.setProps(f)},getSnapshot(){var f;return(f=Kt.get(h))==null?void 0:f.getSnapshot()}}})(r)).current;s(r);const o=me.useSyncExternalStore(e,t,t);return{getToastToRender:function(l){if(!o)return[];const h=new Map;return r.newestOnTop&&o.reverse(),o.forEach(f=>{const{position:g}=f.props;h.has(g)||h.set(g,[]),h.get(g).push(f)}),Array.from(h,f=>l(f[0],f[1]))},isToastActive:Yv,count:o?.length}}function Rk(r){const[e,t]=me.useState(!1),[s,o]=me.useState(!1),l=me.useRef(null),h=me.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:g,closeToast:_,onClick:w,closeOnClick:x}=r;var P,j;function z(){t(!0)}function q(){t(!1)}function B(ee){const oe=l.current;h.canDrag&&oe&&(h.didMove=!0,e&&q(),h.delta=r.draggableDirection==="x"?ee.clientX-h.start:ee.clientY-h.start,h.start!==ee.clientX&&(h.canCloseOnClick=!1),oe.style.transform=`translate3d(${r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`},0)`,oe.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function te(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",te);const ee=l.current;if(h.canDrag&&h.didMove&&ee){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return o(!0),r.closeToast(),void r.collapseAll();ee.style.transition="transform 0.2s, opacity 0.2s",ee.style.removeProperty("transform"),ee.style.removeProperty("opacity")}}(j=Kt.get((P={id:r.toastId,containerId:r.containerId,fn:t}).containerId||1))==null||j.setToggle(P.id,P.fn),me.useEffect(()=>{if(r.pauseOnFocusLoss)return document.hasFocus()||q(),window.addEventListener("focus",z),window.addEventListener("blur",q),()=>{window.removeEventListener("focus",z),window.removeEventListener("blur",q)}},[r.pauseOnFocusLoss]);const ie={onPointerDown:function(ee){if(r.draggable===!0||r.draggable===ee.pointerType){h.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",te);const oe=l.current;h.canCloseOnClick=!0,h.canDrag=!0,oe.style.transition="none",r.draggableDirection==="x"?(h.start=ee.clientX,h.removalDistance=oe.offsetWidth*(r.draggablePercent/100)):(h.start=ee.clientY,h.removalDistance=oe.offsetHeight*(r.draggablePercent===80?1.5*r.draggablePercent:r.draggablePercent)/100)}},onPointerUp:function(ee){const{top:oe,bottom:Ce,left:Ee,right:N}=l.current.getBoundingClientRect();ee.nativeEvent.type!=="touchend"&&r.pauseOnHover&&ee.clientX>=Ee&&ee.clientX<=N&&ee.clientY>=oe&&ee.clientY<=Ce?q():z()}};return f&&g&&(ie.onMouseEnter=q,r.stacked||(ie.onMouseLeave=z)),x&&(ie.onClick=ee=>{w&&w(ee),h.canCloseOnClick&&_()}),{playToast:z,pauseToast:q,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:ie}}function Ck(r){let{delay:e,isRunning:t,closeToast:s,type:o="default",hide:l,className:h,style:f,controlledProgress:g,progress:_,rtl:w,isIn:x,theme:P}=r;const j=l||g&&_===0,z={...f,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};g&&(z.transform=`scaleX(${_})`);const q=fi("Toastify__progress-bar",g?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${P}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":w}),B=fn(h)?h({rtl:w,type:o,defaultClassName:q}):fi(q,h),te={[g&&_>=1?"onTransitionEnd":"onAnimationEnd"]:g&&_<1?null:()=>{x&&s()}};return We.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":j},We.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${P} Toastify__progress-bar--${o}`}),We.createElement("div",{role:"progressbar","aria-hidden":j?"true":"false","aria-label":"notification timer",className:B,style:z,...te}))}let Nk=1;const Jv=()=>""+Nk++;function bk(r){return r&&(is(r.toastId)||Ka(r.toastId))?r.toastId:Jv()}function Oa(r,e){return Xv(r,e),e.toastId}function sc(r,e){return{...e,type:e&&e.type||r,toastId:bk(e)}}function Cu(r){return(e,t)=>Oa(e,sc(r,t))}function Ne(r,e){return Oa(r,sc("default",e))}Ne.loading=(r,e)=>Oa(r,sc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ne.promise=function(r,e,t){let s,{pending:o,error:l,success:h}=e;o&&(s=is(o)?Ne.loading(o,t):Ne.loading(o.render,{...t,...o}));const f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(w,x,P)=>{if(x==null)return void Ne.dismiss(s);const j={type:w,...f,...t,data:P},z=is(x)?{render:x}:x;return s?Ne.update(s,{...j,...z}):Ne(z.render,{...j,...z}),P},_=fn(r)?r():r;return _.then(w=>g("success",h,w)).catch(w=>g("error",l,w)),_},Ne.success=Cu("success"),Ne.info=Cu("info"),Ne.error=Cu("error"),Ne.warning=Cu("warning"),Ne.warn=Ne.warning,Ne.dark=(r,e)=>Oa(r,sc("default",{theme:"dark",...e})),Ne.dismiss=function(r){(function(e){var t;if(Qv()){if(e==null||is(t=e)||Ka(t))Kt.forEach(s=>{s.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const s=Kt.get(e.containerId);s?s.removeToast(e.id):Kt.forEach(o=>{o.removeToast(e.id)})}}else Ga=Ga.filter(s=>e!=null&&s.options.toastId!==e)})(r)},Ne.clearWaitingQueue=function(r){r===void 0&&(r={}),Kt.forEach(e=>{!e.props.limit||r.containerId&&e.id!==r.containerId||e.clearQueue()})},Ne.isActive=Yv,Ne.update=function(r,e){e===void 0&&(e={});const t=((s,o)=>{var l;let{containerId:h}=o;return(l=Kt.get(h||1))==null?void 0:l.toasts.get(s)})(r,e);if(t){const{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||r,updateId:Jv()};l.toastId!==r&&(l.staleId=r);const h=l.render||o;delete l.render,Oa(h,l)}},Ne.done=r=>{Ne.update(r,{progress:1})},Ne.onChange=function(r){return Wd.add(r),()=>{Wd.delete(r)}},Ne.play=r=>ky(!0,r),Ne.pause=r=>ky(!1,r);const Dk=typeof window<"u"?me.useLayoutEffect:me.useEffect,Nu=r=>{let{theme:e,type:t,isLoading:s,...o}=r;return We.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o})},gd={info:function(r){return We.createElement(Nu,{...r},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(r){return We.createElement(Nu,{...r},We.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(r){return We.createElement(Nu,{...r},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(r){return We.createElement(Nu,{...r},We.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return We.createElement("div",{className:"Toastify__spinner"})}},Vk=r=>{const{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=Rk(r),{closeButton:h,children:f,autoClose:g,onClick:_,type:w,hideProgressBar:x,closeToast:P,transition:j,position:z,className:q,style:B,bodyClassName:te,bodyStyle:ie,progressClassName:ee,progressStyle:oe,updateId:Ce,role:Ee,progress:N,rtl:T,toastId:S,deleteToast:R,isIn:b,isLoading:V,closeOnClick:k,theme:ze}=r,J=fi("Toastify__toast",`Toastify__toast-theme--${ze}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":k}),Te=fn(q)?q({rtl:T,position:z,type:w,defaultClassName:J}):fi(J,q),ye=(function(O){let{theme:H,type:ae,isLoading:we,icon:Ie}=O,Re=null;const De={theme:H,type:ae};return Ie===!1||(fn(Ie)?Re=Ie({...De,isLoading:we}):me.isValidElement(Ie)?Re=me.cloneElement(Ie,De):we?Re=gd.spinner():(je=>je in gd)(ae)&&(Re=gd[ae](De))),Re})(r),Y=!!N||!g,ce={closeToast:P,type:w,theme:ze};let ne=null;return h===!1||(ne=fn(h)?h(ce):me.isValidElement(h)?me.cloneElement(h,ce):(function(O){let{closeToast:H,theme:ae,ariaLabel:we="close"}=O;return We.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ae}`,type:"button",onClick:Ie=>{Ie.stopPropagation(),H(Ie)},"aria-label":we},We.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},We.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))})(ce)),We.createElement(j,{isIn:b,done:R,position:z,preventExitTransition:t,nodeRef:s,playToast:l},We.createElement("div",{id:S,onClick:_,"data-in":b,className:Te,...o,style:B,ref:s},We.createElement("div",{...b&&{role:Ee},className:fn(te)?te({type:w}):fi("Toastify__toast-body",te),style:ie},ye!=null&&We.createElement("div",{className:fi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},ye),We.createElement("div",null,f)),ne,We.createElement(Ck,{...Ce&&!Y?{key:`pb-${Ce}`}:{},rtl:T,theme:ze,delay:g,isRunning:e,isIn:b,closeToast:P,hide:x,type:w,style:oe,className:ee,controlledProgress:Y,progress:N||0})))},xc=function(r,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}},Ok=kc(xc("bounce",!0));kc(xc("slide",!0));kc(xc("zoom"));kc(xc("flip"));const Lk={position:"top-right",transition:Ok,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Mk(r){let e={...Lk,...r};const t=r.stacked,[s,o]=me.useState(!0),l=me.useRef(null),{getToastToRender:h,isToastActive:f,count:g}=Pk(e),{className:_,style:w,rtl:x,containerId:P}=e;function j(q){const B=fi("Toastify__toast-container",`Toastify__toast-container--${q}`,{"Toastify__toast-container--rtl":x});return fn(_)?_({position:q,rtl:x,defaultClassName:B}):fi(B,$u(_))}function z(){t&&(o(!0),Ne.play())}return Dk(()=>{if(t){var q;const B=l.current.querySelectorAll('[data-in="true"]'),te=12,ie=(q=e.position)==null?void 0:q.includes("top");let ee=0,oe=0;Array.from(B).reverse().forEach((Ce,Ee)=>{const N=Ce;N.classList.add("Toastify__toast--stacked"),Ee>0&&(N.dataset.collapsed=`${s}`),N.dataset.pos||(N.dataset.pos=ie?"top":"bot");const T=ee*(s?.2:1)+(s?0:te*Ee);N.style.setProperty("--y",`${ie?T:-1*T}px`),N.style.setProperty("--g",`${te}`),N.style.setProperty("--s",""+(1-(s?oe:0))),ee+=N.offsetHeight,oe+=.025})}},[s,g,t]),We.createElement("div",{ref:l,className:"Toastify",id:P,onMouseEnter:()=>{t&&(o(!1),Ne.pause())},onMouseLeave:z},h((q,B)=>{const te=B.length?{...w}:{...w,pointerEvents:"none"};return We.createElement("div",{className:j(q),style:te,key:`container-${q}`},B.map(ie=>{let{content:ee,props:oe}=ie;return We.createElement(Vk,{...oe,stacked:t,collapseAll:z,isIn:f(oe.toastId,oe.containerId),style:oe.style,key:`toast-${oe.key}`},ee)}))}))}function Fk(){const{t:r}=Ac(),[e,t]=me.useState(!0),[s,o]=me.useState(""),[l,h]=me.useState(""),[f,g]=me.useState(!1),_=async x=>{x.preventDefault(),g(!0);try{e?(await WT(rs,s,l),Ne.success(r("login_success"))):(await HT(rs,s,l),Ne.success(r("register_success")))}catch(P){console.error("Authentication error:",P);let j=r("op_failed");P.code==="auth/email-already-in-use"?j=r("email_in_use"):P.code==="auth/invalid-email"?j=r("invalid_email"):P.code==="auth/weak-password"?j=r("weak_password"):(P.code==="auth/user-not-found"||P.code==="auth/wrong-password"||P.code==="auth/invalid-credential")&&(j=r("auth_failed")),Ne.error(j)}finally{g(!1)}},w=async()=>{g(!0);const x=new Ar;try{await mI(rs,x),Ne.success(r("login_success"))}catch(P){console.error("Google sign in error:",P),Ne.error(r("google_failed"))}finally{g(!1)}};return I.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent px-4",children:I.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md border border-gray-100 animate-in fade-in zoom-in duration-500",children:[I.jsx("h1",{className:"text-3xl font-black text-center text-gray-900 mb-8 tracking-tighter uppercase",children:r("system_name")}),I.jsx("div",{className:"mb-8",children:I.jsxs("div",{className:"flex p-1 bg-gray-50 rounded-xl border border-gray-100",children:[I.jsx("button",{className:`flex-1 py-2.5 text-center text-sm font-black rounded-lg transition-all duration-300 ${e?"bg-white text-indigo-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,onClick:()=>t(!0),children:r("login")}),I.jsx("button",{className:`flex-1 py-2.5 text-center text-sm font-black rounded-lg transition-all duration-300 ${e?"text-gray-400 hover:text-gray-600":"bg-white text-indigo-600 shadow-sm"}`,onClick:()=>t(!1),children:r("register")})]})}),I.jsxs("form",{onSubmit:_,className:"space-y-5",children:[I.jsxs("div",{className:"space-y-1.5",children:[I.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Email"}),I.jsx("input",{type:"email",value:s,onChange:x=>o(x.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold",placeholder:"commander@alliance.com"})]}),I.jsxs("div",{className:"space-y-1.5",children:[I.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:r("password_label")}),I.jsx("input",{type:"password",value:l,onChange:x=>h(x.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold",placeholder:""})]}),I.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 text-white py-4 rounded-xl font-black uppercase tracking-widest text-xs hover:from-indigo-700 hover:to-blue-700 transition-all shadow-lg shadow-indigo-100 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transform active:scale-[0.98]",children:r(f?"processing":e?"login":"register")})]}),I.jsxs("div",{className:"relative my-8",children:[I.jsx("div",{className:"absolute inset-0 flex items-center",children:I.jsx("div",{className:"w-full border-t border-gray-100"})}),I.jsx("div",{className:"relative flex justify-center text-[10px] font-black uppercase tracking-[0.3em]",children:I.jsx("span",{className:"px-3 bg-white text-gray-300",children:r("or_text")})})]}),I.jsxs("button",{onClick:w,disabled:f,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-600 py-3.5 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm disabled:opacity-50",children:[I.jsxs("svg",{className:"w-5 h-5 translate-y-[-1px]",viewBox:"0 0 24 24",children:[I.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),I.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),I.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),I.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"})]}),r("google_login")]})]})})}var jk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uk=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xe=(r,e)=>{const t=me.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:h,className:f="",children:g,..._},w)=>me.createElement("svg",{ref:w,...jk,width:o,height:o,stroke:s,strokeWidth:h?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Uk(r)}`,f].join(" "),..._},[...e.map(([x,P])=>me.createElement(x,P)),...Array.isArray(g)?g:[g]]));return t.displayName=`${r}`,t};const zk=Xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Bk=Xe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const $k=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const qk=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Hk=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Wk=Xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Kk=Xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Gk=Xe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const xy=Xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Qk=Xe("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);const Yk=Xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Xk=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Py=Xe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const bu=Xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Zv=Xe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Ry=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Jk=Xe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Kd=Xe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const yd=Xe("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);const e0=Xe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const Zk=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const _d=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const ex=Xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const t0=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const n0=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const tx=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Du=r=>r==null||r===""?"0":Number(r).toLocaleString("en-US",{maximumFractionDigits:2}),nx=r=>r?new Date(r).toLocaleString("zh-TW"):"",rx=({user:r})=>{const{t:e}=Ac(),[t,s]=me.useState({gameId:"",alliance:"",team1Power:"",team2Power:"",team3Power:""}),[o,l]=me.useState({}),[h,f]=me.useState(!1),[g,_]=me.useState(null);me.useEffect(()=>{const z=localStorage.getItem("game_power_last_entry"),q=localStorage.getItem("game_power_last_time");z&&s(JSON.parse(z)),q&&_(q)},[]);const w=z=>{const{name:q,value:B}=z.target;s(te=>({...te,[q]:B})),o[q]&&l(te=>({...te,[q]:""}))},x=z=>{const q={};return z.gameId?.trim()||(q.gameId=e("id_required")),z.alliance?.trim()||(q.alliance=e("alliance_required")),{valid:Object.keys(q).length===0,errors:q}},P=async z=>{z.preventDefault();const q=x(t);if(!q.valid){l(q.errors);return}f(!0);try{const B={gameId:t.gameId,alliance:t.alliance,team1Power:Number(t.team1Power||0),team2Power:Number(t.team2Power||0),team3Power:Number(t.team3Power||0)},te=await Ek(r.uid,B);if(te.success){const ie=new Date().toISOString();Ne.success(e("save_success")),_(ie),localStorage.setItem("game_power_last_entry",JSON.stringify(t)),localStorage.setItem("game_power_last_time",ie)}else Ne.error(e("save_failed")+te.error),l({submit:e("save_failed")+te.error})}catch(B){Ne.error(e("error_occurred")+B.message),l({submit:e("error_occurred")+B.message})}finally{f(!1)}},j=Number(t.team1Power||0)+Number(t.team2Power||0)+Number(t.team3Power||0);return I.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[I.jsxs("div",{className:"text-center space-y-2",children:[I.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight flex items-center justify-center gap-2",children:[I.jsx(ex,{className:"text-yellow-500"})," ",e("form_title")]}),I.jsx("p",{className:"text-gray-500",children:e("form_desc")})]}),I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[I.jsx("form",{onSubmit:P,className:"lg:col-span-3 space-y-6",children:I.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100 p-8 space-y-6",children:[o.submit&&I.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm rounded-r-lg animate-pulse",children:o.submit}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[I.jsx(t0,{size:16,className:"text-blue-500"})," ",e("game_id")," *"]}),I.jsx("input",{type:"text",name:"gameId",value:t.gameId,onChange:w,className:`w-full px-4 py-3 rounded-xl border transition-all duration-200 outline-none focus:ring-2 ${o.gameId?"border-red-300 ring-red-100 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-100 hover:border-gray-300"}`,placeholder:e("game_id_placeholder")}),o.gameId&&I.jsx("p",{className:"text-xs text-red-500 mt-1",children:o.gameId})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[I.jsx(n0,{size:16,className:"text-green-500"})," ",e("alliance")," *"]}),I.jsx("input",{type:"text",name:"alliance",value:t.alliance,onChange:w,className:`w-full px-4 py-3 rounded-xl border transition-all duration-200 outline-none focus:ring-2 ${o.alliance?"border-red-300 ring-red-100 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-100 hover:border-gray-300"}`,placeholder:e("alliance_placeholder")}),o.alliance&&I.jsx("p",{className:"text-xs text-red-500 mt-1",children:o.alliance})]})]}),I.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),I.jsxs("div",{className:"space-y-5",children:[I.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-bold mb-2 text-sm uppercase tracking-wide",children:[I.jsx(e0,{className:"text-red-500",size:18})," ",e("combat_details")]}),I.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{name:"team1Power",label:e("team1"),color:"blue"},{name:"team2Power",label:e("team2"),color:"indigo"},{name:"team3Power",label:e("team3"),color:"purple"}].map(z=>I.jsxs("div",{className:"relative group",children:[I.jsx("div",{className:"flex justify-between items-center mb-1",children:I.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1",children:[I.jsx(Kd,{size:12})," ",z.label]})}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"number",step:"any",name:z.name,value:t[z.name],onChange:w,className:"w-full px-4 py-3 pl-10 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all hover:border-gray-300 font-mono text-lg",placeholder:"0"}),I.jsxs("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold italic group-hover:text-indigo-400 transition-colors",children:["S",z.name.charAt(4)]})]})]},z.name))})]}),I.jsx("button",{type:"submit",disabled:h,className:"w-full py-4 mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all duration-300 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transform active:scale-[0.98] flex items-center justify-center gap-2",children:h?I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e("saving")]}):I.jsxs(I.Fragment,{children:[I.jsx(Zv,{size:18})," ",e("save_data")]})})]})}),I.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[I.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-blue-700 rounded-2xl p-6 text-white shadow-xl shadow-indigo-100 flex flex-col justify-between h-[180px] relative overflow-hidden",children:[I.jsxs("div",{className:"relative z-10",children:[I.jsx("p",{className:"text-indigo-100 text-[10px] font-black uppercase tracking-widest opacity-80",children:e("current_total")}),I.jsx("h3",{className:"text-4xl font-black mt-2 tracking-tighter tabular-nums leading-none",children:Du(j)})]}),I.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-[10px] text-indigo-100/60 uppercase font-bold tracking-wider",children:e("game_id")}),I.jsx("p",{className:"font-bold truncate max-w-[120px] text-sm tabular-nums",children:t.gameId||"---"})]}),I.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-lg p-2.5 flex items-center gap-2 border border-white/20",children:[I.jsx(xy,{size:14}),I.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest leading-none",children:"STATUS OK"})]})]}),I.jsx("div",{className:"absolute -right-4 -top-4 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),I.jsx("div",{className:"absolute -left-4 -bottom-4 w-24 h-24 bg-indigo-400/20 rounded-full blur-xl"})]}),I.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100 p-6 space-y-4",children:[I.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-3",children:[I.jsxs("h4",{className:"font-black text-gray-800 flex items-center gap-2 text-[10px] uppercase tracking-widest",children:[I.jsx(xy,{size:14,className:"text-gray-400"})," ",e("data_preview")]}),g&&I.jsxs("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-tighter",children:[e("last_updated")," ",nx(g).split(" ")[1]]})]}),I.jsx("div",{className:"space-y-4",children:[{label:e("game_id"),value:t.gameId},{label:e("alliance"),value:t.alliance},{label:e("team1"),value:Du(t.team1Power),emphasize:!0},{label:e("team2"),value:Du(t.team2Power),emphasize:!0},{label:e("team3"),value:Du(t.team3Power),emphasize:!0}].map((z,q)=>I.jsxs("div",{className:"flex justify-between items-center text-xs group",children:[I.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-wider group-hover:text-gray-600 transition-colors",children:z.label}),I.jsx("span",{className:`font-black ${z.emphasize?"text-gray-700 font-mono text-sm":"text-gray-800"}`,children:z.value||(q<2?"---":"0")})]},q))}),I.jsx("div",{className:"pt-4 mt-2 border-t border-dashed border-gray-200",children:I.jsxs("div",{className:"flex items-center gap-2 text-blue-600 font-bold text-[10px] p-3 bg-blue-50/50 rounded-xl border border-blue-100/50 uppercase tracking-tight",children:[I.jsx(Kd,{size:14}),I.jsx("span",{children:e("sync_notice")})]})})]})]})]})]})},ix=async()=>{try{const r=QA(ll,"users"),e=lk(r,uk("updatedAt","desc")),t=await mk(e),s=[];return t.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(r){throw console.error(":",r),new Error(r.message||"")}},sx=async r=>{try{return await _k(Ec(ll,"users",r)),{success:!0}}catch(e){throw console.error(":",e),new Error("")}},ox=async(r,e)=>{try{const t=Ec(ll,"users",r);return await yk(t,{...e,updatedAt:qd()}),{success:!0}}catch(t){throw console.error(":",t),new Error(""+t.message)}},ax=r=>{if(!r||r.length===0)return{totalUsers:0,averageTeam1Power:0,averageTeam2Power:0,averageTeam3Power:0,averageTotalPower:0,maxTotalPower:0,minTotalPower:0};const e=r.map(f=>{const g=Number(f.team1Power)||0,_=Number(f.team2Power)||0,w=Number(f.team3Power)||0;return{team1:g,team2:_,team3:w,total:g+_+w}}),t=e.reduce((f,g)=>f+g.team1,0),s=e.reduce((f,g)=>f+g.team2,0),o=e.reduce((f,g)=>f+g.team3,0),l=e.reduce((f,g)=>f+g.total,0),h=e.map(f=>f.total);return{totalUsers:r.length,averageTeam1Power:Math.round(t/r.length),averageTeam2Power:Math.round(s/r.length),averageTeam3Power:Math.round(o/r.length),averageTotalPower:Math.round(l/r.length),maxTotalPower:Math.max(...h),minTotalPower:Math.min(...h)}},lx=r=>r==null||r===""?"0":Number(r).toLocaleString("en-US",{maximumFractionDigits:2}),Cy=r=>{if(!r)return"";const e=r.toDate?r.toDate():new Date(r),t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),h=String(e.getMinutes()).padStart(2,"0");return`${t}-${s}-${o} ${l}:${h}`},Ji=r=>lx(r),ux=()=>{const{t:r}=Ac(),[e,t]=me.useState([]),[s,o]=me.useState(!0),[l,h]=me.useState(""),[f,g]=me.useState(null),[_,w]=me.useState(""),[x,P]=me.useState({key:"submittedAt",direction:"desc"}),[j,z]=me.useState(null),[q,B]=me.useState(!1),[te,ie]=me.useState({gameId:"",alliance:"",team1Power:"",team2Power:"",team3Power:""}),[ee,oe]=me.useState(!1);me.useEffect(()=>{Ce()},[]);const Ce=async()=>{o(!0),h("");try{const J=await ix();Array.isArray(J)&&(t(J),g(ax(J)))}catch(J){h(r("error_occurred")+J.message),Ne.error(r("error_occurred"))}finally{o(!1)}},Ee=J=>{let Te="desc";x.key===J&&x.direction==="desc"&&(Te="asc"),P({key:J,direction:Te})},N=async(J,Te)=>{if(window.confirm(r("delete_confirm").replace("{id}",Te)))try{const ye=await sx(J);ye.success?(Ne.success(r("delete_success")),Ce()):Ne.error(r("error_occurred")+ye.error)}catch(ye){Ne.error(r("error_occurred")+ye.message)}},T=J=>{z(J),ie({gameId:J.gameId||"",alliance:J.alliance||"",team1Power:J.team1Power||0,team2Power:J.team2Power||0,team3Power:J.team3Power||0}),B(!0)},S=J=>{const{name:Te,value:ye}=J.target;ie(Y=>({...Y,[Te]:ye}))},R=async J=>{if(J.preventDefault(),!!j){oe(!0);try{const Te={gameId:te.gameId,alliance:te.alliance,team1Power:Number(te.team1Power||0),team2Power:Number(te.team2Power||0),team3Power:Number(te.team3Power||0)};(await ox(j.id,Te)).success&&(Ne.success(r("update_success")),B(!1),z(null),Ce())}catch(Te){Ne.error(r("error_occurred")+Te.message)}finally{oe(!1)}}},b=e.filter(J=>J.gameId?.toLowerCase().includes(_.toLowerCase())||J.alliance?.toLowerCase().includes(_.toLowerCase())).sort((J,Te)=>{let ye,Y;return x.key==="totalPower"?(ye=(J.team1Power||0)+(J.team2Power||0)+(J.team3Power||0),Y=(Te.team1Power||0)+(Te.team2Power||0)+(Te.team3Power||0)):(ye=J[x.key],Y=Te[x.key]),ye<Y?x.direction==="asc"?-1:1:ye>Y?x.direction==="asc"?1:-1:0}),V={totalUsers:b.length,avgTeam1:b.length>0?Math.round(b.reduce((J,Te)=>J+(Te.team1Power||0),0)/b.length):0,avgTeam2:b.length>0?Math.round(b.reduce((J,Te)=>J+(Te.team2Power||0),0)/b.length):0,avgTeam3:b.length>0?Math.round(b.reduce((J,Te)=>J+(Te.team3Power||0),0)/b.length):0},k=()=>{const J=[r("member_id"),r("alliance_label"),r("team1"),r("team2"),r("team3"),r("total_eval"),r("update_record")],Te=b.map(ne=>[ne.gameId,ne.alliance,ne.team1Power,ne.team2Power,ne.team3Power,(ne.team1Power||0)+(ne.team2Power||0)+(ne.team3Power||0),Cy(ne.submittedAt)]),ye=[J.join(","),...Te.map(ne=>ne.join(","))].join(`
`),Y=new Blob(["\uFEFF"+ye],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a");ce.href=URL.createObjectURL(Y),ce.download=`_${new Date().toISOString().split("T")[0]}.csv`,ce.click(),Ne.info(r("preparing_export"))},ze=J=>x.key!==J?I.jsx(bu,{size:12,className:"opacity-20 translate-y-[2px]"}):x.direction==="asc"?I.jsx(Hk,{size:14,className:"text-blue-500"}):I.jsx($k,{size:14,className:"text-blue-500"});return s?I.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4 text-center animate-in fade-in transition-all duration-700",children:[I.jsx(bu,{className:"w-10 h-10 text-blue-500 animate-spin"}),I.jsx("p",{className:"text-gray-400 font-black tracking-widest uppercase text-[10px]",children:r("loading_data")})]}):I.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 relative",children:[q&&I.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[I.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>B(!1)}),I.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg relative z-10 overflow-hidden animate-in zoom-in duration-300 border border-gray-100",children:[I.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 p-6 text-white flex justify-between items-center",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md border border-white/20",children:I.jsx(Py,{size:20})}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-black text-lg tracking-tight",children:r("edit_record")}),I.jsx("p",{className:"text-xs text-indigo-100 font-bold opacity-80 uppercase tracking-widest",children:j?.gameId})]})]}),I.jsx("button",{onClick:()=>B(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:I.jsx(tx,{size:20})})]}),I.jsxs("form",{onSubmit:R,className:"p-8 space-y-6",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{className:"space-y-1.5",children:[I.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-1.5",children:[I.jsx(t0,{size:12,className:"text-blue-500"})," ",r("game_id")]}),I.jsx("input",{type:"text",name:"gameId",value:te.gameId,onChange:S,className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold"})]}),I.jsxs("div",{className:"space-y-1.5",children:[I.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-1.5",children:[I.jsx(Kd,{size:12,className:"text-green-500"})," ",r("alliance_label")]}),I.jsx("input",{type:"text",name:"alliance",value:te.alliance,onChange:S,className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold"})]})]}),I.jsx("div",{className:"h-px bg-gray-100 italic flex items-center justify-center",children:I.jsx("span",{className:"bg-white px-3 text-[9px] font-black text-gray-300 uppercase tracking-[0.3em]",children:r("combat_details")})}),I.jsx("div",{className:"space-y-4",children:[{name:"team1Power",label:r("s1_power")},{name:"team2Power",label:r("s2_power")},{name:"team3Power",label:r("s3_power")}].map(J=>I.jsxs("div",{className:"flex items-center gap-4 group",children:[I.jsx("label",{className:"w-24 text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-indigo-500 transition-colors",children:J.label}),I.jsxs("div",{className:"flex-grow relative",children:[I.jsx("input",{type:"number",name:J.name,value:te[J.name],onChange:S,className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 transition-all text-sm font-mono font-bold"}),I.jsx(e0,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-indigo-400 transition-colors"})]})]},J.name))}),I.jsxs("div",{className:"pt-6 flex gap-4",children:[I.jsx("button",{type:"button",onClick:()=>B(!1),className:"flex-1 py-3 px-6 rounded-xl border border-gray-200 text-gray-400 text-xs font-black uppercase tracking-widest hover:bg-gray-50 transition-all",children:r("cancel")}),I.jsxs("button",{type:"submit",disabled:ee,className:"flex-[2] py-3 px-6 bg-indigo-600 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 flex items-center justify-center gap-2 cursor-pointer disabled:opacity-50",children:[ee?I.jsx(bu,{size:14,className:"animate-spin"}):I.jsx(Zv,{size:14}),I.jsx("span",{children:r("confirm_save")})]})]})]})]})]}),I.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsxs("h2",{className:"text-2xl font-black text-gray-900 tracking-tight flex items-center gap-2 uppercase",children:[I.jsx(zk,{className:"text-indigo-600"})," ",r("admin_title")]}),I.jsx("p",{className:"text-sm text-gray-500",children:r("admin_desc")})]}),I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsxs("button",{onClick:Ce,className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm flex items-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[I.jsx(bu,{size:14})," ",I.jsx("span",{className:"hidden sm:inline",children:r("refresh")})]}),I.jsxs("button",{onClick:k,className:"p-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[I.jsx(Wk,{size:14})," ",r("export_csv")]})]})]}),f&&I.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:r("display_count"),value:b.length,icon:I.jsx(n0,{}),color:"blue"},{label:r("avg_s1"),value:Ji(V.avgTeam1),icon:I.jsx(_d,{}),color:"green"},{label:r("avg_s2"),value:Ji(V.avgTeam2),icon:I.jsx(_d,{}),color:"indigo"},{label:r("avg_s3"),value:Ji(V.avgTeam3),icon:I.jsx(_d,{}),color:"purple"}].map((J,Te)=>I.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4 group hover:shadow-md transition-shadow",children:[I.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-50 flex items-center justify-center group-hover:bg-indigo-50 transition-colors",children:I.jsx("div",{className:"text-indigo-600 group-hover:scale-110 transition-transform",children:J.icon})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:J.label}),I.jsx("p",{className:"text-xl font-black text-gray-800 tracking-tighter tabular-nums leading-none mt-1",children:J.value})]})]},Te))}),I.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-xl shadow-gray-200/40 relative overflow-hidden",children:[I.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/30 flex flex-col sm:flex-row gap-4",children:[I.jsxs("div",{className:"relative flex-grow",children:[I.jsx(Ry,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),I.jsx("input",{type:"text",placeholder:r("search_placeholder"),value:_,onChange:J=>w(J.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 outline-none transition-all text-xs font-bold"})]}),I.jsxs("button",{className:"px-4 py-2.5 bg-white border border-gray-200 text-gray-400 rounded-xl hover:bg-gray-50 transition-all text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[I.jsx(Kk,{size:14})," ",r("filter_options")]})]}),I.jsx("div",{className:"overflow-x-auto",children:I.jsxs("table",{className:"w-full text-left border-collapse",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-gray-50/50",children:[[{key:"gameId",label:r("member_id")},{key:"alliance",label:r("alliance_label")},{key:"team1Power",label:r("s1_power")},{key:"team2Power",label:r("s2_power")},{key:"team3Power",label:r("s3_power")},{key:"totalPower",label:r("total_eval"),focus:!0},{key:"submittedAt",label:r("update_record")}].map(J=>I.jsx("th",{onClick:()=>Ee(J.key),className:`px-6 py-4 text-[10px] font-black uppercase tracking-widest cursor-pointer hover:bg-gray-100/50 transition-colors select-none ${J.focus?"text-indigo-600 bg-indigo-50/10":"text-gray-400"}`,children:I.jsxs("div",{className:"flex items-center justify-between gap-1",children:[J.label,ze(J.key)]})},J.key)),I.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:r("actions")})]})}),I.jsx("tbody",{className:"divide-y divide-gray-100",children:b.length===0?I.jsx("tr",{children:I.jsx("td",{colSpan:"8",className:"px-6 py-20 text-center",children:I.jsxs("div",{className:"flex flex-col items-center space-y-4 opacity-20",children:[I.jsx(Ry,{size:48}),I.jsx("p",{className:"font-bold uppercase text-xs tracking-widest",children:r(_?"no_results":"no_data")})]})})}):b.map(J=>{const Te=(J.team1Power||0)+(J.team2Power||0)+(J.team3Power||0);return I.jsxs("tr",{className:"group hover:bg-indigo-50/20 transition-colors",children:[I.jsx("td",{className:"px-6 py-5",children:I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-[10px] font-black text-gray-500 border border-gray-200",children:J.gameId?.substring(0,2).toUpperCase()}),I.jsx("span",{className:"font-bold text-gray-800 tracking-tight",children:J.gameId})]})}),I.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500 uppercase tracking-tighter",children:J.alliance}),I.jsx("td",{className:"px-6 py-5 font-mono text-sm text-gray-400 tabular-nums",children:Ji(J.team1Power)}),I.jsx("td",{className:"px-6 py-5 font-mono text-sm text-gray-400 tabular-nums",children:Ji(J.team2Power)}),I.jsx("td",{className:"px-6 py-5 font-mono text-sm text-gray-400 tabular-nums",children:Ji(J.team3Power)}),I.jsx("td",{className:"px-6 py-5",children:I.jsx("span",{className:"font-black text-indigo-600 font-mono text-base tabular-nums tracking-tighter",children:Ji(Te)})}),I.jsx("td",{className:"px-6 py-5",children:I.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-[10px] font-bold uppercase tabular-nums",children:[I.jsx(Bk,{size:12}),Cy(J.submittedAt).split(" ")[0]]})}),I.jsx("td",{className:"px-6 py-5 text-center",children:I.jsxs("div",{className:"flex items-center justify-center gap-2",children:[I.jsx("button",{onClick:()=>T(J),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:r("edit"),children:I.jsx(Py,{size:16})}),I.jsx("button",{onClick:()=>N(J.id,J.gameId),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:r("delete"),children:I.jsx(Zk,{size:16})})]})})]},J.id)})})]})}),I.jsxs("div",{className:"p-4 bg-gray-50/50 border-t border-gray-100 text-[9px] font-black text-gray-300 uppercase tracking-[0.2em] flex justify-between items-center",children:[I.jsx("span",{children:r("intel_v2")}),I.jsxs("span",{className:"bg-white px-2 py-0.5 rounded border border-gray-200 text-gray-400",children:[r("data_count"),": ",b.length]})]})]})]})};function cx(){const[r,e]=me.useState("form"),[t,s]=me.useState(!1),{user:o,isAdmin:l,loading:h}=Ik(),{lang:f,t:g,toggleLang:_}=Ac();me.useEffect(()=>{const j=localStorage.getItem("isLoginMode")==="true";!h&&!o&&!t&&!j&&zT(rs).catch(z=>{console.error(":",z)}),!o&&j&&s(!0)},[o,h,t]),me.useEffect(()=>{o&&(localStorage.removeItem("isLoginMode"),s(!1))},[o]);const w=async()=>{try{localStorage.removeItem("isLoginMode"),s(!1),await Rg(rs)}catch(j){console.error(":",j)}},x=async()=>{localStorage.setItem("isLoginMode","true"),s(!0),await Rg(rs)},P=()=>{localStorage.removeItem("isLoginMode"),s(!1)};return h?I.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 space-y-4",children:[I.jsx(Yk,{className:"w-10 h-10 text-blue-600 animate-spin"}),I.jsx("p",{className:"text-gray-500 font-medium animate-pulse",children:g("loading_system")})]}):t&&!o?I.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-blue-100 via-white to-indigo-100 flex flex-col items-center justify-center p-4",children:I.jsxs("div",{className:"w-full max-w-md animate-in fade-in zoom-in duration-500",children:[I.jsx(Fk,{}),I.jsx("button",{onClick:P,className:"w-full mt-6 py-3 text-gray-400 hover:text-gray-600 text-sm font-bold flex items-center justify-center gap-2 transition-colors border border-transparent hover:border-gray-200 rounded-xl",children:g("back_to_guest")})]})}):o?I.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex flex-col font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[I.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-gray-100 shadow-sm",children:I.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-18 flex justify-between items-center",children:[I.jsxs("div",{className:"flex items-center gap-3 group cursor-default",children:[I.jsx("div",{className:"w-10 h-10 bg-gradient-to-tr from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200 group-hover:rotate-12 transition-transform duration-300",children:I.jsx(yd,{className:"text-white w-6 h-6"})}),I.jsxs("div",{children:[I.jsx("h1",{className:"text-lg font-black text-gray-900 tracking-tight leading-none",children:g("title")}),I.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-[0.2em] mt-1 opacity-80",children:g("subtitle")})]})]}),I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-3 py-1.5 rounded-full border border-gray-100 bg-gray-50 text-xs font-bold text-gray-600 hover:bg-gray-100 transition-all",children:[I.jsx(Gk,{size:14,className:"text-blue-500"}),f==="zh"?"English":""]}),I.jsxs("div",{className:"hidden md:flex items-center gap-4 py-1.5 px-3 bg-gray-50 rounded-full border border-gray-100",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:`w-2 h-2 rounded-full ${o.isAnonymous?"bg-orange-400 animate-pulse":"bg-green-500"}`}),I.jsx("span",{className:"text-xs font-bold text-gray-600 tracking-wide",children:o.isAnonymous?g("guest_mode"):o.email?.split("@")[0]})]}),l&&I.jsx("span",{className:"bg-indigo-600 text-[10px] text-white px-2 py-0.5 rounded-full font-black uppercase tracking-wider shadow-sm",children:g("admin_tag")})]}),!o.isAnonymous&&I.jsx("button",{onClick:w,className:"group flex items-center gap-2 text-gray-400 hover:text-red-500 transition-colors p-2 rounded-lg hover:bg-red-50",title:g("logout"),children:I.jsx(Xk,{size:20,className:"group-hover:-translate-x-0.5 transition-transform"})})]})]})}),I.jsx("main",{className:"flex-grow",children:I.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12",children:[l&&I.jsxs("div",{className:"inline-flex p-1 bg-white border border-gray-200 rounded-2xl mb-10 shadow-sm",children:[I.jsxs("button",{onClick:()=>e("form"),className:`flex items-center gap-2 py-2.5 px-6 rounded-xl text-sm font-bold transition-all duration-300 ${r==="form"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[I.jsx(Qk,{size:18})," ",g("personal_entry")]}),I.jsxs("button",{onClick:()=>e("admin"),className:`flex items-center gap-2 py-2.5 px-6 rounded-xl text-sm font-bold transition-all duration-300 ${r==="admin"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[I.jsx(Jk,{size:18})," ",g("all_management")]})]}),I.jsx("div",{className:"relative",children:r==="admin"&&l?I.jsx(ux,{}):I.jsx(rx,{user:o})})]})}),I.jsx("footer",{className:"bg-white border-t border-gray-100 py-12 px-4",children:I.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[I.jsxs("div",{className:"flex flex-col items-center md:items-start gap-2",children:[I.jsxs("div",{className:"flex items-center gap-2 opacity-30 grayscale",children:[I.jsx(yd,{size:20}),I.jsx("span",{className:"font-black text-lg tracking-tighter uppercase whitespace-nowrap",children:g("title")})]}),I.jsx("p",{className:"text-gray-400 text-xs font-medium",children:g("footer_text")})]}),I.jsxs("div",{className:"flex items-center gap-8",children:[I.jsxs("div",{className:"text-[10px] font-black text-gray-300 uppercase tracking-[0.3em] hidden sm:block",children:["Intel Status: ",I.jsx("span",{className:"text-green-500",children:g("status_operational")})]}),o.isAnonymous&&I.jsxs("button",{onClick:x,className:"group flex items-center gap-2 py-2 px-4 rounded-full border border-gray-200 text-[11px] font-black text-gray-500 hover:bg-gray-900 hover:text-white hover:border-gray-900 transition-all shadow-sm",children:[g("admin_login_gate")," ",I.jsx(qk,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]})]})]})}),I.jsx(Mk,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1,theme:"light"})]}):I.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 space-y-4",children:[I.jsx(yd,{className:"w-12 h-12 text-blue-600 animate-bounce"}),I.jsx("div",{className:"text-gray-600 font-black tracking-widest uppercase text-xs",children:g("preparing_env")})]})}mw.createRoot(document.getElementById("root")).render(I.jsx(We.StrictMode,{children:I.jsx(Ak,{children:I.jsx(cx,{})})}));
