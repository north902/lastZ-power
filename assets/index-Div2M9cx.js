(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Oy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sd={exports:{}},Sa={},od={exports:{}},Ce={};var eg;function dw(){if(eg)return Ce;eg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function P(b){return b===null||typeof b!="object"?null:(b=A&&b[A]||b["@@iterator"],typeof b=="function"?b:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function $(b,W,se){this.props=b,this.context=W,this.refs=H,this.updater=se||F}$.prototype.isReactComponent={},$.prototype.setState=function(b,W){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,W,"setState")},$.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ie(){}ie.prototype=$.prototype;function ne(b,W,se){this.props=b,this.context=W,this.refs=H,this.updater=se||F}var te=ne.prototype=new ie;te.constructor=ne,B(te,$.prototype),te.isPureReactComponent=!0;var ae=Array.isArray,Ae=Object.prototype.hasOwnProperty,ge={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(b,W,se){var he,we={},ke=null,Ne=null;if(W!=null)for(he in W.ref!==void 0&&(Ne=W.ref),W.key!==void 0&&(ke=""+W.key),W)Ae.call(W,he)&&!C.hasOwnProperty(he)&&(we[he]=W[he]);var Fe=arguments.length-2;if(Fe===1)we.children=se;else if(1<Fe){for(var Ge=Array(Fe),wt=0;wt<Fe;wt++)Ge[wt]=arguments[wt+2];we.children=Ge}if(b&&b.defaultProps)for(he in Fe=b.defaultProps,Fe)we[he]===void 0&&(we[he]=Fe[he]);return{$$typeof:r,type:b,key:ke,ref:Ne,props:we,_owner:ge.current}}function S(b,W){return{$$typeof:r,type:b.type,key:W,ref:b.ref,props:b.props,_owner:b._owner}}function R(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function D(b){var W={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(se){return W[se]})}var O=/\/+/g;function k(b,W){return typeof b=="object"&&b!==null&&b.key!=null?D(""+b.key):W.toString(36)}function Le(b,W,se,he,we){var ke=typeof b;(ke==="undefined"||ke==="boolean")&&(b=null);var Ne=!1;if(b===null)Ne=!0;else switch(ke){case"string":case"number":Ne=!0;break;case"object":switch(b.$$typeof){case r:case e:Ne=!0}}if(Ne)return Ne=b,we=we(Ne),b=he===""?"."+k(Ne,0):he,ae(we)?(se="",b!=null&&(se=b.replace(O,"$&/")+"/"),Le(we,W,se,"",function(wt){return wt})):we!=null&&(R(we)&&(we=S(we,se+(!we.key||Ne&&Ne.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+b)),W.push(we)),1;if(Ne=0,he=he===""?".":he+":",ae(b))for(var Fe=0;Fe<b.length;Fe++){ke=b[Fe];var Ge=he+k(ke,Fe);Ne+=Le(ke,W,se,Ge,we)}else if(Ge=P(b),typeof Ge=="function")for(b=Ge.call(b),Fe=0;!(ke=b.next()).done;)ke=ke.value,Ge=he+k(ke,Fe++),Ne+=Le(ke,W,se,Ge,we);else if(ke==="object")throw W=String(b),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ne}function Xe(b,W,se){if(b==null)return b;var he=[],we=0;return Le(b,he,"","",function(ke){return W.call(se,ke,we++)}),he}function be(b){if(b._status===-1){var W=b._result;W=W(),W.then(function(se){(b._status===0||b._status===-1)&&(b._status=1,b._result=se)},function(se){(b._status===0||b._status===-1)&&(b._status=2,b._result=se)}),b._status===-1&&(b._status=0,b._result=W)}if(b._status===1)return b._result.default;throw b._result}var Pe={current:null},Z={transition:null},U={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:ge};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Xe,forEach:function(b,W,se){Xe(b,function(){W.apply(this,arguments)},se)},count:function(b){var W=0;return Xe(b,function(){W++}),W},toArray:function(b){return Xe(b,function(W){return W})||[]},only:function(b){if(!R(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ce.Component=$,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=g,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ce.act=K,Ce.cloneElement=function(b,W,se){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var he=B({},b.props),we=b.key,ke=b.ref,Ne=b._owner;if(W!=null){if(W.ref!==void 0&&(ke=W.ref,Ne=ge.current),W.key!==void 0&&(we=""+W.key),b.type&&b.type.defaultProps)var Fe=b.type.defaultProps;for(Ge in W)Ae.call(W,Ge)&&!C.hasOwnProperty(Ge)&&(he[Ge]=W[Ge]===void 0&&Fe!==void 0?Fe[Ge]:W[Ge])}var Ge=arguments.length-2;if(Ge===1)he.children=se;else if(1<Ge){Fe=Array(Ge);for(var wt=0;wt<Ge;wt++)Fe[wt]=arguments[wt+2];he.children=Fe}return{$$typeof:r,type:b.type,key:we,ref:ke,props:he,_owner:Ne}},Ce.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Ce.createElement=I,Ce.createFactory=function(b){var W=I.bind(null,b);return W.type=b,W},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(b){return{$$typeof:f,render:b}},Ce.isValidElement=R,Ce.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:be}},Ce.memo=function(b,W){return{$$typeof:_,type:b,compare:W===void 0?null:W}},Ce.startTransition=function(b){var W=Z.transition;Z.transition={};try{b()}finally{Z.transition=W}},Ce.unstable_act=K,Ce.useCallback=function(b,W){return Pe.current.useCallback(b,W)},Ce.useContext=function(b){return Pe.current.useContext(b)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(b){return Pe.current.useDeferredValue(b)},Ce.useEffect=function(b,W){return Pe.current.useEffect(b,W)},Ce.useId=function(){return Pe.current.useId()},Ce.useImperativeHandle=function(b,W,se){return Pe.current.useImperativeHandle(b,W,se)},Ce.useInsertionEffect=function(b,W){return Pe.current.useInsertionEffect(b,W)},Ce.useLayoutEffect=function(b,W){return Pe.current.useLayoutEffect(b,W)},Ce.useMemo=function(b,W){return Pe.current.useMemo(b,W)},Ce.useReducer=function(b,W,se){return Pe.current.useReducer(b,W,se)},Ce.useRef=function(b){return Pe.current.useRef(b)},Ce.useState=function(b){return Pe.current.useState(b)},Ce.useSyncExternalStore=function(b,W,se){return Pe.current.useSyncExternalStore(b,W,se)},Ce.useTransition=function(){return Pe.current.useTransition()},Ce.version="18.3.1",Ce}var tg;function Yd(){return tg||(tg=1,od.exports=dw()),od.exports}var ng;function fw(){if(ng)return Sa;ng=1;var r=Yd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,_){var w,A={},P=null,F=null;_!==void 0&&(P=""+_),g.key!==void 0&&(P=""+g.key),g.ref!==void 0&&(F=g.ref);for(w in g)s.call(g,w)&&!l.hasOwnProperty(w)&&(A[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)A[w]===void 0&&(A[w]=g[w]);return{$$typeof:e,type:f,key:P,ref:F,props:A,_owner:o.current}}return Sa.Fragment=t,Sa.jsx=h,Sa.jsxs=h,Sa}var rg;function pw(){return rg||(rg=1,sd.exports=fw()),sd.exports}var T=pw(),pe=Yd();const He=Oy(pe);var xu={},ad={exports:{}},nn={},ld={exports:{}},ud={};var ig;function mw(){return ig||(ig=1,(function(r){function e(Z,U){var K=Z.length;Z.push(U);e:for(;0<K;){var b=K-1>>>1,W=Z[b];if(0<o(W,U))Z[b]=U,Z[K]=W,K=b;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var U=Z[0],K=Z.pop();if(K!==U){Z[0]=K;e:for(var b=0,W=Z.length,se=W>>>1;b<se;){var he=2*(b+1)-1,we=Z[he],ke=he+1,Ne=Z[ke];if(0>o(we,K))ke<W&&0>o(Ne,we)?(Z[b]=Ne,Z[ke]=K,b=ke):(Z[b]=we,Z[he]=K,b=he);else if(ke<W&&0>o(Ne,K))Z[b]=Ne,Z[ke]=K,b=ke;else break e}}return U}function o(Z,U){var K=Z.sortIndex-U.sortIndex;return K!==0?K:Z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],_=[],w=1,A=null,P=3,F=!1,B=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(Z){for(var U=t(_);U!==null;){if(U.callback===null)s(_);else if(U.startTime<=Z)s(_),U.sortIndex=U.expirationTime,e(g,U);else break;U=t(_)}}function ae(Z){if(H=!1,te(Z),!B)if(t(g)!==null)B=!0,be(Ae);else{var U=t(_);U!==null&&Pe(ae,U.startTime-Z)}}function Ae(Z,U){B=!1,H&&(H=!1,ie(I),I=-1),F=!0;var K=P;try{for(te(U),A=t(g);A!==null&&(!(A.expirationTime>U)||Z&&!D());){var b=A.callback;if(typeof b=="function"){A.callback=null,P=A.priorityLevel;var W=b(A.expirationTime<=U);U=r.unstable_now(),typeof W=="function"?A.callback=W:A===t(g)&&s(g),te(U)}else s(g);A=t(g)}if(A!==null)var se=!0;else{var he=t(_);he!==null&&Pe(ae,he.startTime-U),se=!1}return se}finally{A=null,P=K,F=!1}}var ge=!1,C=null,I=-1,S=5,R=-1;function D(){return!(r.unstable_now()-R<S)}function O(){if(C!==null){var Z=r.unstable_now();R=Z;var U=!0;try{U=C(!0,Z)}finally{U?k():(ge=!1,C=null)}}else ge=!1}var k;if(typeof ne=="function")k=function(){ne(O)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Xe=Le.port2;Le.port1.onmessage=O,k=function(){Xe.postMessage(null)}}else k=function(){$(O,0)};function be(Z){C=Z,ge||(ge=!0,k())}function Pe(Z,U){I=$(function(){Z(r.unstable_now())},U)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){B||F||(B=!0,be(Ae))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return P},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(Z){switch(P){case 1:case 2:case 3:var U=3;break;default:U=P}var K=P;P=U;try{return Z()}finally{P=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,U){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var K=P;P=Z;try{return U()}finally{P=K}},r.unstable_scheduleCallback=function(Z,U,K){var b=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?b+K:b):K=b,Z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,Z={id:w++,callback:U,priorityLevel:Z,startTime:K,expirationTime:W,sortIndex:-1},K>b?(Z.sortIndex=K,e(_,Z),t(g)===null&&Z===t(_)&&(H?(ie(I),I=-1):H=!0,Pe(ae,K-b))):(Z.sortIndex=W,e(g,Z),B||F||(B=!0,be(Ae))),Z},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(Z){var U=P;return function(){var K=P;P=U;try{return Z.apply(this,arguments)}finally{P=K}}}})(ud)),ud}var sg;function gw(){return sg||(sg=1,ld.exports=mw()),ld.exports}var og;function yw(){if(og)return nn;og=1;var r=Yd(),e=gw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},A={};function P(n){return g.call(A,n)?!0:g.call(w,n)?!1:_.test(n)?A[n]=!0:(w[n]=!0,!1)}function F(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function B(n,i,a,c){if(i===null||typeof i>"u"||F(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function H(n,i,a,c,d,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];$[i]=new H(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){$[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){$[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){$[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){$[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){$[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var ie=/[\-:]([a-z])/g;function ne(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(ie,ne);$[i]=new H(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(ie,ne);$[i]=new H(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(ie,ne);$[i]=new H(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){$[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),$.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){$[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function te(n,i,a,c){var d=$.hasOwnProperty(i)?$[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(B(i,a,d,c)&&(a=null),c||d===null?P(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ae=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),ge=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var K=Object.assign,b;function W(n){if(b===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);b=i&&i[1]||""}return`
`+b+n}var se=!1;function he(n,i){if(!n||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){c=z}n.call(i.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,x=m.length-1;1<=v&&0<=x&&d[v]!==m[x];)x--;for(;1<=v&&0<=x;v--,x--)if(d[v]!==m[x]){if(v!==1||x!==1)do if(v--,x--,0>x||d[v]!==m[x]){var N=`
`+d[v].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=v&&0<=x);break}}}finally{se=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function we(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=he(n.type,!1),n;case 11:return n=he(n.type.render,!1),n;case 1:return n=he(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case ge:return"Portal";case S:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case Le:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case R:return(n._context.displayName||"Context")+".Provider";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xe:return i=n.displayName||null,i!==null?i:ke(n.type)||"Memo";case be:i=n._payload,n=n._init;try{return ke(n(i))}catch{}}return null}function Ne(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ge(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=Ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function lr(n){n._valueTracker||(n._valueTracker=wt(n))}function ps(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Ge(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function jr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function xi(n,i){var a=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ms(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Co(n,i){i=i.checked,i!=null&&te(n,"checked",i,!1)}function No(n,i){Co(n,i);var a=Fe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?gs(n,i.type,a):i.hasOwnProperty("defaultValue")&&gs(n,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function cl(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function gs(n,i,a){(i!=="number"||jr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ur=Array.isArray;function cr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function bo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ys(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(ur(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Fe(a)}}function _s(n,i){var a=Fe(i.value),c=Fe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Do(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?pt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hr,Vo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=hr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Fr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ai=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(n){Ai.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ki[i]=ki[n]})});function Oo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||ki.hasOwnProperty(n)&&ki[n]?(""+i).trim():i+"px"}function Lo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Oo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Mo=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(n,i){if(i){if(Mo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Fo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pi=null;function vs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ws=null,pn=null,qn=null;function Es(n){if(n=ua(n)){if(typeof ws!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Ul(i),ws(n.stateNode,n.type,i))}}function Hn(n){pn?qn?qn.push(n):qn=[n]:pn=n}function Uo(){if(pn){var n=pn,i=qn;if(qn=pn=null,Es(n),i)for(n=0;n<i.length;n++)Es(i[n])}}function Ri(n,i){return n(i)}function zo(){}var dr=!1;function Bo(n,i,a){if(dr)return n(i,a);dr=!0;try{return Ri(n,i,a)}finally{dr=!1,(pn!==null||qn!==null)&&(zo(),Uo())}}function at(n,i){var a=n.stateNode;if(a===null)return null;var c=Ul(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Ts=!1;if(f)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Ts=!1}function Ci(n,i,a,c,d,m,v,x,N){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(Y){this.onError(Y)}}var Ni=!1,Is=null,An=!1,$o=null,Dc={onError:function(n){Ni=!0,Is=n}};function Ss(n,i,a,c,d,m,v,x,N){Ni=!1,Is=null,Ci.apply(Dc,arguments)}function hl(n,i,a,c,d,m,v,x,N){if(Ss.apply(this,arguments),Ni){if(Ni){var z=Is;Ni=!1,Is=null}else throw Error(t(198));An||(An=!0,$o=z)}}function Pn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function bi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Rn(n){if(Pn(n)!==n)throw Error(t(188))}function dl(n){var i=n.alternate;if(!i){if(i=Pn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Rn(d),n;if(m===c)return Rn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var v=!1,x=d.child;x;){if(x===a){v=!0,a=d,c=m;break}if(x===c){v=!0,c=d,a=m;break}x=x.sibling}if(!v){for(x=m.child;x;){if(x===a){v=!0,a=m,c=d;break}if(x===c){v=!0,c=m,a=d;break}x=x.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function qo(n){return n=dl(n),n!==null?xs(n):null}function xs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=xs(n);if(i!==null)return i;n=n.sibling}return null}var ks=e.unstable_scheduleCallback,Ho=e.unstable_cancelCallback,fl=e.unstable_shouldYield,Vc=e.unstable_requestPaint,Qe=e.unstable_now,pl=e.unstable_getCurrentPriorityLevel,Di=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,Wo=e.unstable_LowPriority,ml=e.unstable_IdlePriority,Vi=null,sn=null;function gl(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Vi,n,void 0,(n.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:_l,Ko=Math.log,yl=Math.LN2;function _l(n){return n>>>=0,n===0?32:31-(Ko(n)/yl|0)|0}var As=64,Ps=4194304;function zr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Oi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var x=v&~d;x!==0?c=zr(x):(m&=v,m!==0&&(c=zr(m)))}else v=a&~d,v!==0?c=zr(v):m!==0&&(c=zr(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-$t(i),d=1<<a,c|=n[a],i&=~d;return c}function Oc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-$t(m),x=1<<v,N=d[v];N===-1?((x&a)===0||(x&c)!==0)&&(d[v]=Oc(x,i)):N<=i&&(n.expiredLanes|=x),m&=~x}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Li(){var n=As;return As<<=1,(As&4194240)===0&&(As=64),n}function Br(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function $r(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-$t(i),n[i]=a}function Ke(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-$t(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function qr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-$t(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Ve=0;function Hr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var vl,Rs,wl,El,Tl,Go=!1,Wn=[],At=null,Cn=null,Nn=null,Wr=new Map,gn=new Map,Kn=[],Lc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Il(n,i){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Wr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(i.pointerId)}}function Qt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=ua(i),i!==null&&Rs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Mc(n,i,a,c,d){switch(i){case"focusin":return At=Qt(At,n,i,a,c,d),!0;case"dragenter":return Cn=Qt(Cn,n,i,a,c,d),!0;case"mouseover":return Nn=Qt(Nn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return Wr.set(m,Qt(Wr.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,gn.set(m,Qt(gn.get(m)||null,n,i,a,c,d)),!0}return!1}function Sl(n){var i=zi(n.target);if(i!==null){var a=Pn(i);if(a!==null){if(i=a.tag,i===13){if(i=bi(a),i!==null){n.blockedOn=i,Tl(n.priority,function(){wl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Cs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Pi=c,a.target.dispatchEvent(c),Pi=null}else return i=ua(a),i!==null&&Rs(i),n.blockedOn=a,!1;i.shift()}return!0}function Mi(n,i,a){pr(n)&&a.delete(i)}function xl(){Go=!1,At!==null&&pr(At)&&(At=null),Cn!==null&&pr(Cn)&&(Cn=null),Nn!==null&&pr(Nn)&&(Nn=null),Wr.forEach(Mi),gn.forEach(Mi)}function bn(n,i){n.blockedOn===i&&(n.blockedOn=null,Go||(Go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xl)))}function Dn(n){function i(d){return bn(d,n)}if(0<Wn.length){bn(Wn[0],n);for(var a=1;a<Wn.length;a++){var c=Wn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&bn(At,n),Cn!==null&&bn(Cn,n),Nn!==null&&bn(Nn,n),Wr.forEach(i),gn.forEach(i),a=0;a<Kn.length;a++)c=Kn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Kn.length&&(a=Kn[0],a.blockedOn===null);)Sl(a),a.blockedOn===null&&Kn.shift()}var mr=ae.ReactCurrentBatchConfig,Kr=!0;function tt(n,i,a,c){var d=Ve,m=mr.transition;mr.transition=null;try{Ve=1,Qo(n,i,a,c)}finally{Ve=d,mr.transition=m}}function jc(n,i,a,c){var d=Ve,m=mr.transition;mr.transition=null;try{Ve=4,Qo(n,i,a,c)}finally{Ve=d,mr.transition=m}}function Qo(n,i,a,c){if(Kr){var d=Cs(n,i,a,c);if(d===null)Qc(n,i,c,ji,a),Il(n,c);else if(Mc(d,n,i,a,c))c.stopPropagation();else if(Il(n,c),i&4&&-1<Lc.indexOf(n)){for(;d!==null;){var m=ua(d);if(m!==null&&vl(m),m=Cs(n,i,a,c),m===null&&Qc(n,i,c,ji,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Qc(n,i,c,null,a)}}var ji=null;function Cs(n,i,a,c){if(ji=null,n=vs(c),n=zi(n),n!==null)if(i=Pn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=bi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ji=n,null}function Yo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pl()){case Di:return 1;case Ur:return 4;case mn:case Wo:return 16;case ml:return 536870912;default:return 16}default:return 16}}var an=null,Ns=null,Yt=null;function Xo(){if(Yt)return Yt;var n,i=Ns,a=i.length,c,d="value"in an?an.value:an.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===d[m-c];c++);return Yt=d.slice(n,1<c?1-c:void 0)}function bs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Gn(){return!0}function Jo(){return!1}function Pt(n){function i(a,c,d,m,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(a=n[x],this[x]=a?a(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gn:Jo,this.isPropagationStopped=Jo,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),i}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Pt(Vn),Qn=K({},Vn,{view:0,detail:0}),Fc=Pt(Qn),Vs,gr,Gr,Fi=K({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gr&&(Gr&&n.type==="mousemove"?(Vs=n.screenX-Gr.screenX,gr=n.screenY-Gr.screenY):gr=Vs=0,Gr=n),Vs)},movementY:function(n){return"movementY"in n?n.movementY:gr}}),Os=Pt(Fi),Zo=K({},Fi,{dataTransfer:0}),kl=Pt(Zo),Ls=K({},Qn,{relatedTarget:0}),Ms=Pt(Ls),Al=K({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),yr=Pt(Al),Pl=K({},Vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Rl=Pt(Pl),Cl=K({},Vn,{data:0}),ea=Pt(Cl),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Nl[n])?!!i[n]:!1}function Yn(){return bl}var u=K({},Qn,{key:function(n){if(n.key){var i=js[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(n){return n.type==="keypress"?bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Pt(u),y=K({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Pt(y),L=K({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn}),q=Pt(L),re=K({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=Pt(re),gt=K({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Pt(gt),Et=[9,13,27,32],ct=f&&"CompositionEvent"in window,yn=null;f&&"documentMode"in document&&(yn=document.documentMode);var ln=f&&"TextEvent"in window&&!yn,Ui=f&&(!ct||yn&&8<yn&&11>=yn),Fs=" ",Gf=!1;function Qf(n,i){switch(n){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Us=!1;function u0(n,i){switch(n){case"compositionend":return Yf(i);case"keypress":return i.which!==32?null:(Gf=!0,Fs);case"textInput":return n=i.data,n===Fs&&Gf?null:n;default:return null}}function c0(n,i){if(Us)return n==="compositionend"||!ct&&Qf(n,i)?(n=Xo(),Yt=Ns=an=null,Us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ui&&i.locale!=="ko"?null:i.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!h0[n.type]:i==="textarea"}function Jf(n,i,a,c){Hn(c),i=Ml(i,"onChange"),0<i.length&&(a=new Ds("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var ta=null,na=null;function d0(n){gp(n,0)}function Dl(n){var i=Hs(n);if(ps(i))return n}function f0(n,i){if(n==="change")return i}var Zf=!1;if(f){var Uc;if(f){var zc="oninput"in document;if(!zc){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),zc=typeof ep.oninput=="function"}Uc=zc}else Uc=!1;Zf=Uc&&(!document.documentMode||9<document.documentMode)}function tp(){ta&&(ta.detachEvent("onpropertychange",np),na=ta=null)}function np(n){if(n.propertyName==="value"&&Dl(na)){var i=[];Jf(i,na,n,vs(n)),Bo(d0,i)}}function p0(n,i,a){n==="focusin"?(tp(),ta=i,na=a,ta.attachEvent("onpropertychange",np)):n==="focusout"&&tp()}function m0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Dl(na)}function g0(n,i){if(n==="click")return Dl(i)}function y0(n,i){if(n==="input"||n==="change")return Dl(i)}function _0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var On=typeof Object.is=="function"?Object.is:_0;function ra(n,i){if(On(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!On(n[d],i[d]))return!1}return!0}function rp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ip(n,i){var a=rp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rp(a)}}function sp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?sp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function op(){for(var n=window,i=jr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=jr(n.document)}return i}function Bc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function v0(n){var i=op(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&sp(a.ownerDocument.documentElement,a)){if(c!==null&&Bc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=ip(a,m);var v=ip(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var w0=f&&"documentMode"in document&&11>=document.documentMode,zs=null,$c=null,ia=null,qc=!1;function ap(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qc||zs==null||zs!==jr(c)||(c=zs,"selectionStart"in c&&Bc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ia&&ra(ia,c)||(ia=c,c=Ml($c,"onSelect"),0<c.length&&(i=new Ds("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=zs)))}function Vl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Bs={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Hc={},lp={};f&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ol(n){if(Hc[n])return Hc[n];if(!Bs[n])return n;var i=Bs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in lp)return Hc[n]=i[a];return n}var up=Ol("animationend"),cp=Ol("animationiteration"),hp=Ol("animationstart"),dp=Ol("transitionend"),fp=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(n,i){fp.set(n,i),l(i,[n])}for(var Wc=0;Wc<pp.length;Wc++){var Kc=pp[Wc],E0=Kc.toLowerCase(),T0=Kc[0].toUpperCase()+Kc.slice(1);Qr(E0,"on"+T0)}Qr(up,"onAnimationEnd"),Qr(cp,"onAnimationIteration"),Qr(hp,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(dp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function mp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,hl(c,i,void 0,n),n.currentTarget=null}function gp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var x=c[v],N=x.instance,z=x.currentTarget;if(x=x.listener,N!==m&&d.isPropagationStopped())break e;mp(d,x,z),m=N}else for(v=0;v<c.length;v++){if(x=c[v],N=x.instance,z=x.currentTarget,x=x.listener,N!==m&&d.isPropagationStopped())break e;mp(d,x,z),m=N}}}if(An)throw n=$o,An=!1,$o=null,n}function Je(n,i){var a=i[th];a===void 0&&(a=i[th]=new Set);var c=n+"__bubble";a.has(c)||(yp(i,n,2,!1),a.add(c))}function Gc(n,i,a){var c=0;i&&(c|=4),yp(a,n,c,i)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function oa(n){if(!n[Ll]){n[Ll]=!0,s.forEach(function(a){a!=="selectionchange"&&(I0.has(a)||Gc(a,!1,n),Gc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ll]||(i[Ll]=!0,Gc("selectionchange",!1,i))}}function yp(n,i,a,c){switch(Yo(i)){case 1:var d=tt;break;case 4:d=jc;break;default:d=Qo}a=d.bind(null,i,a,n),d=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Qc(n,i,a,c,d){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var x=c.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;v=v.return}for(;x!==null;){if(v=zi(x),v===null)return;if(N=v.tag,N===5||N===6){c=m=v;continue e}x=x.parentNode}}c=c.return}Bo(function(){var z=m,Y=vs(a),J=[];e:{var Q=fp.get(n);if(Q!==void 0){var oe=Ds,ce=n;switch(n){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":oe=p;break;case"focusin":ce="focus",oe=Ms;break;case"focusout":ce="blur",oe=Ms;break;case"beforeblur":case"afterblur":oe=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=q;break;case up:case cp:case hp:oe=yr;break;case dp:oe=$e;break;case"scroll":oe=Fc;break;case"wheel":oe=Me;break;case"copy":case"cut":case"paste":oe=Rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var de=(i&4)!==0,lt=!de&&n==="scroll",M=de?Q!==null?Q+"Capture":null:Q;de=[];for(var V=z,j;V!==null;){j=V;var ee=j.stateNode;if(j.tag===5&&ee!==null&&(j=ee,M!==null&&(ee=at(V,M),ee!=null&&de.push(aa(V,ee,j)))),lt)break;V=V.return}0<de.length&&(Q=new oe(Q,ce,null,a,Y),J.push({event:Q,listeners:de}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",Q&&a!==Pi&&(ce=a.relatedTarget||a.fromElement)&&(zi(ce)||ce[_r]))break e;if((oe||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=z,ce=ce?zi(ce):null,ce!==null&&(lt=Pn(ce),ce!==lt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=z),oe!==ce)){if(de=Os,ee="onMouseLeave",M="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(de=E,ee="onPointerLeave",M="onPointerEnter",V="pointer"),lt=oe==null?Q:Hs(oe),j=ce==null?Q:Hs(ce),Q=new de(ee,V+"leave",oe,a,Y),Q.target=lt,Q.relatedTarget=j,ee=null,zi(Y)===z&&(de=new de(M,V+"enter",ce,a,Y),de.target=j,de.relatedTarget=lt,ee=de),lt=ee,oe&&ce)t:{for(de=oe,M=ce,V=0,j=de;j;j=$s(j))V++;for(j=0,ee=M;ee;ee=$s(ee))j++;for(;0<V-j;)de=$s(de),V--;for(;0<j-V;)M=$s(M),j--;for(;V--;){if(de===M||M!==null&&de===M.alternate)break t;de=$s(de),M=$s(M)}de=null}else de=null;oe!==null&&_p(J,Q,oe,de,!1),ce!==null&&lt!==null&&_p(J,lt,ce,de,!0)}}e:{if(Q=z?Hs(z):window,oe=Q.nodeName&&Q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Q.type==="file")var me=f0;else if(Xf(Q))if(Zf)me=y0;else{me=m0;var _e=p0}else(oe=Q.nodeName)&&oe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(me=g0);if(me&&(me=me(n,z))){Jf(J,me,a,Y);break e}_e&&_e(n,Q,z),n==="focusout"&&(_e=Q._wrapperState)&&_e.controlled&&Q.type==="number"&&gs(Q,"number",Q.value)}switch(_e=z?Hs(z):window,n){case"focusin":(Xf(_e)||_e.contentEditable==="true")&&(zs=_e,$c=z,ia=null);break;case"focusout":ia=$c=zs=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,ap(J,a,Y);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":ap(J,a,Y)}var ve;if(ct)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Us?Qf(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Ui&&a.locale!=="ko"&&(Us||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Us&&(ve=Xo()):(an=Y,Ns="value"in an?an.value:an.textContent,Us=!0)),_e=Ml(z,Te),0<_e.length&&(Te=new ea(Te,n,null,a,Y),J.push({event:Te,listeners:_e}),ve?Te.data=ve:(ve=Yf(a),ve!==null&&(Te.data=ve)))),(ve=ln?u0(n,a):c0(n,a))&&(z=Ml(z,"onBeforeInput"),0<z.length&&(Y=new ea("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:z}),Y.data=ve))}gp(J,i)})}function aa(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ml(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=at(n,a),m!=null&&c.unshift(aa(n,m,d)),m=at(n,i),m!=null&&c.push(aa(n,m,d))),n=n.return}return c}function $s(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _p(n,i,a,c,d){for(var m=i._reactName,v=[];a!==null&&a!==c;){var x=a,N=x.alternate,z=x.stateNode;if(N!==null&&N===c)break;x.tag===5&&z!==null&&(x=z,d?(N=at(a,m),N!=null&&v.unshift(aa(a,N,x))):d||(N=at(a,m),N!=null&&v.push(aa(a,N,x)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var S0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function vp(n){return(typeof n=="string"?n:""+n).replace(S0,`
`).replace(x0,"")}function jl(n,i,a){if(i=vp(i),vp(n)!==i&&a)throw Error(t(425))}function Fl(){}var Yc=null,Xc=null;function Jc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,A0=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(n){return wp.resolve(null).then(n).catch(P0)}:Zc;function P0(n){setTimeout(function(){throw n})}function eh(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Dn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Dn(i)}function Yr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Ep(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Xn="__reactFiber$"+qs,la="__reactProps$"+qs,_r="__reactContainer$"+qs,th="__reactEvents$"+qs,R0="__reactListeners$"+qs,C0="__reactHandles$"+qs;function zi(n){var i=n[Xn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[_r]||a[Xn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Ep(n);n!==null;){if(a=n[Xn])return a;n=Ep(n)}return i}n=a,a=n.parentNode}return null}function ua(n){return n=n[Xn]||n[_r],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ul(n){return n[la]||null}var nh=[],Ws=-1;function Xr(n){return{current:n}}function Ze(n){0>Ws||(n.current=nh[Ws],nh[Ws]=null,Ws--)}function Ye(n,i){Ws++,nh[Ws]=n.current,n.current=i}var Jr={},Ot=Xr(Jr),Xt=Xr(!1),Bi=Jr;function Ks(n,i){var a=n.type.contextTypes;if(!a)return Jr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(n){return n=n.childContextTypes,n!=null}function zl(){Ze(Xt),Ze(Ot)}function Tp(n,i,a){if(Ot.current!==Jr)throw Error(t(168));Ye(Ot,i),Ye(Xt,a)}function Ip(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Ne(n)||"Unknown",d));return K({},a,c)}function Bl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,Bi=Ot.current,Ye(Ot,n),Ye(Xt,Xt.current),!0}function Sp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Ip(n,i,Bi),c.__reactInternalMemoizedMergedChildContext=n,Ze(Xt),Ze(Ot),Ye(Ot,n)):Ze(Xt),Ye(Xt,a)}var vr=null,$l=!1,rh=!1;function xp(n){vr===null?vr=[n]:vr.push(n)}function N0(n){$l=!0,xp(n)}function Zr(){if(!rh&&vr!==null){rh=!0;var n=0,i=Ve;try{var a=vr;for(Ve=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}vr=null,$l=!1}catch(d){throw vr!==null&&(vr=vr.slice(n+1)),ks(Di,Zr),d}finally{Ve=i,rh=!1}}return null}var Gs=[],Qs=0,ql=null,Hl=0,_n=[],vn=0,$i=null,wr=1,Er="";function qi(n,i){Gs[Qs++]=Hl,Gs[Qs++]=ql,ql=n,Hl=i}function kp(n,i,a){_n[vn++]=wr,_n[vn++]=Er,_n[vn++]=$i,$i=n;var c=wr;n=Er;var d=32-$t(c)-1;c&=~(1<<d),a+=1;var m=32-$t(i)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,wr=1<<32-$t(i)+d|a<<d|c,Er=m+n}else wr=1<<m|a<<d|c,Er=n}function ih(n){n.return!==null&&(qi(n,1),kp(n,1,0))}function sh(n){for(;n===ql;)ql=Gs[--Qs],Gs[Qs]=null,Hl=Gs[--Qs],Gs[Qs]=null;for(;n===$i;)$i=_n[--vn],_n[vn]=null,Er=_n[--vn],_n[vn]=null,wr=_n[--vn],_n[vn]=null}var un=null,cn=null,nt=!1,Ln=null;function Ap(n,i){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Pp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,un=n,cn=Yr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,un=n,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=$i!==null?{id:wr,overflow:Er}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function oh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ah(n){if(nt){var i=cn;if(i){var a=i;if(!Pp(n,i)){if(oh(n))throw Error(t(418));i=Yr(a.nextSibling);var c=un;i&&Pp(n,i)?Ap(c,a):(n.flags=n.flags&-4097|2,nt=!1,un=n)}}else{if(oh(n))throw Error(t(418));n.flags=n.flags&-4097|2,nt=!1,un=n}}}function Rp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function Wl(n){if(n!==un)return!1;if(!nt)return Rp(n),nt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Jc(n.type,n.memoizedProps)),i&&(i=cn)){if(oh(n))throw Cp(),Error(t(418));for(;i;)Ap(n,i),i=Yr(i.nextSibling)}if(Rp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){cn=Yr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}cn=null}}else cn=un?Yr(n.stateNode.nextSibling):null;return!0}function Cp(){for(var n=cn;n;)n=Yr(n.nextSibling)}function Ys(){cn=un=null,nt=!1}function lh(n){Ln===null?Ln=[n]:Ln.push(n)}var b0=ae.ReactCurrentBatchConfig;function ca(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var x=d.refs;v===null?delete x[m]:x[m]=v},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Kl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Np(n){var i=n._init;return i(n._payload)}function bp(n){function i(M,V){if(n){var j=M.deletions;j===null?(M.deletions=[V],M.flags|=16):j.push(V)}}function a(M,V){if(!n)return null;for(;V!==null;)i(M,V),V=V.sibling;return null}function c(M,V){for(M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function d(M,V){return M=ai(M,V),M.index=0,M.sibling=null,M}function m(M,V,j){return M.index=j,n?(j=M.alternate,j!==null?(j=j.index,j<V?(M.flags|=2,V):j):(M.flags|=2,V)):(M.flags|=1048576,V)}function v(M){return n&&M.alternate===null&&(M.flags|=2),M}function x(M,V,j,ee){return V===null||V.tag!==6?(V=Zh(j,M.mode,ee),V.return=M,V):(V=d(V,j),V.return=M,V)}function N(M,V,j,ee){var me=j.type;return me===C?Y(M,V,j.props.children,ee,j.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===be&&Np(me)===V.type)?(ee=d(V,j.props),ee.ref=ca(M,V,j),ee.return=M,ee):(ee=yu(j.type,j.key,j.props,null,M.mode,ee),ee.ref=ca(M,V,j),ee.return=M,ee)}function z(M,V,j,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=ed(j,M.mode,ee),V.return=M,V):(V=d(V,j.children||[]),V.return=M,V)}function Y(M,V,j,ee,me){return V===null||V.tag!==7?(V=Ji(j,M.mode,ee,me),V.return=M,V):(V=d(V,j),V.return=M,V)}function J(M,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Zh(""+V,M.mode,j),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ae:return j=yu(V.type,V.key,V.props,null,M.mode,j),j.ref=ca(M,null,V),j.return=M,j;case ge:return V=ed(V,M.mode,j),V.return=M,V;case be:var ee=V._init;return J(M,ee(V._payload),j)}if(ur(V)||U(V))return V=Ji(V,M.mode,j,null),V.return=M,V;Kl(M,V)}return null}function Q(M,V,j,ee){var me=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return me!==null?null:x(M,V,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ae:return j.key===me?N(M,V,j,ee):null;case ge:return j.key===me?z(M,V,j,ee):null;case be:return me=j._init,Q(M,V,me(j._payload),ee)}if(ur(j)||U(j))return me!==null?null:Y(M,V,j,ee,null);Kl(M,j)}return null}function oe(M,V,j,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return M=M.get(j)||null,x(V,M,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ae:return M=M.get(ee.key===null?j:ee.key)||null,N(V,M,ee,me);case ge:return M=M.get(ee.key===null?j:ee.key)||null,z(V,M,ee,me);case be:var _e=ee._init;return oe(M,V,j,_e(ee._payload),me)}if(ur(ee)||U(ee))return M=M.get(j)||null,Y(V,M,ee,me,null);Kl(V,ee)}return null}function ce(M,V,j,ee){for(var me=null,_e=null,ve=V,Te=V=0,St=null;ve!==null&&Te<j.length;Te++){ve.index>Te?(St=ve,ve=null):St=ve.sibling;var ze=Q(M,ve,j[Te],ee);if(ze===null){ve===null&&(ve=St);break}n&&ve&&ze.alternate===null&&i(M,ve),V=m(ze,V,Te),_e===null?me=ze:_e.sibling=ze,_e=ze,ve=St}if(Te===j.length)return a(M,ve),nt&&qi(M,Te),me;if(ve===null){for(;Te<j.length;Te++)ve=J(M,j[Te],ee),ve!==null&&(V=m(ve,V,Te),_e===null?me=ve:_e.sibling=ve,_e=ve);return nt&&qi(M,Te),me}for(ve=c(M,ve);Te<j.length;Te++)St=oe(ve,M,Te,j[Te],ee),St!==null&&(n&&St.alternate!==null&&ve.delete(St.key===null?Te:St.key),V=m(St,V,Te),_e===null?me=St:_e.sibling=St,_e=St);return n&&ve.forEach(function(li){return i(M,li)}),nt&&qi(M,Te),me}function de(M,V,j,ee){var me=U(j);if(typeof me!="function")throw Error(t(150));if(j=me.call(j),j==null)throw Error(t(151));for(var _e=me=null,ve=V,Te=V=0,St=null,ze=j.next();ve!==null&&!ze.done;Te++,ze=j.next()){ve.index>Te?(St=ve,ve=null):St=ve.sibling;var li=Q(M,ve,ze.value,ee);if(li===null){ve===null&&(ve=St);break}n&&ve&&li.alternate===null&&i(M,ve),V=m(li,V,Te),_e===null?me=li:_e.sibling=li,_e=li,ve=St}if(ze.done)return a(M,ve),nt&&qi(M,Te),me;if(ve===null){for(;!ze.done;Te++,ze=j.next())ze=J(M,ze.value,ee),ze!==null&&(V=m(ze,V,Te),_e===null?me=ze:_e.sibling=ze,_e=ze);return nt&&qi(M,Te),me}for(ve=c(M,ve);!ze.done;Te++,ze=j.next())ze=oe(ve,M,Te,ze.value,ee),ze!==null&&(n&&ze.alternate!==null&&ve.delete(ze.key===null?Te:ze.key),V=m(ze,V,Te),_e===null?me=ze:_e.sibling=ze,_e=ze);return n&&ve.forEach(function(hw){return i(M,hw)}),nt&&qi(M,Te),me}function lt(M,V,j,ee){if(typeof j=="object"&&j!==null&&j.type===C&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ae:e:{for(var me=j.key,_e=V;_e!==null;){if(_e.key===me){if(me=j.type,me===C){if(_e.tag===7){a(M,_e.sibling),V=d(_e,j.props.children),V.return=M,M=V;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===be&&Np(me)===_e.type){a(M,_e.sibling),V=d(_e,j.props),V.ref=ca(M,_e,j),V.return=M,M=V;break e}a(M,_e);break}else i(M,_e);_e=_e.sibling}j.type===C?(V=Ji(j.props.children,M.mode,ee,j.key),V.return=M,M=V):(ee=yu(j.type,j.key,j.props,null,M.mode,ee),ee.ref=ca(M,V,j),ee.return=M,M=ee)}return v(M);case ge:e:{for(_e=j.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(M,V.sibling),V=d(V,j.children||[]),V.return=M,M=V;break e}else{a(M,V);break}else i(M,V);V=V.sibling}V=ed(j,M.mode,ee),V.return=M,M=V}return v(M);case be:return _e=j._init,lt(M,V,_e(j._payload),ee)}if(ur(j))return ce(M,V,j,ee);if(U(j))return de(M,V,j,ee);Kl(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,V!==null&&V.tag===6?(a(M,V.sibling),V=d(V,j),V.return=M,M=V):(a(M,V),V=Zh(j,M.mode,ee),V.return=M,M=V),v(M)):a(M,V)}return lt}var Xs=bp(!0),Dp=bp(!1),Gl=Xr(null),Ql=null,Js=null,uh=null;function ch(){uh=Js=Ql=null}function hh(n){var i=Gl.current;Ze(Gl),n._currentValue=i}function dh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Zs(n,i){Ql=n,uh=Js=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Zt=!0),n.firstContext=null)}function wn(n){var i=n._currentValue;if(uh!==n)if(n={context:n,memoizedValue:i,next:null},Js===null){if(Ql===null)throw Error(t(308));Js=n,Ql.dependencies={lanes:0,firstContext:n}}else Js=Js.next=n;return i}var Hi=null;function fh(n){Hi===null?Hi=[n]:Hi.push(n)}function Vp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,fh(i)):(a.next=d.next,d.next=a),i.interleaved=a,Tr(n,c)}function Tr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ei=!1;function ph(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Op(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ir(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ti(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Tr(n,a)}return d=c.interleaved,d===null?(i.next=i,fh(c)):(i.next=d.next,d.next=i),c.interleaved=i,Tr(n,a)}function Yl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,qr(n,a)}}function Lp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Xl(n,i,a,c){var d=n.updateQueue;ei=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var N=x,z=N.next;N.next=null,v===null?m=z:v.next=z,v=N;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,x=Y.lastBaseUpdate,x!==v&&(x===null?Y.firstBaseUpdate=z:x.next=z,Y.lastBaseUpdate=N))}if(m!==null){var J=d.baseState;v=0,Y=z=N=null,x=m;do{var Q=x.lane,oe=x.eventTime;if((c&Q)===Q){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ce=n,de=x;switch(Q=i,oe=a,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){J=ce.call(oe,J,Q);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,Q=typeof ce=="function"?ce.call(oe,J,Q):ce,Q==null)break e;J=K({},J,Q);break e;case 2:ei=!0}}x.callback!==null&&x.lane!==0&&(n.flags|=64,Q=d.effects,Q===null?d.effects=[x]:Q.push(x))}else oe={eventTime:oe,lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Y===null?(z=Y=oe,N=J):Y=Y.next=oe,v|=Q;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(Y===null&&(N=J),d.baseState=N,d.firstBaseUpdate=z,d.lastBaseUpdate=Y,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Gi|=v,n.lanes=v,n.memoizedState=J}}function Mp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ha={},Jn=Xr(ha),da=Xr(ha),fa=Xr(ha);function Wi(n){if(n===ha)throw Error(t(174));return n}function mh(n,i){switch(Ye(fa,i),Ye(da,n),Ye(Jn,ha),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=mt(i,n)}Ze(Jn),Ye(Jn,i)}function eo(){Ze(Jn),Ze(da),Ze(fa)}function jp(n){Wi(fa.current);var i=Wi(Jn.current),a=mt(i,n.type);i!==a&&(Ye(da,n),Ye(Jn,a))}function gh(n){da.current===n&&(Ze(Jn),Ze(da))}var rt=Xr(0);function Jl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yh=[];function _h(){for(var n=0;n<yh.length;n++)yh[n]._workInProgressVersionPrimary=null;yh.length=0}var Zl=ae.ReactCurrentDispatcher,vh=ae.ReactCurrentBatchConfig,Ki=0,it=null,yt=null,Tt=null,eu=!1,pa=!1,ma=0,D0=0;function Lt(){throw Error(t(321))}function wh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!On(n[a],i[a]))return!1;return!0}function Eh(n,i,a,c,d,m){if(Ki=m,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Zl.current=n===null||n.memoizedState===null?M0:j0,n=a(c,d),pa){m=0;do{if(pa=!1,ma=0,25<=m)throw Error(t(301));m+=1,Tt=yt=null,i.updateQueue=null,Zl.current=F0,n=a(c,d)}while(pa)}if(Zl.current=ru,i=yt!==null&&yt.next!==null,Ki=0,Tt=yt=it=null,eu=!1,i)throw Error(t(300));return n}function Th(){var n=ma!==0;return ma=0,n}function Zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function En(){if(yt===null){var n=it.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Tt===null?it.memoizedState:Tt.next;if(i!==null)Tt=i,yt=n;else{if(n===null)throw Error(t(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?it.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function ga(n,i){return typeof i=="function"?i(n):i}function Ih(n){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=yt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var x=v=null,N=null,z=m;do{var Y=z.lane;if((Ki&Y)===Y)N!==null&&(N=N.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};N===null?(x=N=J,v=c):N=N.next=J,it.lanes|=Y,Gi|=Y}z=z.next}while(z!==null&&z!==m);N===null?v=c:N.next=x,On(c,i.memoizedState)||(Zt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=N,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,it.lanes|=m,Gi|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Sh(n){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);On(m,i.memoizedState)||(Zt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Fp(){}function Up(n,i){var a=it,c=En(),d=i(),m=!On(c.memoizedState,d);if(m&&(c.memoizedState=d,Zt=!0),c=c.queue,xh($p.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,ya(9,Bp.bind(null,a,c,d,i),void 0,null),It===null)throw Error(t(349));(Ki&30)!==0||zp(a,i,d)}return d}function zp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Bp(n,i,a,c){i.value=a,i.getSnapshot=c,qp(i)&&Hp(n)}function $p(n,i,a){return a(function(){qp(i)&&Hp(n)})}function qp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!On(n,a)}catch{return!0}}function Hp(n){var i=Tr(n,1);i!==null&&Un(i,n,1,-1)}function Wp(n){var i=Zn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:n},i.queue=n,n=n.dispatch=L0.bind(null,it,n),[i.memoizedState,n]}function ya(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Kp(){return En().memoizedState}function tu(n,i,a,c){var d=Zn();it.flags|=n,d.memoizedState=ya(1|i,a,void 0,c===void 0?null:c)}function nu(n,i,a,c){var d=En();c=c===void 0?null:c;var m=void 0;if(yt!==null){var v=yt.memoizedState;if(m=v.destroy,c!==null&&wh(c,v.deps)){d.memoizedState=ya(i,a,m,c);return}}it.flags|=n,d.memoizedState=ya(1|i,a,m,c)}function Gp(n,i){return tu(8390656,8,n,i)}function xh(n,i){return nu(2048,8,n,i)}function Qp(n,i){return nu(4,2,n,i)}function Yp(n,i){return nu(4,4,n,i)}function Xp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Jp(n,i,a){return a=a!=null?a.concat([n]):null,nu(4,4,Xp.bind(null,i,n),a)}function kh(){}function Zp(n,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function em(n,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function tm(n,i,a){return(Ki&21)===0?(n.baseState&&(n.baseState=!1,Zt=!0),n.memoizedState=a):(On(a,i)||(a=Li(),it.lanes|=a,Gi|=a,n.baseState=!0),i)}function V0(n,i){var a=Ve;Ve=a!==0&&4>a?a:4,n(!0);var c=vh.transition;vh.transition={};try{n(!1),i()}finally{Ve=a,vh.transition=c}}function nm(){return En().memoizedState}function O0(n,i,a){var c=si(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},rm(n))im(i,a);else if(a=Vp(n,i,a,c),a!==null){var d=Wt();Un(a,n,c,d),sm(a,i,c)}}function L0(n,i,a){var c=si(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(rm(n))im(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,x=m(v,a);if(d.hasEagerState=!0,d.eagerState=x,On(x,v)){var N=i.interleaved;N===null?(d.next=d,fh(i)):(d.next=N.next,N.next=d),i.interleaved=d;return}}catch{}a=Vp(n,i,d,c),a!==null&&(d=Wt(),Un(a,n,c,d),sm(a,i,c))}}function rm(n){var i=n.alternate;return n===it||i!==null&&i===it}function im(n,i){pa=eu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function sm(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,qr(n,a)}}var ru={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},M0={readContext:wn,useCallback:function(n,i){return Zn().memoizedState=[n,i===void 0?null:i],n},useContext:wn,useEffect:Gp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,tu(4194308,4,Xp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return tu(4194308,4,n,i)},useInsertionEffect:function(n,i){return tu(4,2,n,i)},useMemo:function(n,i){var a=Zn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Zn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=O0.bind(null,it,n),[c.memoizedState,n]},useRef:function(n){var i=Zn();return n={current:n},i.memoizedState=n},useState:Wp,useDebugValue:kh,useDeferredValue:function(n){return Zn().memoizedState=n},useTransition:function(){var n=Wp(!1),i=n[0];return n=V0.bind(null,n[1]),Zn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=it,d=Zn();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));(Ki&30)!==0||zp(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,Gp($p.bind(null,c,m,n),[n]),c.flags|=2048,ya(9,Bp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Zn(),i=It.identifierPrefix;if(nt){var a=Er,c=wr;a=(c&~(1<<32-$t(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ma++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=D0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},j0={readContext:wn,useCallback:Zp,useContext:wn,useEffect:xh,useImperativeHandle:Jp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:em,useReducer:Ih,useRef:Kp,useState:function(){return Ih(ga)},useDebugValue:kh,useDeferredValue:function(n){var i=En();return tm(i,yt.memoizedState,n)},useTransition:function(){var n=Ih(ga)[0],i=En().memoizedState;return[n,i]},useMutableSource:Fp,useSyncExternalStore:Up,useId:nm,unstable_isNewReconciler:!1},F0={readContext:wn,useCallback:Zp,useContext:wn,useEffect:xh,useImperativeHandle:Jp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:em,useReducer:Sh,useRef:Kp,useState:function(){return Sh(ga)},useDebugValue:kh,useDeferredValue:function(n){var i=En();return yt===null?i.memoizedState=n:tm(i,yt.memoizedState,n)},useTransition:function(){var n=Sh(ga)[0],i=En().memoizedState;return[n,i]},useMutableSource:Fp,useSyncExternalStore:Up,useId:nm,unstable_isNewReconciler:!1};function Mn(n,i){if(n&&n.defaultProps){i=K({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Ah(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:K({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var iu={isMounted:function(n){return(n=n._reactInternals)?Pn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=si(n),m=Ir(c,d);m.payload=i,a!=null&&(m.callback=a),i=ti(n,m,d),i!==null&&(Un(i,n,d,c),Yl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=si(n),m=Ir(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ti(n,m,d),i!==null&&(Un(i,n,d,c),Yl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Wt(),c=si(n),d=Ir(a,c);d.tag=2,i!=null&&(d.callback=i),i=ti(n,d,c),i!==null&&(Un(i,n,c,a),Yl(i,n,c))}};function om(n,i,a,c,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!ra(a,c)||!ra(d,m):!0}function am(n,i,a){var c=!1,d=Jr,m=i.contextType;return typeof m=="object"&&m!==null?m=wn(m):(d=Jt(i)?Bi:Ot.current,c=i.contextTypes,m=(c=c!=null)?Ks(n,d):Jr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=iu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function lm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&iu.enqueueReplaceState(i,i.state,null)}function Ph(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},ph(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=wn(m):(m=Jt(i)?Bi:Ot.current,d.context=Ks(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Ah(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&iu.enqueueReplaceState(d,d.state,null),Xl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function to(n,i){try{var a="",c=i;do a+=we(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Rh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Ch(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function um(n,i,a){a=Ir(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){hu||(hu=!0,Hh=c),Ch(n,i)},a}function cm(n,i,a){a=Ir(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Ch(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Ch(n,i),typeof c!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function hm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new U0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=ew.bind(null,n,i,a),i.then(n,n))}function dm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function fm(n,i,a,c,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ir(-1,1),i.tag=2,ti(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var z0=ae.ReactCurrentOwner,Zt=!1;function Ht(n,i,a,c){i.child=n===null?Dp(i,null,a,c):Xs(i,n.child,a,c)}function pm(n,i,a,c,d){a=a.render;var m=i.ref;return Zs(i,d),c=Eh(n,i,a,c,m,d),a=Th(),n!==null&&!Zt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Sr(n,i,d)):(nt&&a&&ih(i),i.flags|=1,Ht(n,i,c,d),i.child)}function mm(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Jh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,gm(n,i,m,c,d)):(n=yu(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&d)===0){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ra,a(v,c)&&n.ref===i.ref)return Sr(n,i,d)}return i.flags|=1,n=ai(m,c),n.ref=i.ref,n.return=i,i.child=n}function gm(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(ra(m,c)&&n.ref===i.ref)if(Zt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Zt=!0);else return i.lanes=n.lanes,Sr(n,i,d)}return Nh(n,i,a,c,d)}function ym(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ro,hn),hn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ye(ro,hn),hn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ye(ro,hn),hn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Ye(ro,hn),hn|=c;return Ht(n,i,d,a),i.child}function _m(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Nh(n,i,a,c,d){var m=Jt(a)?Bi:Ot.current;return m=Ks(i,m),Zs(i,d),a=Eh(n,i,a,c,m,d),c=Th(),n!==null&&!Zt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Sr(n,i,d)):(nt&&c&&ih(i),i.flags|=1,Ht(n,i,a,d),i.child)}function vm(n,i,a,c,d){if(Jt(a)){var m=!0;Bl(i)}else m=!1;if(Zs(i,d),i.stateNode===null)ou(n,i),am(i,a,c),Ph(i,a,c,d),c=!0;else if(n===null){var v=i.stateNode,x=i.memoizedProps;v.props=x;var N=v.context,z=a.contextType;typeof z=="object"&&z!==null?z=wn(z):(z=Jt(a)?Bi:Ot.current,z=Ks(i,z));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==c||N!==z)&&lm(i,v,c,z),ei=!1;var Q=i.memoizedState;v.state=Q,Xl(i,c,v,d),N=i.memoizedState,x!==c||Q!==N||Xt.current||ei?(typeof Y=="function"&&(Ah(i,a,Y,c),N=i.memoizedState),(x=ei||om(i,a,x,c,Q,N,z))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),v.props=c,v.state=N,v.context=z,c=x):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Op(n,i),x=i.memoizedProps,z=i.type===i.elementType?x:Mn(i.type,x),v.props=z,J=i.pendingProps,Q=v.context,N=a.contextType,typeof N=="object"&&N!==null?N=wn(N):(N=Jt(a)?Bi:Ot.current,N=Ks(i,N));var oe=a.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==J||Q!==N)&&lm(i,v,c,N),ei=!1,Q=i.memoizedState,v.state=Q,Xl(i,c,v,d);var ce=i.memoizedState;x!==J||Q!==ce||Xt.current||ei?(typeof oe=="function"&&(Ah(i,a,oe,c),ce=i.memoizedState),(z=ei||om(i,a,z,c,Q,ce,N)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ce,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ce,N)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ce),v.props=c,v.state=ce,v.context=N,c=z):(typeof v.componentDidUpdate!="function"||x===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),c=!1)}return bh(n,i,a,c,m,d)}function bh(n,i,a,c,d,m){_m(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&Sp(i,a,!1),Sr(n,i,m);c=i.stateNode,z0.current=i;var x=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Xs(i,n.child,null,m),i.child=Xs(i,null,x,m)):Ht(n,i,x,m),i.memoizedState=c.state,d&&Sp(i,a,!0),i.child}function wm(n){var i=n.stateNode;i.pendingContext?Tp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Tp(n,i.context,!1),mh(n,i.containerInfo)}function Em(n,i,a,c,d){return Ys(),lh(d),i.flags|=256,Ht(n,i,a,c),i.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Vh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Tm(n,i,a){var c=i.pendingProps,d=rt.current,m=!1,v=(i.flags&128)!==0,x;if((x=v)||(x=n!==null&&n.memoizedState===null?!1:(d&2)!==0),x?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ye(rt,d&1),n===null)return ah(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,n=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=_u(v,c,0,null),n=Ji(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Vh(a),i.memoizedState=Dh,n):Oh(i,v));if(d=n.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return B0(n,i,v,c,x,d,a);if(m){m=c.fallback,v=i.mode,d=n.child,x=d.sibling;var N={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=ai(d,N),c.subtreeFlags=d.subtreeFlags&14680064),x!==null?m=ai(x,m):(m=Ji(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=n.child.memoizedState,v=v===null?Vh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,i.memoizedState=Dh,c}return m=n.child,n=m.sibling,c=ai(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Oh(n,i){return i=_u({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function su(n,i,a,c){return c!==null&&lh(c),Xs(i,n.child,null,a),n=Oh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function B0(n,i,a,c,d,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Rh(Error(t(422))),su(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=_u({mode:"visible",children:c.children},d,0,null),m=Ji(m,d,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Xs(i,n.child,null,v),i.child.memoizedState=Vh(v),i.memoizedState=Dh,m);if((i.mode&1)===0)return su(n,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var x=c.dgst;return c=x,m=Error(t(419)),c=Rh(m,c,void 0),su(n,i,v,c)}if(x=(v&n.childLanes)!==0,Zt||x){if(c=It,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Tr(n,d),Un(c,n,d,-1))}return Xh(),c=Rh(Error(t(421))),su(n,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=tw.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,cn=Yr(d.nextSibling),un=i,nt=!0,Ln=null,n!==null&&(_n[vn++]=wr,_n[vn++]=Er,_n[vn++]=$i,wr=n.id,Er=n.overflow,$i=i),i=Oh(i,c.children),i.flags|=4096,i)}function Im(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),dh(n.return,i,a)}function Lh(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Sm(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Ht(n,i,c.children,a),c=rt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Im(n,a,i);else if(n.tag===19)Im(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ye(rt,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Jl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Lh(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Jl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Lh(i,!0,a,null,m);break;case"together":Lh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ou(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Sr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Gi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ai(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ai(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function $0(n,i,a){switch(i.tag){case 3:wm(i),Ys();break;case 5:jp(i);break;case 1:Jt(i.type)&&Bl(i);break;case 4:mh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ye(Gl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ye(rt,rt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Tm(n,i,a):(Ye(rt,rt.current&1),n=Sr(n,i,a),n!==null?n.sibling:null);Ye(rt,rt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Sm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(rt,rt.current),c)break;return null;case 22:case 23:return i.lanes=0,ym(n,i,a)}return Sr(n,i,a)}var xm,Mh,km,Am;xm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Mh=function(){},km=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Wi(Jn.current);var m=null;switch(a){case"input":d=xi(n,d),c=xi(n,c),m=[];break;case"select":d=K({},d,{value:void 0}),c=K({},c,{value:void 0}),m=[];break;case"textarea":d=bo(n,d),c=bo(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Fl)}jo(a,c);var v;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var x=d[z];for(v in x)x.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var N=c[z];if(x=d?.[z],c.hasOwnProperty(z)&&N!==x&&(N!=null||x!=null))if(z==="style")if(x){for(v in x)!x.hasOwnProperty(v)||N&&N.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in N)N.hasOwnProperty(v)&&x[v]!==N[v]&&(a||(a={}),a[v]=N[v])}else a||(m||(m=[]),m.push(z,a)),a=N;else z==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,x=x?x.__html:void 0,N!=null&&x!==N&&(m=m||[]).push(z,N)):z==="children"?typeof N!="string"&&typeof N!="number"||(m=m||[]).push(z,""+N):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(N!=null&&z==="onScroll"&&Je("scroll",n),m||x===N||(m=[])):(m=m||[]).push(z,N))}a&&(m=m||[]).push("style",a);var z=m;(i.updateQueue=z)&&(i.flags|=4)}},Am=function(n,i,a,c){a!==c&&(i.flags|=4)};function _a(n,i){if(!nt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function q0(n,i,a){var c=i.pendingProps;switch(sh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Jt(i.type)&&zl(),Mt(i),null;case 3:return c=i.stateNode,eo(),Ze(Xt),Ze(Ot),_h(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Wl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(Gh(Ln),Ln=null))),Mh(n,i),Mt(i),null;case 5:gh(i);var d=Wi(fa.current);if(a=i.type,n!==null&&i.stateNode!=null)km(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Mt(i),null}if(n=Wi(Jn.current),Wl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Xn]=i,c[la]=m,n=(i.mode&1)!==0,a){case"dialog":Je("cancel",c),Je("close",c);break;case"iframe":case"object":case"embed":Je("load",c);break;case"video":case"audio":for(d=0;d<sa.length;d++)Je(sa[d],c);break;case"source":Je("error",c);break;case"img":case"image":case"link":Je("error",c),Je("load",c);break;case"details":Je("toggle",c);break;case"input":ms(c,m),Je("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Je("invalid",c);break;case"textarea":ys(c,m),Je("invalid",c)}jo(a,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var x=m[v];v==="children"?typeof x=="string"?c.textContent!==x&&(m.suppressHydrationWarning!==!0&&jl(c.textContent,x,n),d=["children",x]):typeof x=="number"&&c.textContent!==""+x&&(m.suppressHydrationWarning!==!0&&jl(c.textContent,x,n),d=["children",""+x]):o.hasOwnProperty(v)&&x!=null&&v==="onScroll"&&Je("scroll",c)}switch(a){case"input":lr(c),cl(c,m,!0);break;case"textarea":lr(c),Do(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Fl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=pt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Xn]=i,n[la]=c,xm(n,i,!1,!1),i.stateNode=n;e:{switch(v=Fo(a,c),a){case"dialog":Je("cancel",n),Je("close",n),d=c;break;case"iframe":case"object":case"embed":Je("load",n),d=c;break;case"video":case"audio":for(d=0;d<sa.length;d++)Je(sa[d],n);d=c;break;case"source":Je("error",n),d=c;break;case"img":case"image":case"link":Je("error",n),Je("load",n),d=c;break;case"details":Je("toggle",n),d=c;break;case"input":ms(n,c),d=xi(n,c),Je("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=K({},c,{value:void 0}),Je("invalid",n);break;case"textarea":ys(n,c),d=bo(n,c),Je("invalid",n);break;default:d=c}jo(a,d),x=d;for(m in x)if(x.hasOwnProperty(m)){var N=x[m];m==="style"?Lo(n,N):m==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Vo(n,N)):m==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Fr(n,N):typeof N=="number"&&Fr(n,""+N):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?N!=null&&m==="onScroll"&&Je("scroll",n):N!=null&&te(n,m,N,v))}switch(a){case"input":lr(n),cl(n,c,!1);break;case"textarea":lr(n),Do(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?cr(n,!!c.multiple,m,!1):c.defaultValue!=null&&cr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Fl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(n&&i.stateNode!=null)Am(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Wi(fa.current),Wi(Jn.current),Wl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Xn]=i,(m=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:jl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&jl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Xn]=i,i.stateNode=c}return Mt(i),null;case 13:if(Ze(rt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&cn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Cp(),Ys(),i.flags|=98560,m=!1;else if(m=Wl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Xn]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),m=!1}else Ln!==null&&(Gh(Ln),Ln=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(rt.current&1)!==0?_t===0&&(_t=3):Xh())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return eo(),Mh(n,i),n===null&&oa(i.stateNode.containerInfo),Mt(i),null;case 10:return hh(i.type._context),Mt(i),null;case 17:return Jt(i.type)&&zl(),Mt(i),null;case 19:if(Ze(rt),m=i.memoizedState,m===null)return Mt(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)_a(m,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Jl(n),v!==null){for(i.flags|=128,_a(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ye(rt,rt.current&1|2),i.child}n=n.sibling}m.tail!==null&&Qe()>io&&(i.flags|=128,c=!0,_a(m,!1),i.lanes=4194304)}else{if(!c)if(n=Jl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),_a(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!nt)return Mt(i),null}else 2*Qe()-m.renderingStartTime>io&&a!==1073741824&&(i.flags|=128,c=!0,_a(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Qe(),i.sibling=null,a=rt.current,Ye(rt,c?a&1|2:a&1),i):(Mt(i),null);case 22:case 23:return Yh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(hn&1073741824)!==0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function H0(n,i){switch(sh(i),i.tag){case 1:return Jt(i.type)&&zl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return eo(),Ze(Xt),Ze(Ot),_h(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return gh(i),null;case 13:if(Ze(rt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ys()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ze(rt),null;case 4:return eo(),null;case 10:return hh(i.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var au=!1,jt=!1,W0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function no(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(n,i,c)}else a.current=null}function jh(n,i,a){try{a()}catch(c){ot(n,i,c)}}var Pm=!1;function K0(n,i){if(Yc=Kr,n=op(),Bc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,x=-1,N=-1,z=0,Y=0,J=n,Q=null;t:for(;;){for(var oe;J!==a||d!==0&&J.nodeType!==3||(x=v+d),J!==m||c!==0&&J.nodeType!==3||(N=v+c),J.nodeType===3&&(v+=J.nodeValue.length),(oe=J.firstChild)!==null;)Q=J,J=oe;for(;;){if(J===n)break t;if(Q===a&&++z===d&&(x=v),Q===m&&++Y===c&&(N=v),(oe=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=oe}a=x===-1||N===-1?null:{start:x,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xc={focusedElem:n,selectionRange:a},Kr=!1,ue=i;ue!==null;)if(i=ue,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ue=n;else for(;ue!==null;){i=ue;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,lt=ce.memoizedState,M=i.stateNode,V=M.getSnapshotBeforeUpdate(i.elementType===i.type?de:Mn(i.type,de),lt);M.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var j=i.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){ot(i,i.return,ee)}if(n=i.sibling,n!==null){n.return=i.return,ue=n;break}ue=i.return}return ce=Pm,Pm=!1,ce}function va(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&jh(i,a,m)}d=d.next}while(d!==c)}}function lu(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Fh(n){var i=n.ref;if(i!==null){var a=n.stateNode;n.tag,n=a,typeof i=="function"?i(n):i.current=n}}function Rm(n){var i=n.alternate;i!==null&&(n.alternate=null,Rm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Xn],delete i[la],delete i[th],delete i[R0],delete i[C0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Cm(n){return n.tag===5||n.tag===3||n.tag===4}function Nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fl));else if(c!==4&&(n=n.child,n!==null))for(Uh(n,i,a),n=n.sibling;n!==null;)Uh(n,i,a),n=n.sibling}function zh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(zh(n,i,a),n=n.sibling;n!==null;)zh(n,i,a),n=n.sibling}var Rt=null,jn=!1;function ni(n,i,a){for(a=a.child;a!==null;)bm(n,i,a),a=a.sibling}function bm(n,i,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Vi,a)}catch{}switch(a.tag){case 5:jt||no(a,i);case 6:var c=Rt,d=jn;Rt=null,ni(n,i,a),Rt=c,jn=d,Rt!==null&&(jn?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(jn?(n=Rt,a=a.stateNode,n.nodeType===8?eh(n.parentNode,a):n.nodeType===1&&eh(n,a),Dn(n)):eh(Rt,a.stateNode));break;case 4:c=Rt,d=jn,Rt=a.stateNode.containerInfo,jn=!0,ni(n,i,a),Rt=c,jn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&jh(a,i,v),d=d.next}while(d!==c)}ni(n,i,a);break;case 1:if(!jt&&(no(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(x){ot(a,i,x)}ni(n,i,a);break;case 21:ni(n,i,a);break;case 22:a.mode&1?(jt=(c=jt)||a.memoizedState!==null,ni(n,i,a),jt=c):ni(n,i,a);break;default:ni(n,i,a)}}function Dm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new W0),i.forEach(function(c){var d=nw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Fn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,v=i,x=v;e:for(;x!==null;){switch(x.tag){case 5:Rt=x.stateNode,jn=!1;break e;case 3:Rt=x.stateNode.containerInfo,jn=!0;break e;case 4:Rt=x.stateNode.containerInfo,jn=!0;break e}x=x.return}if(Rt===null)throw Error(t(160));bm(m,v,d),Rt=null,jn=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(z){ot(d,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Vm(i,n),i=i.sibling}function Vm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fn(i,n),er(n),c&4){try{va(3,n,n.return),lu(3,n)}catch(de){ot(n,n.return,de)}try{va(5,n,n.return)}catch(de){ot(n,n.return,de)}}break;case 1:Fn(i,n),er(n),c&512&&a!==null&&no(a,a.return);break;case 5:if(Fn(i,n),er(n),c&512&&a!==null&&no(a,a.return),n.flags&32){var d=n.stateNode;try{Fr(d,"")}catch(de){ot(n,n.return,de)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,x=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{x==="input"&&m.type==="radio"&&m.name!=null&&Co(d,m),Fo(x,v);var z=Fo(x,m);for(v=0;v<N.length;v+=2){var Y=N[v],J=N[v+1];Y==="style"?Lo(d,J):Y==="dangerouslySetInnerHTML"?Vo(d,J):Y==="children"?Fr(d,J):te(d,Y,J,z)}switch(x){case"input":No(d,m);break;case"textarea":_s(d,m);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var oe=m.value;oe!=null?cr(d,!!m.multiple,oe,!1):Q!==!!m.multiple&&(m.defaultValue!=null?cr(d,!!m.multiple,m.defaultValue,!0):cr(d,!!m.multiple,m.multiple?[]:"",!1))}d[la]=m}catch(de){ot(n,n.return,de)}}break;case 6:if(Fn(i,n),er(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(de){ot(n,n.return,de)}}break;case 3:if(Fn(i,n),er(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(i.containerInfo)}catch(de){ot(n,n.return,de)}break;case 4:Fn(i,n),er(n);break;case 13:Fn(i,n),er(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(qh=Qe())),c&4&&Dm(n);break;case 22:if(Y=a!==null&&a.memoizedState!==null,n.mode&1?(jt=(z=jt)||Y,Fn(i,n),jt=z):Fn(i,n),er(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!Y&&(n.mode&1)!==0)for(ue=n,Y=n.child;Y!==null;){for(J=ue=Y;ue!==null;){switch(Q=ue,oe=Q.child,Q.tag){case 0:case 11:case 14:case 15:va(4,Q,Q.return);break;case 1:no(Q,Q.return);var ce=Q.stateNode;if(typeof ce.componentWillUnmount=="function"){c=Q,a=Q.return;try{i=c,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(de){ot(c,a,de)}}break;case 5:no(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Mm(J);continue}}oe!==null?(oe.return=Q,ue=oe):Mm(J)}Y=Y.sibling}e:for(Y=null,J=n;;){if(J.tag===5){if(Y===null){Y=J;try{d=J.stateNode,z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(x=J.stateNode,N=J.memoizedProps.style,v=N!=null&&N.hasOwnProperty("display")?N.display:null,x.style.display=Oo("display",v))}catch(de){ot(n,n.return,de)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(de){ot(n,n.return,de)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Fn(i,n),er(n),c&4&&Dm(n);break;case 21:break;default:Fn(i,n),er(n)}}function er(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Cm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Fr(d,""),c.flags&=-33);var m=Nm(n);zh(n,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,x=Nm(n);Uh(n,x,v);break;default:throw Error(t(161))}}catch(N){ot(n,n.return,N)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function G0(n,i,a){ue=n,Om(n)}function Om(n,i,a){for(var c=(n.mode&1)!==0;ue!==null;){var d=ue,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||au;if(!v){var x=d.alternate,N=x!==null&&x.memoizedState!==null||jt;x=au;var z=jt;if(au=v,(jt=N)&&!z)for(ue=d;ue!==null;)v=ue,N=v.child,v.tag===22&&v.memoizedState!==null?jm(d):N!==null?(N.return=v,ue=N):jm(d);for(;m!==null;)ue=m,Om(m),m=m.sibling;ue=d,au=x,jt=z}Lm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ue=m):Lm(n)}}function Lm(n){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:jt||lu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!jt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Mn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Mp(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Mp(i,v,a)}break;case 5:var x=i.stateNode;if(a===null&&i.flags&4){a=x;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Dn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||i.flags&512&&Fh(i)}catch(Q){ot(i,i.return,Q)}}if(i===n){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function Mm(n){for(;ue!==null;){var i=ue;if(i===n){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function jm(n){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{lu(4,i)}catch(N){ot(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(N){ot(i,d,N)}}var m=i.return;try{Fh(i)}catch(N){ot(i,m,N)}break;case 5:var v=i.return;try{Fh(i)}catch(N){ot(i,v,N)}}}catch(N){ot(i,i.return,N)}if(i===n){ue=null;break}var x=i.sibling;if(x!==null){x.return=i.return,ue=x;break}ue=i.return}}var Q0=Math.ceil,uu=ae.ReactCurrentDispatcher,Bh=ae.ReactCurrentOwner,Tn=ae.ReactCurrentBatchConfig,Ue=0,It=null,ht=null,Ct=0,hn=0,ro=Xr(0),_t=0,wa=null,Gi=0,cu=0,$h=0,Ea=null,en=null,qh=0,io=1/0,xr=null,hu=!1,Hh=null,ri=null,du=!1,ii=null,fu=0,Ta=0,Wh=null,pu=-1,mu=0;function Wt(){return(Ue&6)!==0?Qe():pu!==-1?pu:pu=Qe()}function si(n){return(n.mode&1)===0?1:(Ue&2)!==0&&Ct!==0?Ct&-Ct:b0.transition!==null?(mu===0&&(mu=Li()),mu):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:Yo(n.type)),n)}function Un(n,i,a,c){if(50<Ta)throw Ta=0,Wh=null,Error(t(185));$r(n,a,c),((Ue&2)===0||n!==It)&&(n===It&&((Ue&2)===0&&(cu|=a),_t===4&&oi(n,Ct)),tn(n,c),a===1&&Ue===0&&(i.mode&1)===0&&(io=Qe()+500,$l&&Zr()))}function tn(n,i){var a=n.callbackNode;fr(n,i);var c=Oi(n,n===It?Ct:0);if(c===0)a!==null&&Ho(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Ho(a),i===1)n.tag===0?N0(Um.bind(null,n)):xp(Um.bind(null,n)),A0(function(){(Ue&6)===0&&Zr()}),a=null;else{switch(Hr(c)){case 1:a=Di;break;case 4:a=Ur;break;case 16:a=mn;break;case 536870912:a=ml;break;default:a=mn}a=Gm(a,Fm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Fm(n,i){if(pu=-1,mu=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(so()&&n.callbackNode!==a)return null;var c=Oi(n,n===It?Ct:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=gu(n,c);else{i=c;var d=Ue;Ue|=2;var m=Bm();(It!==n||Ct!==i)&&(xr=null,io=Qe()+500,Yi(n,i));do try{J0();break}catch(x){zm(n,x)}while(!0);ch(),uu.current=m,Ue=d,ht!==null?i=0:(It=null,Ct=0,i=_t)}if(i!==0){if(i===2&&(d=on(n),d!==0&&(c=d,i=Kh(n,d))),i===1)throw a=wa,Yi(n,0),oi(n,c),tn(n,Qe()),a;if(i===6)oi(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Y0(d)&&(i=gu(n,c),i===2&&(m=on(n),m!==0&&(c=m,i=Kh(n,m))),i===1))throw a=wa,Yi(n,0),oi(n,c),tn(n,Qe()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Xi(n,en,xr);break;case 3:if(oi(n,c),(c&130023424)===c&&(i=qh+500-Qe(),10<i)){if(Oi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Zc(Xi.bind(null,n,en,xr),i);break}Xi(n,en,xr);break;case 4:if(oi(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var v=31-$t(c);m=1<<v,v=i[v],v>d&&(d=v),c&=~m}if(c=d,c=Qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Q0(c/1960))-c,10<c){n.timeoutHandle=Zc(Xi.bind(null,n,en,xr),c);break}Xi(n,en,xr);break;case 5:Xi(n,en,xr);break;default:throw Error(t(329))}}}return tn(n,Qe()),n.callbackNode===a?Fm.bind(null,n):null}function Kh(n,i){var a=Ea;return n.current.memoizedState.isDehydrated&&(Yi(n,i).flags|=256),n=gu(n,i),n!==2&&(i=en,en=a,i!==null&&Gh(i)),n}function Gh(n){en===null?en=n:en.push.apply(en,n)}function Y0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!On(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function oi(n,i){for(i&=~$h,i&=~cu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-$t(i),c=1<<a;n[a]=-1,i&=~c}}function Um(n){if((Ue&6)!==0)throw Error(t(327));so();var i=Oi(n,0);if((i&1)===0)return tn(n,Qe()),null;var a=gu(n,i);if(n.tag!==0&&a===2){var c=on(n);c!==0&&(i=c,a=Kh(n,c))}if(a===1)throw a=wa,Yi(n,0),oi(n,i),tn(n,Qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Xi(n,en,xr),tn(n,Qe()),null}function Qh(n,i){var a=Ue;Ue|=1;try{return n(i)}finally{Ue=a,Ue===0&&(io=Qe()+500,$l&&Zr())}}function Qi(n){ii!==null&&ii.tag===0&&(Ue&6)===0&&so();var i=Ue;Ue|=1;var a=Tn.transition,c=Ve;try{if(Tn.transition=null,Ve=1,n)return n()}finally{Ve=c,Tn.transition=a,Ue=i,(Ue&6)===0&&Zr()}}function Yh(){hn=ro.current,Ze(ro)}function Yi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,k0(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(sh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&zl();break;case 3:eo(),Ze(Xt),Ze(Ot),_h();break;case 5:gh(c);break;case 4:eo();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:hh(c.type._context);break;case 22:case 23:Yh()}a=a.return}if(It=n,ht=n=ai(n.current,null),Ct=hn=i,_t=0,wa=null,$h=cu=Gi=0,en=Ea=null,Hi!==null){for(i=0;i<Hi.length;i++)if(a=Hi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}a.pending=c}Hi=null}return n}function zm(n,i){do{var a=ht;try{if(ch(),Zl.current=ru,eu){for(var c=it.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}eu=!1}if(Ki=0,Tt=yt=it=null,pa=!1,ma=0,Bh.current=null,a===null||a.return===null){_t=1,wa=i,ht=null;break}e:{var m=n,v=a.return,x=a,N=i;if(i=Ct,x.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var z=N,Y=x,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=dm(v);if(oe!==null){oe.flags&=-257,fm(oe,v,x,m,i),oe.mode&1&&hm(m,z,i),i=oe,N=z;var ce=i.updateQueue;if(ce===null){var de=new Set;de.add(N),i.updateQueue=de}else ce.add(N);break e}else{if((i&1)===0){hm(m,z,i),Xh();break e}N=Error(t(426))}}else if(nt&&x.mode&1){var lt=dm(v);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),fm(lt,v,x,m,i),lh(to(N,x));break e}}m=N=to(N,x),_t!==4&&(_t=2),Ea===null?Ea=[m]:Ea.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var M=um(m,N,i);Lp(m,M);break e;case 1:x=N;var V=m.type,j=m.stateNode;if((m.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ri===null||!ri.has(j)))){m.flags|=65536,i&=-i,m.lanes|=i;var ee=cm(m,x,i);Lp(m,ee);break e}}m=m.return}while(m!==null)}qm(a)}catch(me){i=me,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function Bm(){var n=uu.current;return uu.current=ru,n===null?ru:n}function Xh(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||(Gi&268435455)===0&&(cu&268435455)===0||oi(It,Ct)}function gu(n,i){var a=Ue;Ue|=2;var c=Bm();(It!==n||Ct!==i)&&(xr=null,Yi(n,i));do try{X0();break}catch(d){zm(n,d)}while(!0);if(ch(),Ue=a,uu.current=c,ht!==null)throw Error(t(261));return It=null,Ct=0,_t}function X0(){for(;ht!==null;)$m(ht)}function J0(){for(;ht!==null&&!fl();)$m(ht)}function $m(n){var i=Km(n.alternate,n,hn);n.memoizedProps=n.pendingProps,i===null?qm(n):ht=i,Bh.current=null}function qm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=q0(a,i,hn),a!==null){ht=a;return}}else{if(a=H0(a,i),a!==null){a.flags&=32767,ht=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=n}while(i!==null);_t===0&&(_t=5)}function Xi(n,i,a){var c=Ve,d=Tn.transition;try{Tn.transition=null,Ve=1,Z0(n,i,a,c)}finally{Tn.transition=d,Ve=c}return null}function Z0(n,i,a,c){do so();while(ii!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Ke(n,m),n===It&&(ht=It=null,Ct=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||du||(du=!0,Gm(mn,function(){return so(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Tn.transition,Tn.transition=null;var v=Ve;Ve=1;var x=Ue;Ue|=4,Bh.current=null,K0(n,a),Vm(a,n),v0(Xc),Kr=!!Yc,Xc=Yc=null,n.current=a,G0(a),Vc(),Ue=x,Ve=v,Tn.transition=m}else n.current=a;if(du&&(du=!1,ii=n,fu=d),m=n.pendingLanes,m===0&&(ri=null),gl(a.stateNode),tn(n,Qe()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(hu)throw hu=!1,n=Hh,Hh=null,n;return(fu&1)!==0&&n.tag!==0&&so(),m=n.pendingLanes,(m&1)!==0?n===Wh?Ta++:(Ta=0,Wh=n):Ta=0,Zr(),null}function so(){if(ii!==null){var n=Hr(fu),i=Tn.transition,a=Ve;try{if(Tn.transition=null,Ve=16>n?16:n,ii===null)var c=!1;else{if(n=ii,ii=null,fu=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,ue=n.current;ue!==null;){var m=ue,v=m.child;if((ue.flags&16)!==0){var x=m.deletions;if(x!==null){for(var N=0;N<x.length;N++){var z=x[N];for(ue=z;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:va(8,Y,m)}var J=Y.child;if(J!==null)J.return=Y,ue=J;else for(;ue!==null;){Y=ue;var Q=Y.sibling,oe=Y.return;if(Rm(Y),Y===z){ue=null;break}if(Q!==null){Q.return=oe,ue=Q;break}ue=oe}}}var ce=m.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var lt=de.sibling;de.sibling=null,de=lt}while(de!==null)}}ue=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,ue=v;else e:for(;ue!==null;){if(m=ue,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:va(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,ue=M;break e}ue=m.return}}var V=n.current;for(ue=V;ue!==null;){v=ue;var j=v.child;if((v.subtreeFlags&2064)!==0&&j!==null)j.return=v,ue=j;else e:for(v=V;ue!==null;){if(x=ue,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:lu(9,x)}}catch(me){ot(x,x.return,me)}if(x===v){ue=null;break e}var ee=x.sibling;if(ee!==null){ee.return=x.return,ue=ee;break e}ue=x.return}}if(Ue=d,Zr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Vi,n)}catch{}c=!0}return c}finally{Ve=a,Tn.transition=i}}return!1}function Hm(n,i,a){i=to(a,i),i=um(n,i,1),n=ti(n,i,1),i=Wt(),n!==null&&($r(n,1,i),tn(n,i))}function ot(n,i,a){if(n.tag===3)Hm(n,n,a);else for(;i!==null;){if(i.tag===3){Hm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ri===null||!ri.has(c))){n=to(a,n),n=cm(i,n,1),i=ti(i,n,1),n=Wt(),i!==null&&($r(i,1,n),tn(i,n));break}}i=i.return}}function ew(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Wt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Ct&a)===a&&(_t===4||_t===3&&(Ct&130023424)===Ct&&500>Qe()-qh?Yi(n,0):$h|=a),tn(n,i)}function Wm(n,i){i===0&&((n.mode&1)===0?i=1:(i=Ps,Ps<<=1,(Ps&130023424)===0&&(Ps=4194304)));var a=Wt();n=Tr(n,i),n!==null&&($r(n,i,a),tn(n,a))}function tw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Wm(n,a)}function nw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Wm(n,a)}var Km;Km=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Xt.current)Zt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,$0(n,i,a);Zt=(n.flags&131072)!==0}else Zt=!1,nt&&(i.flags&1048576)!==0&&kp(i,Hl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ou(n,i),n=i.pendingProps;var d=Ks(i,Ot.current);Zs(i,a),d=Eh(null,i,c,n,d,a);var m=Th();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(c)?(m=!0,Bl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ph(i),d.updater=iu,i.stateNode=d,d._reactInternals=i,Ph(i,c,n,a),i=bh(null,i,c,!0,m,a)):(i.tag=0,nt&&m&&ih(i),Ht(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ou(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=iw(c),n=Mn(c,n),d){case 0:i=Nh(null,i,c,n,a);break e;case 1:i=vm(null,i,c,n,a);break e;case 11:i=pm(null,i,c,n,a);break e;case 14:i=mm(null,i,c,Mn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),Nh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),vm(n,i,c,d,a);case 3:e:{if(wm(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Op(n,i),Xl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=to(Error(t(423)),i),i=Em(n,i,c,a,d);break e}else if(c!==d){d=to(Error(t(424)),i),i=Em(n,i,c,a,d);break e}else for(cn=Yr(i.stateNode.containerInfo.firstChild),un=i,nt=!0,Ln=null,a=Dp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ys(),c===d){i=Sr(n,i,a);break e}Ht(n,i,c,a)}i=i.child}return i;case 5:return jp(i),n===null&&ah(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,v=d.children,Jc(c,d)?v=null:m!==null&&Jc(c,m)&&(i.flags|=32),_m(n,i),Ht(n,i,v,a),i.child;case 6:return n===null&&ah(i),null;case 13:return Tm(n,i,a);case 4:return mh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Xs(i,null,c,a):Ht(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),pm(n,i,c,d,a);case 7:return Ht(n,i,i.pendingProps,a),i.child;case 8:return Ht(n,i,i.pendingProps.children,a),i.child;case 12:return Ht(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,v=d.value,Ye(Gl,c._currentValue),c._currentValue=v,m!==null)if(On(m.value,v)){if(m.children===d.children&&!Xt.current){i=Sr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var x=m.dependencies;if(x!==null){v=m.child;for(var N=x.firstContext;N!==null;){if(N.context===c){if(m.tag===1){N=Ir(-1,a&-a),N.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?N.next=N:(N.next=Y.next,Y.next=N),z.pending=N}}m.lanes|=a,N=m.alternate,N!==null&&(N.lanes|=a),dh(m.return,a,i),x.lanes|=a;break}N=N.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,x=v.alternate,x!==null&&(x.lanes|=a),dh(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Ht(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Zs(i,a),d=wn(d),c=c(d),i.flags|=1,Ht(n,i,c,a),i.child;case 14:return c=i.type,d=Mn(c,i.pendingProps),d=Mn(c.type,d),mm(n,i,c,d,a);case 15:return gm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Mn(c,d),ou(n,i),i.tag=1,Jt(c)?(n=!0,Bl(i)):n=!1,Zs(i,a),am(i,c,d),Ph(i,c,d,a),bh(null,i,c,!0,n,a);case 19:return Sm(n,i,a);case 22:return ym(n,i,a)}throw Error(t(156,i.tag))};function Gm(n,i){return ks(n,i)}function rw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,i,a,c){return new rw(n,i,a,c)}function Jh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function iw(n){if(typeof n=="function")return Jh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===Xe)return 14}return 2}function ai(n,i){var a=n.alternate;return a===null?(a=In(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function yu(n,i,a,c,d,m){var v=2;if(c=n,typeof n=="function")Jh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case C:return Ji(a.children,d,m,i);case I:v=8,d|=8;break;case S:return n=In(12,a,i,d|2),n.elementType=S,n.lanes=m,n;case k:return n=In(13,a,i,d),n.elementType=k,n.lanes=m,n;case Le:return n=In(19,a,i,d),n.elementType=Le,n.lanes=m,n;case Pe:return _u(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:v=10;break e;case D:v=9;break e;case O:v=11;break e;case Xe:v=14;break e;case be:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=In(v,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function Ji(n,i,a,c){return n=In(7,n,c,i),n.lanes=a,n}function _u(n,i,a,c){return n=In(22,n,c,i),n.elementType=Pe,n.lanes=a,n.stateNode={isHidden:!1},n}function Zh(n,i,a){return n=In(6,n,null,i),n.lanes=a,n}function ed(n,i,a){return i=In(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function sw(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Br(0),this.expirationTimes=Br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function td(n,i,a,c,d,m,v,x,N){return n=new sw(n,i,a,x,N),i===1?(i=1,m===!0&&(i|=8)):i=0,m=In(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(m),n}function ow(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Qm(n){if(!n)return Jr;n=n._reactInternals;e:{if(Pn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Jt(a))return Ip(n,a,i)}return i}function Ym(n,i,a,c,d,m,v,x,N){return n=td(a,c,!0,n,d,m,v,x,N),n.context=Qm(null),a=n.current,c=Wt(),d=si(a),m=Ir(c,d),m.callback=i??null,ti(a,m,d),n.current.lanes=d,$r(n,d,c),tn(n,c),n}function vu(n,i,a,c){var d=i.current,m=Wt(),v=si(d);return a=Qm(a),i.context===null?i.context=a:i.pendingContext=a,i=Ir(m,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ti(d,i,v),n!==null&&(Un(n,d,v,m),Yl(n,d,v)),v}function wu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Xm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function nd(n,i){Xm(n,i),(n=n.alternate)&&Xm(n,i)}function aw(){return null}var Jm=typeof reportError=="function"?reportError:function(n){console.error(n)};function rd(n){this._internalRoot=n}Eu.prototype.render=rd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));vu(n,i,null,null)},Eu.prototype.unmount=rd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Qi(function(){vu(null,n,null,null)}),i[_r]=null}};function Eu(n){this._internalRoot=n}Eu.prototype.unstable_scheduleHydration=function(n){if(n){var i=El();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Kn.length&&i!==0&&i<Kn[a].priority;a++);Kn.splice(a,0,n),a===0&&Sl(n)}};function id(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Tu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function lw(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var z=wu(v);m.call(z)}}var v=Ym(i,c,n,0,null,!1,!1,"",Zm);return n._reactRootContainer=v,n[_r]=v.current,oa(n.nodeType===8?n.parentNode:n),Qi(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var x=c;c=function(){var z=wu(N);x.call(z)}}var N=td(n,0,!1,null,null,!1,!1,"",Zm);return n._reactRootContainer=N,n[_r]=N.current,oa(n.nodeType===8?n.parentNode:n),Qi(function(){vu(i,N,a,c)}),N}function Iu(n,i,a,c,d){var m=a._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var x=d;d=function(){var N=wu(v);x.call(N)}}vu(i,v,n,d)}else v=lw(a,i,n,d,c);return wu(v)}vl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=zr(i.pendingLanes);a!==0&&(qr(i,a|1),tn(i,Qe()),(Ue&6)===0&&(io=Qe()+500,Zr()))}break;case 13:Qi(function(){var c=Tr(n,1);if(c!==null){var d=Wt();Un(c,n,1,d)}}),nd(n,1)}},Rs=function(n){if(n.tag===13){var i=Tr(n,134217728);if(i!==null){var a=Wt();Un(i,n,134217728,a)}nd(n,134217728)}},wl=function(n){if(n.tag===13){var i=si(n),a=Tr(n,i);if(a!==null){var c=Wt();Un(a,n,i,c)}nd(n,i)}},El=function(){return Ve},Tl=function(n,i){var a=Ve;try{return Ve=n,i()}finally{Ve=a}},ws=function(n,i,a){switch(i){case"input":if(No(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=Ul(c);if(!d)throw Error(t(90));ps(c),No(c,d)}}}break;case"textarea":_s(n,a);break;case"select":i=a.value,i!=null&&cr(n,!!a.multiple,i,!1)}},Ri=Qh,zo=Qi;var uw={usingClientEntryPoint:!1,Events:[ua,Hs,Ul,Hn,Uo,Qh]},Ia={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cw={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qo(n),n===null?null:n.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||aw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Vi=Su.inject(cw),sn=Su}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uw,nn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(i))throw Error(t(200));return ow(n,i,null,a)},nn.createRoot=function(n,i){if(!id(n))throw Error(t(299));var a=!1,c="",d=Jm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=td(n,1,!1,null,null,a,!1,c,d),n[_r]=i.current,oa(n.nodeType===8?n.parentNode:n),new rd(i)},nn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=qo(i),n=n===null?null:n.stateNode,n},nn.flushSync=function(n){return Qi(n)},nn.hydrate=function(n,i,a){if(!Tu(i))throw Error(t(200));return Iu(null,n,i,!0,a)},nn.hydrateRoot=function(n,i,a){if(!id(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",v=Jm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=Ym(i,null,n,1,a??null,d,!1,m,v),n[_r]=i.current,oa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Eu(i)},nn.render=function(n,i,a){if(!Tu(i))throw Error(t(200));return Iu(null,n,i,!1,a)},nn.unmountComponentAtNode=function(n){if(!Tu(n))throw Error(t(40));return n._reactRootContainer?(Qi(function(){Iu(null,null,n,!1,function(){n._reactRootContainer=null,n[_r]=null})}),!0):!1},nn.unstable_batchedUpdates=Qh,nn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Tu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Iu(n,i,a,!1,c)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var ag;function _w(){if(ag)return ad.exports;ag=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ad.exports=yw(),ad.exports}var lg;function vw(){if(lg)return xu;lg=1;var r=_w();return xu.createRoot=r.createRoot,xu.hydrateRoot=r.hydrateRoot,xu}var ww=vw();const Ew=Oy(ww);var ug={};const Ly=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Tw=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},My={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,w=l>>2,A=(l&3)<<4|f>>4;let P=(f&15)<<2|_>>6,F=_&63;g||(F=64,h||(P=64)),s.push(t[w],t[A],t[P],t[F])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ly(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Tw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||_==null||A==null)throw new Iw;const P=l<<2|f>>4;if(s.push(P),_!==64){const F=f<<4&240|_>>2;if(s.push(F),A!==64){const B=_<<6&192|A;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sw=function(r){const e=Ly(r);return My.encodeByteArray(e,!0)},Wu=function(r){return Sw(r).replace(/\./g,"")},jy=function(r){try{return My.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kw=()=>xw().__FIREBASE_DEFAULTS__,Aw=()=>{if(typeof process>"u"||typeof ug>"u")return;const r=ug.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Pw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jy(r[1]);return e&&JSON.parse(e)},cc=()=>{try{return kw()||Aw()||Pw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Fy=r=>{var e,t;return(t=(e=cc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Rw=r=>{const e=Fy(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Uy=()=>{var r;return(r=cc())===null||r===void 0?void 0:r.config},zy=r=>{var e;return(e=cc())===null||e===void 0?void 0:e[`_${r}`]};class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Nw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Wu(JSON.stringify(t)),Wu(JSON.stringify(h)),""].join(".")}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function Dw(){var r;const e=(r=cc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ow(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mw(){const r=Bt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jw(){return!Dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fw(){try{return typeof indexedDB=="object"}catch{return!1}}function Uw(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const zw="FirebaseError";class Lr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=zw,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?Bw(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Lr(o,f,s)}}function Bw(r,e){return r.replace($w,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $w=/\{\$([^}]+)}/g;function qw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ku(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(cg(l)&&cg(h)){if(!Ku(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function cg(r){return r!==null&&typeof r=="object"}function Ja(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ka(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Aa(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function Hw(r,e){const t=new Ww(r,e);return t.subscribe.bind(t)}class Ww{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Kw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=cd),o.error===void 0&&(o.error=cd),o.complete===void 0&&(o.complete=cd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kw(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function cd(){}function kt(r){return r&&r._delegate?r._delegate:r}class os{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zi="[DEFAULT]";class Gw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Cw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yw(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Qw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qw(r){return r===Zi?void 0:r}function Yw(r){return r.instantiationMode==="EAGER"}class Xw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Jw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Zw=Oe.INFO,eE={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},tE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=eE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xd{constructor(e){this.name=e,this._logLevel=Zw,this._logHandler=tE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const nE=(r,e)=>e.some(t=>r instanceof t);let hg,dg;function rE(){return hg||(hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iE(){return dg||(dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const By=new WeakMap,Id=new WeakMap,$y=new WeakMap,hd=new WeakMap,Jd=new WeakMap;function sE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(mi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&By.set(t,r)}).catch(()=>{}),Jd.set(e,r),e}function oE(r){if(Id.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Id.set(r,e)}let Sd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Id.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$y.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function aE(r){Sd=r(Sd)}function lE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(dd(this),e,...t);return $y.set(s,e.sort?e.sort():[e]),mi(s)}:iE().includes(r)?function(...e){return r.apply(dd(this),e),mi(By.get(this))}:function(...e){return mi(r.apply(dd(this),e))}}function uE(r){return typeof r=="function"?lE(r):(r instanceof IDBTransaction&&oE(r),nE(r,rE())?new Proxy(r,Sd):r)}function mi(r){if(r instanceof IDBRequest)return sE(r);if(hd.has(r))return hd.get(r);const e=uE(r);return e!==r&&(hd.set(r,e),Jd.set(e,r)),e}const dd=r=>Jd.get(r);function cE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=mi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(mi(h.result),g.oldVersion,g.newVersion,mi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const hE=["get","getKey","getAll","getAllKeys","count"],dE=["put","add","delete","clear"],fd=new Map;function fg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=dE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hE.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),o&&g.done]))[0]};return fd.set(e,l),l}aE(r=>({...r,get:(e,t,s)=>fg(e,t)||r.get(e,t,s),has:(e,t)=>!!fg(e,t)||r.has(e,t)}));class fE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function pE(r){const e=r.getComponent();return e?.type==="VERSION"}const xd="@firebase/app",pg="0.10.13";const Nr=new Xd("@firebase/app"),mE="@firebase/app-compat",gE="@firebase/analytics-compat",yE="@firebase/analytics",_E="@firebase/app-check-compat",vE="@firebase/app-check",wE="@firebase/auth",EE="@firebase/auth-compat",TE="@firebase/database",IE="@firebase/data-connect",SE="@firebase/database-compat",xE="@firebase/functions",kE="@firebase/functions-compat",AE="@firebase/installations",PE="@firebase/installations-compat",RE="@firebase/messaging",CE="@firebase/messaging-compat",NE="@firebase/performance",bE="@firebase/performance-compat",DE="@firebase/remote-config",VE="@firebase/remote-config-compat",OE="@firebase/storage",LE="@firebase/storage-compat",ME="@firebase/firestore",jE="@firebase/vertexai-preview",FE="@firebase/firestore-compat",UE="firebase",zE="10.14.1";const kd="[DEFAULT]",BE={[xd]:"fire-core",[mE]:"fire-core-compat",[yE]:"fire-analytics",[gE]:"fire-analytics-compat",[vE]:"fire-app-check",[_E]:"fire-app-check-compat",[wE]:"fire-auth",[EE]:"fire-auth-compat",[TE]:"fire-rtdb",[IE]:"fire-data-connect",[SE]:"fire-rtdb-compat",[xE]:"fire-fn",[kE]:"fire-fn-compat",[AE]:"fire-iid",[PE]:"fire-iid-compat",[RE]:"fire-fcm",[CE]:"fire-fcm-compat",[NE]:"fire-perf",[bE]:"fire-perf-compat",[DE]:"fire-rc",[VE]:"fire-rc-compat",[OE]:"fire-gcs",[LE]:"fire-gcs-compat",[ME]:"fire-fst",[FE]:"fire-fst-compat",[jE]:"fire-vertex","fire-js":"fire-js",[UE]:"fire-js-all"};const Gu=new Map,$E=new Map,Ad=new Map;function mg(r,e){try{r.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function mo(r){const e=r.name;if(Ad.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,r);for(const t of Gu.values())mg(t,r);for(const t of $E.values())mg(t,r);return!0}function Zd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r.settings!==void 0}const qE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Xa("app","Firebase",qE);class HE{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const Io=zE;function qy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw gi.create("bad-app-name",{appName:String(o)});if(t||(t=Uy()),!t)throw gi.create("no-options");const l=Gu.get(o);if(l){if(Ku(t,l.options)&&Ku(s,l.config))return l;throw gi.create("duplicate-app",{appName:o})}const h=new Xw(o);for(const g of Ad.values())h.addComponent(g);const f=new HE(t,s,h);return Gu.set(o,f),f}function Hy(r=kd){const e=Gu.get(r);if(!e&&r===kd&&Uy())return qy();if(!e)throw gi.create("no-app",{appName:r});return e}function yi(r,e,t){var s;let o=(s=BE[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}mo(new os(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const WE="firebase-heartbeat-database",KE=1,ja="firebase-heartbeat-store";let pd=null;function Wy(){return pd||(pd=cE(WE,KE,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ja)}catch(t){console.warn(t)}}}}).catch(r=>{throw gi.create("idb-open",{originalErrorMessage:r.message})})),pd}async function GE(r){try{const t=(await Wy()).transaction(ja),s=await t.objectStore(ja).get(Ky(r));return await t.done,s}catch(e){if(e instanceof Lr)Nr.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(t.message)}}}async function gg(r,e){try{const s=(await Wy()).transaction(ja,"readwrite");await s.objectStore(ja).put(e,Ky(r)),await s.done}catch(t){if(t instanceof Lr)Nr.warn(t.message);else{const s=gi.create("idb-set",{originalErrorMessage:t?.message});Nr.warn(s.message)}}}function Ky(r){return`${r.name}!${r.options.appId}`}const QE=1024,YE=720*60*60*1e3;class XE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZE(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=yg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=YE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yg(),{heartbeatsToSend:s,unsentEntries:o}=JE(this._heartbeatsCache.heartbeats),l=Wu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Nr.warn(t),""}}}function yg(){return new Date().toISOString().substring(0,10)}function JE(r,e=QE){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),_g(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_g(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ZE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fw()?Uw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GE(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return gg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return gg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _g(r){return Wu(JSON.stringify({version:2,heartbeats:r})).length}function eT(r){mo(new os("platform-logger",e=>new fE(e),"PRIVATE")),mo(new os("heartbeat",e=>new XE(e),"PRIVATE")),yi(xd,pg,r),yi(xd,pg,"esm2017"),yi("fire-js","")}eT("");function ef(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function Gy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tT=Gy,Qy=new Xa("auth","Firebase",Gy());const Qu=new Xd("@firebase/auth");function nT(r,...e){Qu.logLevel<=Oe.WARN&&Qu.warn(`Auth (${Io}): ${r}`,...e)}function Ou(r,...e){Qu.logLevel<=Oe.ERROR&&Qu.error(`Auth (${Io}): ${r}`,...e)}function xn(r,...e){throw nf(r,...e)}function zn(r,...e){return nf(r,...e)}function tf(r,e,t){const s=Object.assign(Object.assign({},tT()),{[e]:t});return new Xa("auth","Firebase",s).create(e,{appName:r.name})}function nr(r){return tf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rT(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&xn(r,"argument-error"),tf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nf(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Qy.create(r,...e)}function Ee(r,e,...t){if(!r)throw nf(e,...t)}function Ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ou(e),new Error(e)}function br(r,e){r||Ar(e)}function Pd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iT(){return vg()==="http:"||vg()==="https:"}function vg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function sT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iT()||Ow()||"connection"in navigator)?navigator.onLine:!0}function oT(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Za{constructor(e,t){this.shortDelay=e,this.longDelay=t,br(t>e,"Short delay should be less than long delay!"),this.isMobile=bw()||Lw()}get(){return sT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rf(r,e){br(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Yy{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lT=new Za(3e4,6e4);function Ti(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ii(r,e,t,s,o={}){return Xy(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=Ja(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:g},l);return Vw()||(_.referrerPolicy="no-referrer"),Yy.fetch()(Jy(r,r.config.apiHost,t,f),_)})}async function Xy(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},aT),e);try{const o=new cT(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw ku(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,_]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ku(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw ku(r,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw tf(r,w,_);xn(r,w)}}catch(o){if(o instanceof Lr)throw o;xn(r,"network-request-failed",{message:String(o)})}}async function el(r,e,t,s,o={}){const l=await Ii(r,e,t,s,o);return"mfaPendingCredential"in l&&xn(r,"multi-factor-auth-required",{_serverResponse:l}),l}function Jy(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?rf(r.config,o):`${r.config.apiScheme}://${o}`}function uT(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cT{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),lT.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ku(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=zn(r,e,s);return o.customData._tokenResponse=t,o}function wg(r){return r!==void 0&&r.enterprise!==void 0}class hT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function dT(r,e){return Ii(r,"GET","/v2/recaptchaConfig",Ti(r,e))}async function fT(r,e){return Ii(r,"POST","/v1/accounts:delete",e)}async function Zy(r,e){return Ii(r,"POST","/v1/accounts:lookup",e)}function ba(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pT(r,e=!1){const t=kt(r),s=await t.getIdToken(e),o=sf(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:s,authTime:ba(md(o.auth_time)),issuedAtTime:ba(md(o.iat)),expirationTime:ba(md(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function md(r){return Number(r)*1e3}function sf(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const o=jy(t);return o?JSON.parse(o):(Ou("Failed to decode base64 JWT payload"),null)}catch(o){return Ou("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Eg(r){const e=sf(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fa(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Lr&&mT(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mT({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class gT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yu(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Fa(r,Zy(t,{idToken:s}));Ee(o?.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?e_(l.providerUserInfo):[],f=_T(r.providerData,h),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!f?.length,w=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Rd(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,A)}async function yT(r){const e=kt(r);await Yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _T(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function e_(r){return r.map(e=>{var{providerId:t}=e,s=ef(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function vT(r,e){const t=await Xy(r,{},async()=>{const s=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=Jy(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Yy.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wT(r,e){return Ii(r,"POST","/v2/accounts:revokeToken",Ti(r,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Eg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Eg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await vT(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new uo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function ui(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=ef(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pT(this,e)}reload(){return yT(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Yu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Fa(this,fT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,g,_,w;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,P=(o=t.email)!==null&&o!==void 0?o:void 0,F=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,B=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,$=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,ie=(_=t.createdAt)!==null&&_!==void 0?_:void 0,ne=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:te,emailVerified:ae,isAnonymous:Ae,providerData:ge,stsTokenManager:C}=t;Ee(te&&C,e,"internal-error");const I=uo.fromJSON(this.name,C);Ee(typeof te=="string",e,"internal-error"),ui(A,e.name),ui(P,e.name),Ee(typeof ae=="boolean",e,"internal-error"),Ee(typeof Ae=="boolean",e,"internal-error"),ui(F,e.name),ui(B,e.name),ui(H,e.name),ui($,e.name),ui(ie,e.name),ui(ne,e.name);const S=new Pr({uid:te,auth:e,email:P,emailVerified:ae,displayName:A,isAnonymous:Ae,photoURL:B,phoneNumber:F,tenantId:H,stsTokenManager:I,createdAt:ie,lastLoginAt:ne});return ge&&Array.isArray(ge)&&(S.providerData=ge.map(R=>Object.assign({},R))),$&&(S._redirectEventId=$),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new uo;o.updateFromServerResponse(t);const l=new Pr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yu(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?e_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new uo;f.updateFromIdToken(s);const g=new Pr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Rd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,_),g}}const Tg=new Map;function Rr(r){br(r instanceof Function,"Expected a class definition");let e=Tg.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Tg.set(r,e),e)}class t_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}t_.type="NONE";const Ig=t_;function Lu(r,e,t){return`firebase:${r}:${e}:${t}`}class co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Lu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Lu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new co(Rr(Ig),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Rr(Ig);const h=Lu(s,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const w=await _._get(h);if(w){const A=Pr._fromJSON(e,w);_!==l&&(f=A),l=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new co(l,e,s):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new co(l,e,s))}}function Sg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a_(e))return"Blackberry";if(l_(e))return"Webos";if(r_(e))return"Safari";if((e.includes("chrome/")||i_(e))&&!e.includes("edge/"))return"Chrome";if(o_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function n_(r=Bt()){return/firefox\//i.test(r)}function r_(r=Bt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i_(r=Bt()){return/crios\//i.test(r)}function s_(r=Bt()){return/iemobile/i.test(r)}function o_(r=Bt()){return/android/i.test(r)}function a_(r=Bt()){return/blackberry/i.test(r)}function l_(r=Bt()){return/webos/i.test(r)}function of(r=Bt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ET(r=Bt()){var e;return of(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TT(){return Mw()&&document.documentMode===10}function u_(r=Bt()){return of(r)||o_(r)||l_(r)||a_(r)||/windows phone/i.test(r)||s_(r)}function c_(r,e=[]){let t;switch(r){case"Browser":t=Sg(Bt());break;case"Worker":t=`${Sg(Bt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${s}`}class IT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function ST(r,e={}){return Ii(r,"GET","/v2/passwordPolicy",Ti(r,e))}const xT=6;class kT{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:xT,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class AT{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xg(this),this.idTokenSubscription=new xg(this),this.beforeStateQueue=new IT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zy(this,{idToken:e}),s=await Pr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&g?.user&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(nr(this));const t=e?kt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ST(this),t=new kT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await wT(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&nT(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Mr(r){return kt(r)}class xg{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hw(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PT(r){hc=r}function h_(r){return hc.loadJS(r)}function RT(){return hc.recaptchaEnterpriseScript}function CT(){return hc.gapiScript}function NT(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const bT="recaptcha-enterprise",DT="NO_RECAPTCHA";class VT{constructor(e){this.type=bT,this.auth=Mr(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{dT(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const _=new hT(g);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,h(_.siteKey)}}).catch(g=>{f(g)})})}function o(l,h,f){const g=window.grecaptcha;wg(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(_=>{h(_)}).catch(()=>{h(DT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,h)=>{s(this.auth).then(f=>{if(!t&&wg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=RT();g.length!==0&&(g+=f),h_(g).then(()=>{o(f,l,h)}).catch(_=>{h(_)})}}).catch(f=>{h(f)})})}}async function kg(r,e,t,s=!1){const o=new VT(r);let l;try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const h=Object.assign({},e);return s?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Cd(r,e,t,s){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await kg(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kg(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(l)})}function OT(r,e){const t=Zd(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ku(l,e??{}))return o;xn(o,"already-initialized")}return t.initialize({options:e})}function LT(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function MT(r,e,t){const s=Mr(r);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=d_(e),{host:h,port:f}=jT(e),g=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${h}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),FT()}function d_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function jT(r){const e=d_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Ag(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Ag(h)}}}function Ag(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function FT(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class af{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function UT(r,e){return Ii(r,"POST","/v1/accounts:signUp",e)}async function zT(r,e){return el(r,"POST","/v1/accounts:signInWithPassword",Ti(r,e))}async function BT(r,e){return el(r,"POST","/v1/accounts:signInWithEmailLink",Ti(r,e))}async function $T(r,e){return el(r,"POST","/v1/accounts:signInWithEmailLink",Ti(r,e))}class Ua extends af{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ua(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ua(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,t,"signInWithPassword",zT);case"emailLink":return BT(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,s,"signUpPassword",UT);case"emailLink":return $T(e,{idToken:t,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(r,e){return el(r,"POST","/v1/accounts:signInWithIdp",Ti(r,e))}const qT="http://localhost";class as extends af{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=ef(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new as(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ho(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ho(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ho(e,t)}buildRequest(){const e={requestUri:qT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ja(t)}return e}}function HT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WT(r){const e=ka(Aa(r)).link,t=e?ka(Aa(e)).deep_link_id:null,s=ka(Aa(r)).deep_link_id;return(s?ka(Aa(s)).link:null)||s||t||e||r}class lf{constructor(e){var t,s,o,l,h,f;const g=ka(Aa(e)),_=(t=g.apiKey)!==null&&t!==void 0?t:null,w=(s=g.oobCode)!==null&&s!==void 0?s:null,A=HT((o=g.mode)!==null&&o!==void 0?o:null);Ee(_&&w&&A,"argument-error"),this.apiKey=_,this.operation=A,this.code=w,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=g.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=g.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=WT(e);try{return new lf(t)}catch{return null}}}class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,t){return Ua._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=lf.parseLink(t);return Ee(s,"argument-error"),Ua._fromEmailAndCode(e,s.code,s.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tl extends uf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ci extends tl{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";class kr extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return as._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return kr.credential(t,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";class hi extends tl{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";class di extends tl{constructor(){super("twitter.com")}static credential(e,t){return as._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return di.credential(t,s)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";async function f_(r,e){return el(r,"POST","/v1/accounts:signUp",Ti(r,e))}class Dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Pr._fromIdTokenResponse(e,s,o),h=Pg(s);return new Dr({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Pg(s);return new Dr({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Pg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function KT(r){var e;if(Sn(r.app))return Promise.reject(nr(r));const t=Mr(r);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Dr({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await f_(t,{returnSecureToken:!0}),o=await Dr._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}class Xu extends Lr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Xu(e,t,s,o)}}function p_(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(r,l,e,s):l})}async function GT(r,e,t=!1){const s=await Fa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Dr._forOperation(r,"link",s)}async function QT(r,e,t=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(nr(s));const o="reauthenticate";try{const l=await Fa(r,p_(s,o,e,r),t);Ee(l.idToken,s,"internal-error");const h=sf(l.idToken);Ee(h,s,"internal-error");const{sub:f}=h;return Ee(r.uid===f,s,"user-mismatch"),Dr._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&xn(s,"user-mismatch"),l}}async function m_(r,e,t=!1){if(Sn(r.app))return Promise.reject(nr(r));const s="signIn",o=await p_(r,s,e),l=await Dr._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function YT(r,e){return m_(Mr(r),e)}async function g_(r){const e=Mr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XT(r,e,t){if(Sn(r.app))return Promise.reject(nr(r));const s=Mr(r),h=await Cd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f_).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&g_(r),g}),f=await Dr._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function JT(r,e,t){return Sn(r.app)?Promise.reject(nr(r)):YT(kt(r),So.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&g_(r),s})}function ZT(r,e,t,s){return kt(r).onIdTokenChanged(e,t,s)}function eI(r,e,t){return kt(r).beforeAuthStateChanged(e,t)}function tI(r,e,t,s){return kt(r).onAuthStateChanged(e,t,s)}function Rg(r){return kt(r).signOut()}const Ju="__sak";class y_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ju,"1"),this.storage.removeItem(Ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nI=1e3,rI=10;class __ extends y_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);TT()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}__.type="LOCAL";const iI=__;class v_ extends y_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}v_.type="SESSION";const w_=v_;function sI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new dc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async _=>_(t.origin,l)),g=await sI(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dc.receivers=[];function cf(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class oI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const _=cf("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const P=A;if(P.data.eventId===_)switch(P.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(P.data.response);break;default:clearTimeout(w),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function rr(){return window}function aI(r){rr().location.href=r}function E_(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function lI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function cI(){return E_()?self:null}const T_="firebaseLocalStorageDb",hI=1,Zu="firebaseLocalStorage",I_="fbase_key";class nl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fc(r,e){return r.transaction([Zu],e?"readwrite":"readonly").objectStore(Zu)}function dI(){const r=indexedDB.deleteDatabase(T_);return new nl(r).toPromise()}function Nd(){const r=indexedDB.open(T_,hI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Zu,{keyPath:I_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Zu)?e(s):(s.close(),await dI(),e(await Nd()))})})}async function Cg(r,e,t){const s=fc(r,!0).put({[I_]:e,value:t});return new nl(s).toPromise()}async function fI(r,e){const t=fc(r,!1).get(e),s=await new nl(t).toPromise();return s===void 0?null:s.value}function Ng(r,e){const t=fc(r,!0).delete(e);return new nl(t).toPromise()}const pI=800,mI=3;class S_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>mI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dc._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new oI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nd();return await Cg(e,Ju,"1"),await Ng(e,Ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>fI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ng(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=fc(o,!1).getAll();return new nl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S_.type="LOCAL";const gI=S_;new Za(3e4,6e4);function x_(r,e){return e?Rr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hf extends af{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yI(r){return m_(r.auth,new hf(r),r.bypassAuthState)}function _I(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),QT(t,new hf(r),r.bypassAuthState)}async function vI(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),GT(t,new hf(r),r.bypassAuthState)}class k_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return vI;case"reauthViaPopup":case"reauthViaRedirect":return _I;default:xn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new Za(2e3,1e4);async function EI(r,e,t){if(Sn(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const s=Mr(r);rT(r,e,uf);const o=x_(s,t);return new es(s,"signInViaPopup",e,o).executeNotNull()}class es extends k_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=cf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wI.get())};e()}}es.currentPopupAction=null;const TI="pendingRedirect",Mu=new Map;class II extends k_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const s=await SI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SI(r,e){const t=AI(e),s=kI(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function xI(r,e){Mu.set(r._key(),e)}function kI(r){return Rr(r._redirectPersistence)}function AI(r){return Lu(TI,r.config.apiKey,r.name)}async function PI(r,e,t=!1){if(Sn(r.app))return Promise.reject(nr(r));const s=Mr(r),o=x_(s,e),h=await new II(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const RI=600*1e3;class CI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!A_(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RI&&this.cachedEventUids.clear(),this.cachedEventUids.has(bg(e))}saveEventToCache(e){this.cachedEventUids.add(bg(e)),this.lastProcessedEventTime=Date.now()}}function bg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function A_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A_(r);default:return!1}}async function bI(r,e={}){return Ii(r,"GET","/v1/projects",e)}const DI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VI=/^https?/;async function OI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bI(r);for(const t of e)try{if(LI(t))return}catch{}xn(r,"unauthorized-domain")}function LI(r){const e=Pd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!VI.test(t))return!1;if(DI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const MI=new Za(3e4,6e4);function Dg(){const r=rr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function jI(r){return new Promise((e,t)=>{var s,o,l;function h(){Dg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dg(),t(zn(r,"network-request-failed"))},timeout:MI.get()})}if(!((o=(s=rr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=rr().gapi)===null||l===void 0)&&l.load)h();else{const f=NT("iframefcb");return rr()[f]=()=>{gapi.load?h():t(zn(r,"network-request-failed"))},h_(`${CT()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw ju=null,e})}let ju=null;function FI(r){return ju=ju||jI(r),ju}const UI=new Za(5e3,15e3),zI="__/auth/iframe",BI="emulator/auth/iframe",$I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?rf(e,BI):`https://${r.config.authDomain}/${zI}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=qI.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ja(s).slice(1)}`}async function WI(r){const e=await FI(r),t=rr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:HI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$I,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=zn(r,"network-request-failed"),f=rr().setTimeout(()=>{l(h)},UI.get());function g(){rr().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{l(h)})}))}const KI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GI=500,QI=600,YI="_blank",XI="http://localhost";class Vg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JI(r,e,t,s=GI,o=QI){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},KI),{width:s.toString(),height:o.toString(),top:l,left:h}),_=Bt().toLowerCase();t&&(f=i_(_)?YI:t),n_(_)&&(e=e||XI,g.scrollbars="yes");const w=Object.entries(g).reduce((P,[F,B])=>`${P}${F}=${B},`,"");if(ET(_)&&f!=="_self")return ZI(e||"",f),new Vg(null);const A=window.open(e||"",f,w);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new Vg(A)}function ZI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const e1="__/auth/handler",t1="emulator/auth/handler",n1=encodeURIComponent("fac");async function Og(r,e,t,s,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Io,eventId:o};if(e instanceof uf){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",qw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))h[w]=A}if(e instanceof tl){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await r._getAppCheckToken(),_=g?`#${n1}=${encodeURIComponent(g)}`:"";return`${r1(r)}?${Ja(f).slice(1)}${_}`}function r1({config:r}){return r.emulator?rf(r,t1):`https://${r.authDomain}/${e1}`}const gd="webStorageSupport";class i1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w_,this._completeRedirectFn=PI,this._overrideRedirectResult=xI}async _openPopup(e,t,s,o){var l;br((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Og(e,t,s,Pd(),o);return JI(e,h,cf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Og(e,t,s,Pd(),o);return aI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(br(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await WI(e),s=new CI(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gd,{type:gd},o=>{var l;const h=(l=o?.[0])===null||l===void 0?void 0:l[gd];h!==void 0&&t(!!h),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u_()||r_()||of()}}const s1=i1;var Lg="@firebase/auth",Mg="1.7.9";class o1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function a1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l1(r){mo(new os("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c_(r)},_=new AT(s,o,l,g);return LT(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),mo(new os("auth-internal",e=>{const t=Mr(e.getProvider("auth").getImmediate());return(s=>new o1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(Lg,Mg,a1(r)),yi(Lg,Mg,"esm2017")}const u1=300,c1=zy("authIdTokenMaxAge")||u1;let jg=null;const h1=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>c1)return;const o=t?.token;jg!==o&&(jg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function d1(r=Hy()){const e=Zd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=OT(r,{popupRedirectResolver:s1,persistence:[gI,iI,w_]}),s=zy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=h1(l.toString());eI(t,h,()=>h(t.currentUser)),ZT(t,f=>h(f))}}const o=Fy("auth");return o&&MT(t,`http://${o}`),t}function f1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}PT({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=zn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",f1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l1("Browser");var p1="firebase",m1="10.14.1";yi(p1,m1,"app");var Fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,P_;(function(){var r;function e(C,I){function S(){}S.prototype=I.prototype,C.D=I.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(R,D,O){for(var k=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)k[Le-2]=arguments[Le];return I.prototype[D].apply(R,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,I,S){S||(S=0);var R=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)R[D]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(D=0;16>D;++D)R[D]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=C.g[0],S=C.g[1],D=C.g[2];var O=C.g[3],k=I+(O^S&(D^O))+R[0]+3614090360&4294967295;I=S+(k<<7&4294967295|k>>>25),k=O+(D^I&(S^D))+R[1]+3905402710&4294967295,O=I+(k<<12&4294967295|k>>>20),k=D+(S^O&(I^S))+R[2]+606105819&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(I^D&(O^I))+R[3]+3250441966&4294967295,S=D+(k<<22&4294967295|k>>>10),k=I+(O^S&(D^O))+R[4]+4118548399&4294967295,I=S+(k<<7&4294967295|k>>>25),k=O+(D^I&(S^D))+R[5]+1200080426&4294967295,O=I+(k<<12&4294967295|k>>>20),k=D+(S^O&(I^S))+R[6]+2821735955&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(I^D&(O^I))+R[7]+4249261313&4294967295,S=D+(k<<22&4294967295|k>>>10),k=I+(O^S&(D^O))+R[8]+1770035416&4294967295,I=S+(k<<7&4294967295|k>>>25),k=O+(D^I&(S^D))+R[9]+2336552879&4294967295,O=I+(k<<12&4294967295|k>>>20),k=D+(S^O&(I^S))+R[10]+4294925233&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(I^D&(O^I))+R[11]+2304563134&4294967295,S=D+(k<<22&4294967295|k>>>10),k=I+(O^S&(D^O))+R[12]+1804603682&4294967295,I=S+(k<<7&4294967295|k>>>25),k=O+(D^I&(S^D))+R[13]+4254626195&4294967295,O=I+(k<<12&4294967295|k>>>20),k=D+(S^O&(I^S))+R[14]+2792965006&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(I^D&(O^I))+R[15]+1236535329&4294967295,S=D+(k<<22&4294967295|k>>>10),k=I+(D^O&(S^D))+R[1]+4129170786&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(I^S))+R[6]+3225465664&4294967295,O=I+(k<<9&4294967295|k>>>23),k=D+(I^S&(O^I))+R[11]+643717713&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(D^O))+R[0]+3921069994&4294967295,S=D+(k<<20&4294967295|k>>>12),k=I+(D^O&(S^D))+R[5]+3593408605&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(I^S))+R[10]+38016083&4294967295,O=I+(k<<9&4294967295|k>>>23),k=D+(I^S&(O^I))+R[15]+3634488961&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(D^O))+R[4]+3889429448&4294967295,S=D+(k<<20&4294967295|k>>>12),k=I+(D^O&(S^D))+R[9]+568446438&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(I^S))+R[14]+3275163606&4294967295,O=I+(k<<9&4294967295|k>>>23),k=D+(I^S&(O^I))+R[3]+4107603335&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(D^O))+R[8]+1163531501&4294967295,S=D+(k<<20&4294967295|k>>>12),k=I+(D^O&(S^D))+R[13]+2850285829&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(I^S))+R[2]+4243563512&4294967295,O=I+(k<<9&4294967295|k>>>23),k=D+(I^S&(O^I))+R[7]+1735328473&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(D^O))+R[12]+2368359562&4294967295,S=D+(k<<20&4294967295|k>>>12),k=I+(S^D^O)+R[5]+4294588738&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^D)+R[8]+2272392833&4294967295,O=I+(k<<11&4294967295|k>>>21),k=D+(O^I^S)+R[11]+1839030562&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^I)+R[14]+4259657740&4294967295,S=D+(k<<23&4294967295|k>>>9),k=I+(S^D^O)+R[1]+2763975236&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^D)+R[4]+1272893353&4294967295,O=I+(k<<11&4294967295|k>>>21),k=D+(O^I^S)+R[7]+4139469664&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^I)+R[10]+3200236656&4294967295,S=D+(k<<23&4294967295|k>>>9),k=I+(S^D^O)+R[13]+681279174&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^D)+R[0]+3936430074&4294967295,O=I+(k<<11&4294967295|k>>>21),k=D+(O^I^S)+R[3]+3572445317&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^I)+R[6]+76029189&4294967295,S=D+(k<<23&4294967295|k>>>9),k=I+(S^D^O)+R[9]+3654602809&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^D)+R[12]+3873151461&4294967295,O=I+(k<<11&4294967295|k>>>21),k=D+(O^I^S)+R[15]+530742520&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^I)+R[2]+3299628645&4294967295,S=D+(k<<23&4294967295|k>>>9),k=I+(D^(S|~O))+R[0]+4096336452&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~D))+R[7]+1126891415&4294967295,O=I+(k<<10&4294967295|k>>>22),k=D+(I^(O|~S))+R[14]+2878612391&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~I))+R[5]+4237533241&4294967295,S=D+(k<<21&4294967295|k>>>11),k=I+(D^(S|~O))+R[12]+1700485571&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~D))+R[3]+2399980690&4294967295,O=I+(k<<10&4294967295|k>>>22),k=D+(I^(O|~S))+R[10]+4293915773&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~I))+R[1]+2240044497&4294967295,S=D+(k<<21&4294967295|k>>>11),k=I+(D^(S|~O))+R[8]+1873313359&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~D))+R[15]+4264355552&4294967295,O=I+(k<<10&4294967295|k>>>22),k=D+(I^(O|~S))+R[6]+2734768916&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~I))+R[13]+1309151649&4294967295,S=D+(k<<21&4294967295|k>>>11),k=I+(D^(S|~O))+R[4]+4149444226&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~D))+R[11]+3174756917&4294967295,O=I+(k<<10&4294967295|k>>>22),k=D+(I^(O|~S))+R[2]+718787259&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~I))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+O&4294967295}s.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var S=I-this.blockSize,R=this.B,D=this.h,O=0;O<I;){if(D==0)for(;O<=S;)o(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<I;)if(R[D++]=C.charCodeAt(O++),D==this.blockSize){o(this,R),D=0;break}}else for(;O<I;)if(R[D++]=C[O++],D==this.blockSize){o(this,R),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var S=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.u(C),C=Array(16),I=S=0;4>I;++I)for(var R=0;32>R;R+=8)C[S++]=this.g[I]>>>R&255;return C};function l(C,I){var S=f;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=I(C)}function h(C,I){this.h=I;for(var S=[],R=!0,D=C.length-1;0<=D;D--){var O=C[D]|0;R&&O==I||(S[D]=O,R=!1)}this.g=S}var f={};function g(C){return-128<=C&&128>C?l(C,function(I){return new h([I|0],0>I?-1:0)}):new h([C|0],0>C?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return $(_(-C));for(var I=[],S=1,R=0;C>=S;R++)I[R]=C/S|0,S*=4294967296;return new h(I,0)}function w(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return $(w(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(I,8)),R=A,D=0;D<C.length;D+=8){var O=Math.min(8,C.length-D),k=parseInt(C.substring(D,D+O),I);8>O?(O=_(Math.pow(I,O)),R=R.j(O).add(_(k))):(R=R.j(S),R=R.add(_(k)))}return R}var A=g(0),P=g(1),F=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-$(this).m();for(var C=0,I=1,S=0;S<this.g.length;S++){var R=this.i(S);C+=(0<=R?R:4294967296+R)*I,I*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(B(this))return"0";if(H(this))return"-"+$(this).toString(C);for(var I=_(Math.pow(C,6)),S=this,R="";;){var D=ae(S,I).g;S=ie(S,D.j(I));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=D,B(S))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function B(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function H(C){return C.h==-1}r.l=function(C){return C=ie(this,C),H(C)?-1:B(C)?0:1};function $(C){for(var I=C.g.length,S=[],R=0;R<I;R++)S[R]=~C.g[R];return new h(S,~C.h).add(P)}r.abs=function(){return H(this)?$(this):this},r.add=function(C){for(var I=Math.max(this.g.length,C.g.length),S=[],R=0,D=0;D<=I;D++){var O=R+(this.i(D)&65535)+(C.i(D)&65535),k=(O>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);R=k>>>16,O&=65535,k&=65535,S[D]=k<<16|O}return new h(S,S[S.length-1]&-2147483648?-1:0)};function ie(C,I){return C.add($(I))}r.j=function(C){if(B(this)||B(C))return A;if(H(this))return H(C)?$(this).j($(C)):$($(this).j(C));if(H(C))return $(this.j($(C)));if(0>this.l(F)&&0>C.l(F))return _(this.m()*C.m());for(var I=this.g.length+C.g.length,S=[],R=0;R<2*I;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<C.g.length;D++){var O=this.i(R)>>>16,k=this.i(R)&65535,Le=C.i(D)>>>16,Xe=C.i(D)&65535;S[2*R+2*D]+=k*Xe,ne(S,2*R+2*D),S[2*R+2*D+1]+=O*Xe,ne(S,2*R+2*D+1),S[2*R+2*D+1]+=k*Le,ne(S,2*R+2*D+1),S[2*R+2*D+2]+=O*Le,ne(S,2*R+2*D+2)}for(R=0;R<I;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=I;R<2*I;R++)S[R]=0;return new h(S,0)};function ne(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function te(C,I){this.g=C,this.h=I}function ae(C,I){if(B(I))throw Error("division by zero");if(B(C))return new te(A,A);if(H(C))return I=ae($(C),I),new te($(I.g),$(I.h));if(H(I))return I=ae(C,$(I)),new te($(I.g),I.h);if(30<C.g.length){if(H(C)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var S=P,R=I;0>=R.l(C);)S=Ae(S),R=Ae(R);var D=ge(S,1),O=ge(R,1);for(R=ge(R,2),S=ge(S,2);!B(R);){var k=O.add(R);0>=k.l(C)&&(D=D.add(S),O=k),R=ge(R,1),S=ge(S,1)}return I=ie(C,D.j(I)),new te(D,I)}for(D=A;0<=C.l(I);){for(S=Math.max(1,Math.floor(C.m()/I.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=_(S),k=O.j(I);H(k)||0<k.l(C);)S-=R,O=_(S),k=O.j(I);B(O)&&(O=P),D=D.add(O),C=ie(C,k)}return new te(D,C)}r.A=function(C){return ae(this,C).h},r.and=function(C){for(var I=Math.max(this.g.length,C.g.length),S=[],R=0;R<I;R++)S[R]=this.i(R)&C.i(R);return new h(S,this.h&C.h)},r.or=function(C){for(var I=Math.max(this.g.length,C.g.length),S=[],R=0;R<I;R++)S[R]=this.i(R)|C.i(R);return new h(S,this.h|C.h)},r.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),S=[],R=0;R<I;R++)S[R]=this.i(R)^C.i(R);return new h(S,this.h^C.h)};function Ae(C){for(var I=C.g.length+1,S=[],R=0;R<I;R++)S[R]=C.i(R)<<1|C.i(R-1)>>>31;return new h(S,C.h)}function ge(C,I){var S=I>>5;I%=32;for(var R=C.g.length-S,D=[],O=0;O<R;O++)D[O]=0<I?C.i(O+S)>>>I|C.i(O+S+1)<<32-I:C.i(O+S);return new h(D,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,P_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=w,ns=h}).apply(typeof Fg<"u"?Fg:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var R_,Pa,C_,Fu,bd,N_,b_,D_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in y))break e;y=y[L]}u=u[u.length-1],E=y[u],p=p(E),p!=E&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,E=!1,L={next:function(){if(!E&&y<u.length){var q=y++;return{value:p(q,u[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,y){return u.call.apply(u.bind,arguments)}function A(u,p,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function P(u,p,y){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:A,P.apply(null,arguments)}function F(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function B(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,L,q){for(var re=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)re[$e-2]=arguments[$e];return p.prototype[L].apply(E,re)}}function H(u){const p=u.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=u[E];return y}return[]}function $(u,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const L=u.length||0,q=E.length||0;u.length=L+q;for(let re=0;re<q;re++)u[L+re]=E[re]}else u.push(E)}}class ie{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(u){return/^[\s\xa0]*$/.test(u)}function te(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var Ae=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ge(u,p,y){for(const E in u)p.call(y,u[E],E,u)}function C(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function I(u){const p={};for(const y in u)p[y]=u[y];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,p){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)u[y]=E[y];for(let q=0;q<S.length;q++)y=S[q],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function D(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function O(u){f.setTimeout(()=>{throw u},0)}function k(){var u=U;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Le{constructor(){this.h=this.g=null}add(p,y){const E=Xe.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Xe=new ie(()=>new be,u=>u.reset());class be{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,Z=!1,U=new Le,K=()=>{const u=f.Promise.resolve(void 0);Pe=()=>{u.then(b)}};var b=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){O(y)}var p=Xe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Z=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var he=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u})();function we(u,p){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Ae){e:{try{ae(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ke[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}B(we,se);var ke={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Ge(u,p,y,E,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=L,this.key=++Fe,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function lr(u){this.src=u,this.g={},this.h=0}lr.prototype.add=function(u,p,y,E,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var re=jr(u,p,E,L);return-1<re?(p=u[re],y||(p.fa=!1)):(p=new Ge(p,this.src,q,!!E,L),p.fa=y,u.push(p)),p};function ps(u,p){var y=p.type;if(y in u.g){var E=u.g[y],L=Array.prototype.indexOf.call(E,p,void 0),q;(q=0<=L)&&Array.prototype.splice.call(E,L,1),q&&(wt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function jr(u,p,y,E){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==p&&q.capture==!!y&&q.ha==E)return L}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),ms={};function Co(u,p,y,E,L){if(Array.isArray(p)){for(var q=0;q<p.length;q++)Co(u,p[q],y,E,L);return null}return y=Do(y),u&&u[Ne]?u.K(p,y,_(E)?!!E.capture:!1,L):No(u,p,y,!1,E,L)}function No(u,p,y,E,L,q){if(!p)throw Error("Invalid event type");var re=_(L)?!!L.capture:!!L,$e=ys(u);if($e||(u[xi]=$e=new lr(u)),y=$e.add(p,y,E,re,q),y.proxy)return y;if(E=cl(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)he||(L=re),L===void 0&&(L=!1),u.addEventListener(p.toString(),E,L);else if(u.attachEvent)u.attachEvent(cr(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function cl(){function u(y){return p.call(u.src,u.listener,y)}const p=bo;return u}function gs(u,p,y,E,L){if(Array.isArray(p))for(var q=0;q<p.length;q++)gs(u,p[q],y,E,L);else E=_(E)?!!E.capture:!!E,y=Do(y),u&&u[Ne]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],y=jr(q,y,E,L),-1<y&&(wt(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=ys(u))&&(p=u.g[p.toString()],u=-1,p&&(u=jr(p,y,E,L)),(y=-1<u?p[u]:null)&&ur(y))}function ur(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ne])ps(p.i,u);else{var y=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(y,E,u.capture):p.detachEvent?p.detachEvent(cr(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=ys(p))?(ps(y,u),y.h==0&&(y.src=null,p[xi]=null)):wt(u)}}}function cr(u){return u in ms?ms[u]:ms[u]="on"+u}function bo(u,p){if(u.da)u=!0;else{p=new we(p,this);var y=u.listener,E=u.ha||u.src;u.fa&&ur(u),u=y.call(E,p)}return u}function ys(u){return u=u[xi],u instanceof lr?u:null}var _s="__closure_events_fn_"+(1e9*Math.random()>>>0);function Do(u){return typeof u=="function"?u:(u[_s]||(u[_s]=function(p){return u.handleEvent(p)}),u[_s])}function pt(){W.call(this),this.i=new lr(this),this.M=this,this.F=null}B(pt,W),pt.prototype[Ne]=!0,pt.prototype.removeEventListener=function(u,p,y,E){gs(this,u,p,y,E)};function mt(u,p){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new se(p,u);else if(p instanceof se)p.target=p.target||u;else{var L=p;p=new se(E,u),R(p,L)}if(L=!0,y)for(var q=y.length-1;0<=q;q--){var re=p.g=y[q];L=hr(re,E,!0,p)&&L}if(re=p.g=u,L=hr(re,E,!0,p)&&L,L=hr(re,E,!1,p)&&L,y)for(q=0;q<y.length;q++)re=p.g=y[q],L=hr(re,E,!1,p)&&L}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],E=0;E<y.length;E++)wt(y[E]);delete u.g[p],u.h--}}this.F=null},pt.prototype.K=function(u,p,y,E){return this.i.add(String(u),p,!1,y,E)},pt.prototype.L=function(u,p,y,E){return this.i.add(String(u),p,!0,y,E)};function hr(u,p,y,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,q=0;q<p.length;++q){var re=p[q];if(re&&!re.da&&re.capture==y){var $e=re.listener,gt=re.ha||re.src;re.fa&&ps(u.i,re),L=$e.call(gt,E)!==!1&&L}}return L&&!E.defaultPrevented}function Vo(u,p,y){if(typeof u=="function")y&&(u=P(u,y));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Fr(u){u.g=Vo(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class ki extends W{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(u){W.call(this),this.h=u,this.g={}}B(Ai,W);var Oo=[];function Lo(u){ge(u.g,function(p,y){this.g.hasOwnProperty(y)&&ur(p)},u),u.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Lo(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=f.JSON.stringify,jo=f.JSON.parse,Fo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Pi(){}Pi.prototype.h=null;function vs(u){return u.h||(u.h=u.i())}function ws(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){se.call(this,"d")}B(qn,se);function Es(){se.call(this,"c")}B(Es,se);var Hn={},Uo=null;function Ri(){return Uo=Uo||new pt}Hn.La="serverreachability";function zo(u){se.call(this,Hn.La,u)}B(zo,se);function dr(u){const p=Ri();mt(p,new zo(p))}Hn.STAT_EVENT="statevent";function Bo(u,p){se.call(this,Hn.STAT_EVENT,u),this.stat=p}B(Bo,se);function at(u){const p=Ri();mt(p,new Bo(p,u))}Hn.Ma="timingevent";function Ts(u,p){se.call(this,Hn.Ma,u),this.size=p}B(Ts,se);function kn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Ci(){this.g=!0}Ci.prototype.xa=function(){this.g=!1};function Ni(u,p,y,E,L,q){u.info(function(){if(u.g)if(q)for(var re="",$e=q.split("&"),gt=0;gt<$e.length;gt++){var Me=$e[gt].split("=");if(1<Me.length){var Et=Me[0];Me=Me[1];var ct=Et.split("_");re=2<=ct.length&&ct[1]=="type"?re+(Et+"="+Me+"&"):re+(Et+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+y+`
`+re})}function Is(u,p,y,E,L,q,re){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+y+`
`+q+" "+re})}function An(u,p,y,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Dc(u,y)+(E?" "+E:"")})}function $o(u,p){u.info(function(){return"TIMEOUT: "+p})}Ci.prototype.info=function(){};function Dc(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return Mo(y)}catch{return p}}var Ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function bi(){}B(bi,Pi),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},Pn=new bi;function Rn(u,p,y,E){this.j=u,this.i=p,this.l=y,this.R=E||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var qo={},xs={};function ks(u,p,y){u.L=1,u.v=qr(on(p)),u.m=y,u.P=!0,Ho(u,null)}function Ho(u,p){u.F=Date.now(),Qe(u),u.A=on(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Wr(y.i,"t",E),u.C=0,y=u.j.J,u.h=new dl,u.g=Cl(u.j,y?p:null,!u.m),0<u.O&&(u.M=new ki(P(u.Y,u,u.g),u.O)),p=u.U,y=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Oo[0]=L.toString()),L=Oo);for(var q=0;q<L.length;q++){var re=Co(y,L[q],E||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),dr(),Ni(u.i,u.u,u.A,u.l,u.R,u.m)}Rn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Yt(u)==3?p.j():this.Y(u)},Rn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Yt(this.g);var p=this.g.Ba();const yn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||ct!=4||p==7||(p==8||0>=yn?dr(3):dr(2)),Di(this);var y=this.g.Z();this.X=y;t:if(fl(this)){var E=Xo(this.g);u="";var L=E.length,q=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Ur(this);var re="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!(q&&p==L-1)});E.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,Is(this.i,this.u,this.A,this.l,this.R,ct,y),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,gt=this.g;if(($e=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne($e)){var Me=$e;break t}}Me=null}if(y=Me)An(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wo(this,y);else{this.o=!1,this.s=3,at(12),mn(this),Ur(this);break e}}if(this.P){y=!0;let ln;for(;!this.J&&this.C<re.length;)if(ln=Vc(this,re),ln==xs){ct==4&&(this.s=4,at(14),y=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==qo){this.s=4,at(15),An(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else An(this.i,this.l,ln,null),Wo(this,ln);if(fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||re.length!=0||this.h.h||(this.s=1,at(16),y=!1),this.o=this.o&&y,!y)An(this.i,this.l,re,"[Invalid Chunked Response]"),mn(this),Ur(this);else if(0<re.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Zo(Et),Et.M=!0,at(11))}}else An(this.i,this.l,re,null),Wo(this,re);ct==4&&mn(this),this.o&&!this.J&&(ct==4?Ms(this.j,this):(this.o=!1,Qe(this)))}else bs(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),mn(this),Ur(this)}}}catch{}};function fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vc(u,p){var y=u.C,E=p.indexOf(`
`,y);return E==-1?xs:(y=Number(p.substring(y,E)),isNaN(y)?qo:(E+=1,E+y>p.length?xs:(p=p.slice(E,E+y),u.C=E+y,p)))}Rn.prototype.cancel=function(){this.J=!0,mn(this)};function Qe(u){u.S=Date.now()+u.I,pl(u,u.I)}function pl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kn(P(u.ba,u),p)}function Di(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Rn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($o(this.i,this.A),this.L!=2&&(dr(),at(17)),mn(this),this.s=2,Ur(this)):pl(this,this.S-u)};function Ur(u){u.j.G==0||u.J||Ms(u.j,u)}function mn(u){Di(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Lo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Wo(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||$t(y.h,u))){if(!u.K&&$t(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ls(y),Vn(y);else break e;Os(y),at(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=kn(P(y.Za,y),6e3));if(1>=gl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else yr(y,11)}else if((u.K||y.g==u)&&Ls(y),!ne(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let Me=L[p];if(y.T=Me[0],Me=Me[1],y.G==2)if(Me[0]=="c"){y.K=Me[1],y.ia=Me[2];const Et=Me[3];Et!=null&&(y.la=Et,y.j.info("VER="+y.la));const ct=Me[4];ct!=null&&(y.Aa=ct,y.j.info("SVER="+y.Aa));const yn=Me[5];yn!=null&&typeof yn=="number"&&0<yn&&(E=1.5*yn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const ln=u.g;if(ln){const Ui=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ui){var q=E.h;q.g||Ui.indexOf("spdy")==-1&&Ui.indexOf("quic")==-1&&Ui.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ko(q,q.h),q.h=null))}if(E.D){const Fs=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(E.ya=Fs,Ke(E.I,E.D,Fs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var re=u;if(E.qa=Rl(E,E.J?E.ia:null,E.W),re.K){yl(E.h,re);var $e=re,gt=E.L;gt&&($e.I=gt),$e.B&&(Di($e),Qe($e)),E.g=re}else Fi(E);0<y.i.length&&Qn(y)}else Me[0]!="stop"&&Me[0]!="close"||yr(y,7);else y.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?yr(y,7):Pt(y):Me[0]!="noop"&&y.l&&y.l.ta(Me),y.v=0)}}dr(4)}catch{}}var ml=class{constructor(u,p){this.g=u,this.map=p}};function Vi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gl(u){return u.h?1:u.g?u.g.size:0}function $t(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ko(u,p){u.g?u.g.add(p):u.h=p}function yl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Vi.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return H(u.i)}function As(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,E=0;E<y;E++)p.push(u[E]);return p}p=[],y=0;for(E in u)p[y++]=u[E];return p}function Ps(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const E in u)p[y++]=E;return p}}}function zr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Ps(u),E=As(u),L=E.length,q=0;q<L;q++)p.call(void 0,E[q],y&&y[q],u)}var Oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),L=null;if(0<=E){var q=u[y].substring(0,E);L=u[y].substring(E+1)}else q=u[y];p(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fr){this.h=u.h,Li(this,u.j),this.o=u.o,this.g=u.g,Br(this,u.s),this.l=u.l;var p=u.i,y=new Wn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),$r(this,y),this.m=u.m}else u&&(p=String(u).match(Oi))?(this.h=!1,Li(this,p[1]||"",!0),this.o=Ve(p[2]||""),this.g=Ve(p[3]||"",!0),Br(this,p[4]),this.l=Ve(p[5]||"",!0),$r(this,p[6]||"",!0),this.m=Ve(p[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}fr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Hr(p,Rs,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Hr(p,Rs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Hr(y,y.charAt(0)=="/"?El:wl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Hr(y,Go)),u.join("")};function on(u){return new fr(u)}function Li(u,p,y){u.j=y?Ve(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Br(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function $r(u,p,y){p instanceof Wn?(u.i=p,Kn(u.i,u.h)):(y||(p=Hr(p,Tl)),u.i=new Wn(p,u.h))}function Ke(u,p,y){u.i.set(p,y)}function qr(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,vl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rs=/[#\/\?@]/g,wl=/[#\?:]/g,El=/[#\?]/g,Tl=/[#\?@]/g,Go=/#/g;function Wn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&Oc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Wn.prototype,r.add=function(u,p){At(this),this.i=null,u=gn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Cn(u,p){At(u),p=gn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Nn(u,p){return At(u),p=gn(u,p),u.g.has(p)}r.forEach=function(u,p){At(this),this.g.forEach(function(y,E){y.forEach(function(L){u.call(p,L,E,this)},this)},this)},r.na=function(){At(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const L=u[E];for(let q=0;q<L.length;q++)y.push(p[E])}return y},r.V=function(u){At(this);let p=[];if(typeof u=="string")Nn(this,u)&&(p=p.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},r.set=function(u,p){return At(this),this.i=null,u=gn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Wr(u,p,y){Cn(u,p),0<y.length&&(u.i=null,u.g.set(gn(u,p),H(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const q=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var L=q;re[E]!==""&&(L+="="+encodeURIComponent(String(re[E]))),u.push(L)}}return this.i=u.join("&")};function gn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Kn(u,p){p&&!u.j&&(At(u),u.i=null,u.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Cn(this,E),Wr(this,L,y))},u)),u.j=p}function Lc(u,p){const y=new Ci;if(f.Image){const E=new Image;E.onload=F(Qt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=F(Qt,y,"TestLoadImage: error",!1,p,E),E.onabort=F(Qt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=F(Qt,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function Il(u,p){const y=new Ci,E=new AbortController,L=setTimeout(()=>{E.abort(),Qt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(L),q.ok?Qt(y,"TestPingServer: ok",!0,p):Qt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Qt(y,"TestPingServer: error",!1,p)})}function Qt(u,p,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function Mc(){this.g=new Fo}function Sl(u,p,y){const E=y||"";try{zr(u,function(L,q){let re=L;_(L)&&(re=Mo(L)),p.push(E+q+"="+encodeURIComponent(re))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function pr(u){this.l=u.Ub||null,this.j=u.eb||!1}B(pr,Pi),pr.prototype.g=function(){return new Mi(this.l,this.j)},pr.prototype.i=(function(u){return function(){return u}})({});function Mi(u,p){pt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Mi,pt),r=Mi.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Dn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?bn(this):Dn(this),this.readyState==3&&xl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,bn(this))},r.Qa=function(u){this.g&&(this.response=u,bn(this))},r.ga=function(){this.g&&bn(this)};function bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Dn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mr(u){let p="";return ge(u,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Kr(u,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=mr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ke(u,p,y))}function tt(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(tt,pt);var jc=/^https?$/i,Qo=["POST","PUT"];r=tt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?vs(this.o):vs(Pn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){ji(this,q);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())y.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qo,p,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of y)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ji(this,q)}};function ji(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Cs(u),an(u)}function Cs(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},r.bb=function(){Yo(this)};function Yo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)Vo(u.Ea,0,u);else if(mt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=re===0){var L=String(u.D).match(Oi)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),E=!jc.test(L?L.toLowerCase():"")}y=E}if(y)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var q=2<Yt(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Cs(u)}}finally{an(u)}}}}function an(u,p){if(u.g){Ns(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||mt(u,"ready");try{y.onreadystatechange=E}catch{}}}function Ns(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),jo(p)}};function Xo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(u){const p={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ne(u[E]))continue;var y=D(u[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=p[L]||[];p[L]=q,q.push(y)}C(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Jo(u){this.Aa=0,this.i=[],this.j=new Ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,u),this.cb=Gn("retryDelaySeedMs",1e4,u),this.Wa=Gn("forwardChannelMaxRetries",2,u),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(u&&u.concurrentRequestLimit),this.Da=new Mc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Jo.prototype,r.la=8,r.G=1,r.connect=function(u,p,y,E){at(0),this.W=u,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Rl(this,null,this.W),Qn(this)};function Pt(u){if(Ds(u),u.G==3){var p=u.U++,y=on(u.I);if(Ke(y,"SID",u.K),Ke(y,"RID",p),Ke(y,"TYPE","terminate"),gr(u,y),p=new Rn(u,u.j,p),p.L=2,p.v=qr(on(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=Cl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Qe(p)}Pl(u)}function Vn(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function Ds(u){Vn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Ls(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Qn(u){if(!sn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Pe||K(),Z||(Pe(),Z=!0),U.add(p,u),u.B=0}}function Fc(u,p){return gl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kn(P(u.Ga,u,p),Al(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Rn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=I(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Gr(this,L,p),y=on(this.I),Ke(y,"RID",u),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),gr(this,y),q&&(this.O?p="headers="+encodeURIComponent(String(mr(q)))+"&"+p:this.m&&Kr(y,this.m,q)),Ko(this.h,L),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",p),Ke(y,"SID","null"),L.T=!0,ks(L,y,null)):ks(L,y,p),this.G=2}}else this.G==3&&(u?Vs(this,u):this.i.length==0||sn(this.h)||Vs(this))};function Vs(u,p){var y;p?y=p.l:y=u.U++;const E=on(u.I);Ke(E,"SID",u.K),Ke(E,"RID",y),Ke(E,"AID",u.T),gr(u,E),u.m&&u.o&&Kr(E,u.m,u.o),y=new Rn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Gr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ko(u.h,y),ks(y,E,p)}function gr(u,p){u.H&&ge(u.H,function(y,E){Ke(p,E,y)}),u.l&&zr({},function(y,E){Ke(p,E,y)})}function Gr(u,p,y){y=Math.min(u.i.length,y);var E=u.l?P(u.l.Na,u.l,u):null;e:{var L=u.i;let q=-1;for(;;){const re=["count="+y];q==-1?0<y?(q=L[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let $e=!0;for(let gt=0;gt<y;gt++){let Me=L[gt].g;const Et=L[gt].map;if(Me-=q,0>Me)q=Math.max(0,L[gt].g-100),$e=!1;else try{Sl(Et,re,"req"+Me+"_")}catch{E&&E(Et)}}if($e){E=re.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,E}function Fi(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Pe||K(),Z||(Pe(),Z=!0),U.add(p,u),u.v=0}}function Os(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kn(P(u.Fa,u),Al(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kn(P(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Vn(this),kl(this))};function Zo(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function kl(u){u.g=new Rn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=on(u.qa);Ke(p,"RID","rpc"),Ke(p,"SID",u.K),Ke(p,"AID",u.T),Ke(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(p,"TO",u.ja),Ke(p,"TYPE","xmlhttp"),gr(u,p),u.m&&u.o&&Kr(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=qr(on(p)),y.m=null,y.P=!0,Ho(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Vn(this),Os(this),at(19))};function Ls(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ms(u,p){var y=null;if(u.g==p){Ls(u),Zo(u),u.g=null;var E=2}else if($t(u.h,p))y=p.D,yl(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;E=Ri(),mt(E,new Ts(E,y)),Qn(u)}else Fi(u);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&Fc(u,p)||E==2&&Os(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),L){case 1:yr(u,5);break;case 4:yr(u,10);break;case 3:yr(u,6);break;default:yr(u,2)}}}function Al(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function yr(u,p){if(u.j.info("Error code "+p),p==2){var y=P(u.fb,u),E=u.Xa;const L=!E;E=new fr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Li(E,"https"),qr(E),L?Lc(E.toString(),y):Il(E.toString(),y)}else at(2);u.G=0,u.l&&u.l.sa(p),Pl(u),Ds(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Pl(u){if(u.G=0,u.ka=[],u.l){const p=_l(u.h);(p.length!=0||u.i.length!=0)&&($(u.ka,p),$(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function Rl(u,p,y){var E=y instanceof fr?on(y):new fr(y);if(E.g!="")p&&(E.g=p+"."+E.g),Br(E,E.s);else{var L=f.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var q=new fr(null);E&&Li(q,E),p&&(q.g=p),L&&Br(q,L),y&&(q.l=y),E=q}return y=u.D,p=u.ya,y&&p&&Ke(E,y,p),Ke(E,"VER",u.la),gr(u,E),E}function Cl(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new tt(new pr({eb:y})):new tt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ea(){}r=ea.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function js(){}js.prototype.g=function(u,p){return new qt(u,p)};function qt(u,p){pt.call(this),this.g=new Jo(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ne(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ne(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yn(this)}B(qt,pt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Pt(this.g)},qt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mo(u),u=y);p.i.push(new ml(p.Ya++,u)),p.G==3&&Qn(p)},qt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,qt.aa.N.call(this)};function Nl(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}B(Nl,qn);function bl(){Es.call(this),this.status=1}B(bl,Es);function Yn(u){this.g=u}B(Yn,ea),Yn.prototype.ua=function(){mt(this.g,"a")},Yn.prototype.ta=function(u){mt(this.g,new Nl(u))},Yn.prototype.sa=function(u){mt(this.g,new bl)},Yn.prototype.ra=function(){mt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,D_=function(){return new js},b_=function(){return Ri()},N_=Hn,bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,Fu=Ss,hl.COMPLETE="complete",C_=hl,ws.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Pa=ws,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,R_=tt}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const Ug="@firebase/firestore";let Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let xo="10.14.0";const ls=new Xd("@firebase/firestore");function xa(){return ls.logLevel}function fe(r,...e){if(ls.logLevel<=Oe.DEBUG){const t=e.map(df);ls.debug(`Firestore (${xo}): ${r}`,...t)}}function Vr(r,...e){if(ls.logLevel<=Oe.ERROR){const t=e.map(df);ls.error(`Firestore (${xo}): ${r}`,...t)}}function go(r,...e){if(ls.logLevel<=Oe.WARN){const t=e.map(df);ls.warn(`Firestore (${xo}): ${r}`,...t)}}function df(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Ie(r="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+r;throw Vr(e),new Error(e)}function qe(r,e){r||Ie()}function xe(r,e){return r}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class V_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class y1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _1{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new V_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Ut(e)}}class v1{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w1{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new v1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qe(typeof t.token=="string"),this.R=t.token,new E1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class O_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=I1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Be(r,e){return r<e?-1:r>e?1:0}function yo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}class vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new vt(0,0))}static max(){return new Se(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class za{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(),s===void 0?s=e.length-t:s>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends za{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const S1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends za{construct(e,t,s){return new bt(e,t,s)}static isValidIdentifier(e){return S1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}function x1(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new vi(o,ye.empty(),e)}function k1(r){return new vi(r.readTime,r.key,-1)}class vi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new vi(Se.min(),ye.empty(),-1)}static max(){return new vi(Se.max(),ye.empty(),-1)}}function A1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:Be(r.largestBatchId,e.largestBatchId))}const P1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rl(r){if(r.code!==G.FAILED_PRECONDITION||r.message!==P1)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,s)=>{t(e)}))}static reject(e){return new X(((t,s)=>{s(e)}))}static waitFor(e){return new X(((t,s)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(g=>s(g)))})),h=!0,l===o&&t()}))}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next((o=>o?X.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new X(((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next((w=>{h[_]=w,++f,f===l&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new X(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function C1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function il(r){return r.name==="IndexedDbTransactionError"}class ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ff.oe=-1;function pc(r){return r==null}function ec(r){return r===0&&1/r==-1/0}function N1(r){return typeof r=="number"&&Number.isInteger(r)&&!ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function zg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function hs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function L_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class st{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Nt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bg(this.data.getIterator())}getIteratorFrom(e){return new Bg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class Bg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new dn([])}unionWith(e){let t=new Dt(bt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class M_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new M_("Invalid base64 string: "+l):l}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const b1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(r){if(qe(!!r),typeof r=="string"){let e=0;const t=b1.exec(r);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(r.seconds),nanos:ut(r.nanos)}}function ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Vt.fromBase64String(r):Vt.fromUint8Array(r)}function pf(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function mf(r){const e=r.mapValue.fields.__previous_value__;return pf(e)?mf(e):e}function Ba(r){const e=wi(r.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}class D1{constructor(e,t,s,o,l,h,f,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=_}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}const Ru={mapValue:{}};function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pf(r)?4:O1(r)?9007199254740991:V1(r)?10:11:Ie()}function or(r,e){if(r===e)return!0;const t=cs(r);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ba(r).isEqual(Ba(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=wi(o.timestampValue),f=wi(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return us(o.bytesValue).isEqual(us(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ut(o.doubleValue),f=ut(l.doubleValue);return h===f?ec(h)===ec(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(zg(h)!==zg(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!or(h[g],f[g])))return!1;return!0})(r,e);default:return Ie()}}function qa(r,e){return(r.values||[]).find((t=>or(t,e)))!==void 0}function _o(r,e){if(r===e)return 0;const t=cs(r),s=cs(e);if(t!==s)return Be(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=ut(l.integerValue||l.doubleValue),g=ut(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return $g(r.timestampValue,e.timestampValue);case 4:return $g(Ba(r),Ba(e));case 5:return Be(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=us(l),g=us(h);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),g=h.split("/");for(let _=0;_<f.length&&_<g.length;_++){const w=Be(f[_],g[_]);if(w!==0)return w}return Be(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Be(ut(l.latitude),ut(h.latitude));return f!==0?f:Be(ut(l.longitude),ut(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qg(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,g,_,w;const A=l.fields||{},P=h.fields||{},F=(f=A.value)===null||f===void 0?void 0:f.arrayValue,B=(g=P.value)===null||g===void 0?void 0:g.arrayValue,H=Be(((_=F?.values)===null||_===void 0?void 0:_.length)||0,((w=B?.values)===null||w===void 0?void 0:w.length)||0);return H!==0?H:qg(F,B)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Ru.mapValue&&h===Ru.mapValue)return 0;if(l===Ru.mapValue)return 1;if(h===Ru.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),_=h.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let A=0;A<g.length&&A<w.length;++A){const P=Be(g[A],w[A]);if(P!==0)return P;const F=_o(f[g[A]],_[w[A]]);if(F!==0)return F}return Be(g.length,w.length)})(r.mapValue,e.mapValue);default:throw Ie()}}function $g(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const t=wi(r),s=wi(e),o=Be(t.seconds,s.seconds);return o!==0?o:Be(t.nanos,s.nanos)}function qg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=_o(t[o],s[o]);if(l)return l}return Be(t.length,s.length)}function vo(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=wi(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return us(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ye.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Dd(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Dd(t.fields[h])}`;return o+"}"})(r.mapValue):Ie()}function Hg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vd(r){return!!r&&"integerValue"in r}function gf(r){return!!r&&"arrayValue"in r}function Wg(r){return!!r&&"nullValue"in r}function Kg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uu(r){return!!r&&"mapValue"in r}function V1(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Da(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return hs(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Da(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Da(r.arrayValue.values[t]);return e}return Object.assign({},r)}function O1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Uu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(t)}setAll(e){let t=bt.emptyPath(),s={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Da(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Uu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Uu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){hs(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new rn(Da(this.value))}}function j_(r){const e=[];return hs(r.fields,((t,s)=>{const o=new bt([t]);if(Uu(s)){const l=j_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new dn(e)}class zt{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,Se.min(),Se.min(),Se.min(),rn.empty(),0)}static newFoundDocument(e,t,s,o){return new zt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Se.min(),Se.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Se.min(),Se.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tc{constructor(e,t){this.position=e,this.inclusive=t}}function Gg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=_o(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!or(r.position[t],e.position[t]))return!1;return!0}class Ha{constructor(e,t="asc"){this.field=e,this.dir=t}}function L1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}let F_=class{};class ft extends F_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new j1(e,t,s):t==="array-contains"?new z1(e,s):t==="in"?new B1(e,s):t==="not-in"?new $1(e,s):t==="array-contains-any"?new q1(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new F1(e,s):new U1(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_o(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(_o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends F_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $n(e,t)}matches(e){return U_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U_(r){return r.op==="and"}function z_(r){return M1(r)&&U_(r)}function M1(r){for(const e of r.filters)if(e instanceof $n)return!1;return!0}function Od(r){if(r instanceof ft)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(z_(r))return r.filters.map((e=>Od(e))).join(",");{const e=r.filters.map((t=>Od(t))).join(",");return`${r.op}(${e})`}}function B_(r,e){return r instanceof ft?(function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&or(s.value,o.value)})(r,e):r instanceof $n?(function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,f)=>l&&B_(h,o.filters[f])),!0):!1})(r,e):void Ie()}function $_(r){return r instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${vo(t.value)}`})(r):r instanceof $n?(function(t){return t.op.toString()+" {"+t.getFilters().map($_).join(" ,")+"}"})(r):"Filter"}class j1 extends ft{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class F1 extends ft{constructor(e,t){super(e,"in",t),this.keys=q_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class U1 extends ft{constructor(e,t){super(e,"not-in",t),this.keys=q_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function q_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class z1 extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gf(t)&&qa(t.arrayValue,this.value)}}class B1 extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qa(this.value.arrayValue,t)}}class $1 extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!qa(this.value.arrayValue,t)}}class q1 extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>qa(this.value.arrayValue,s)))}}class H1{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function Yg(r,e=null,t=[],s=[],o=null,l=null,h=null){return new H1(r,e,t,s,o,l,h)}function yf(r){const e=xe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Od(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>vo(s))).join(",")),e.ue=t}return e.ue}function _f(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!L1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!B_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qg(r.startAt,e.startAt)&&Qg(r.endAt,e.endAt)}function Ld(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ko{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function W1(r,e,t,s,o,l,h,f){return new ko(r,e,t,s,o,l,h,f)}function vf(r){return new ko(r)}function Xg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function H_(r){return r.collectionGroup!==null}function Va(r){const e=xe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Dt(bt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(f=f.add(_.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Ha(l,s))})),t.has(bt.keyField().canonicalString())||e.ce.push(new Ha(bt.keyField(),s))}return e.ce}function ir(r){const e=xe(r);return e.le||(e.le=K1(e,Va(r))),e.le}function K1(r,e){if(r.limitType==="F")return Yg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Ha(o.field,l)}));const t=r.endAt?new tc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new tc(r.startAt.position,r.startAt.inclusive):null;return Yg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Md(r,e){const t=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function jd(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function mc(r,e){return _f(ir(r),ir(e))&&r.limitType===e.limitType}function W_(r){return`${yf(ir(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>$_(o))).join(", ")}]`),pc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>vo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(ir(r))}; limitType=${r.limitType})`}function gc(r,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,o){for(const l of Va(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,f,g){const _=Gg(h,f,g);return h.inclusive?_<=0:_<0})(s.startAt,Va(s),o)||s.endAt&&!(function(h,f,g){const _=Gg(h,f,g);return h.inclusive?_>=0:_>0})(s.endAt,Va(s),o))})(r,e)}function G1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function K_(r){return(e,t)=>{let s=!1;for(const o of Va(r)){const l=Q1(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function Q1(r,e,t){const s=r.field.isKeyField()?ye.comparator(e.key,t.key):(function(l,h,f){const g=h.data.field(l),_=f.data.field(l);return g!==null&&_!==null?_o(g,_):Ie()})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ie()}}class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return L_(this.inner)}size(){return this.innerSize}}const Y1=new st(ye.comparator);function Or(){return Y1}const G_=new st(ye.comparator);function Ra(...r){let e=G_;for(const t of r)e=e.insert(t.key,t);return e}function Q_(r){let e=G_;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ts(){return Oa()}function Y_(){return Oa()}function Oa(){return new Ao((r=>r.toString()),((r,e)=>r.isEqual(e)))}const X1=new st(ye.comparator),J1=new Dt(ye.comparator);function De(...r){let e=J1;for(const t of r)e=e.add(t);return e}const Z1=new Dt(Be);function eS(){return Z1}function wf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function X_(r){return{integerValue:""+r}}function tS(r,e){return N1(e)?X_(e):wf(r,e)}class yc{constructor(){this._=void 0}}function nS(r,e,t){return r instanceof Wa?(function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&pf(l)&&(l=mf(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}})(t,e):r instanceof Ka?Z_(r,e):r instanceof Ga?ev(r,e):(function(o,l){const h=J_(o,l),f=Jg(h)+Jg(o.Pe);return Vd(h)&&Vd(o.Pe)?X_(f):wf(o.serializer,f)})(r,e)}function rS(r,e,t){return r instanceof Ka?Z_(r,e):r instanceof Ga?ev(r,e):t}function J_(r,e){return r instanceof nc?(function(s){return Vd(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Wa extends yc{}class Ka extends yc{constructor(e){super(),this.elements=e}}function Z_(r,e){const t=tv(e);for(const s of r.elements)t.some((o=>or(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ga extends yc{constructor(e){super(),this.elements=e}}function ev(r,e){let t=tv(e);for(const s of r.elements)t=t.filter((o=>!or(o,s)));return{arrayValue:{values:t}}}class nc extends yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Jg(r){return ut(r.integerValue||r.doubleValue)}function tv(r){return gf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class iS{constructor(e,t){this.field=e,this.transform=t}}function sS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ka&&o instanceof Ka||s instanceof Ga&&o instanceof Ga?yo(s.elements,o.elements,or):s instanceof nc&&o instanceof nc?or(s.Pe,o.Pe):s instanceof Wa&&o instanceof Wa})(r.transform,e.transform)}class oS{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _c{}function nv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ef(r.key,Bn.none()):new sl(r.key,r.data,Bn.none());{const t=r.data,s=rn.empty();let o=new Dt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Si(r.key,s,new dn(o.toArray()),Bn.none())}}function aS(r,e,t){r instanceof sl?(function(o,l,h){const f=o.value.clone(),g=ey(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Si?(function(o,l,h){if(!zu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=ey(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(rv(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function La(r,e,t,s){return r instanceof sl?(function(l,h,f,g){if(!zu(l.precondition,h))return f;const _=l.value.clone(),w=ty(l.fieldTransforms,g,h);return _.setAll(w),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,t,s):r instanceof Si?(function(l,h,f,g){if(!zu(l.precondition,h))return f;const _=ty(l.fieldTransforms,g,h),w=h.data;return w.setAll(rv(l)),w.setAll(_),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((A=>A.field)))})(r,e,t,s):(function(l,h,f){return zu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function lS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=J_(s.transform,o||null);l!=null&&(t===null&&(t=rn.empty()),t.set(s.field,l))}return t||null}function Zg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((l,h)=>sS(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class sl extends _c{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Si extends _c{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function ey(r,e,t){const s=new Map;qe(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,rS(h,f,t[o]))}return s}function ty(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,nS(l,h,e))}return s}class Ef extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uS extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&aS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=La(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=La(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Y_();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=nv(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((t,s)=>Zg(t,s)))&&yo(this.baseMutations,e.baseMutations,((t,s)=>Zg(t,s)))}}class Tf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){qe(e.mutations.length===s.length);let o=(function(){return X1})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Tf(e,t,s,o)}}class hS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dS{constructor(e,t){this.count=e,this.unchangedNames=t}}var dt,je;function fS(r){switch(r){default:return Ie();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function iv(r){if(r===void 0)return Vr("GRPC error has no .code"),G.UNKNOWN;switch(r){case dt.OK:return G.OK;case dt.CANCELLED:return G.CANCELLED;case dt.UNKNOWN:return G.UNKNOWN;case dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case dt.INTERNAL:return G.INTERNAL;case dt.UNAVAILABLE:return G.UNAVAILABLE;case dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case dt.NOT_FOUND:return G.NOT_FOUND;case dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case dt.ABORTED:return G.ABORTED;case dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case dt.DATA_LOSS:return G.DATA_LOSS;default:return Ie()}}(je=dt||(dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function pS(){return new TextEncoder}const mS=new ns([4294967295,4294967295],0);function ny(r){const e=pS().encode(r),t=new P_;return t.update(e),new Uint8Array(t.digest())}function ry(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ns([t,s],0),new ns([o,l],0)]}class If{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ca(`Invalid padding: ${t}`);if(s<0)throw new Ca(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ns.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(ns.fromNumber(s)));return o.compare(mS)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=ny(e),[s,o]=ry(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new If(l,o,t);return s.forEach((f=>h.insert(f))),h}insert(e){if(this.Ie===0)return;const t=ny(e),[s,o]=ry(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ol.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new vc(Se.min(),o,new st(Be),Or(),De())}}class ol{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ol(s,t,De(),De(),De())}}class Bu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class sv{constructor(e,t){this.targetId=e,this.me=t}}class ov{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class iy{constructor(){this.fe=0,this.ge=oy(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),s=De();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ie()}})),new ol(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=oy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Or(),this.qe=sy(),this.Qe=new st(Be)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Ie()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const l=o.target;if(Ld(l))if(s===0){const h=new ye(l.path);this.Ue(t,h,zt.newNoDocument(h,Se.min()))}else qe(s===1);else{const h=this.Ye(t);if(h!==s){const f=this.Ze(e),g=f?this.Xe(f,e,h):1;if(g!==0){this.je(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=us(s).toUint8Array()}catch(g){if(g instanceof M_)return go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new If(h,o,l)}catch(g){return go(g instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ie===0?null:f}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.Le.tt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,l,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((l,h)=>{const f=this.Je(h);if(f){if(l.current&&Ld(f.target)){const g=new ye(f.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,zt.newNoDocument(g,e))}l.be&&(t.set(h,l.ve()),l.Ce())}}));let s=De();this.qe.forEach(((l,h)=>{let f=!0;h.forEachWhile((g=>{const _=this.Je(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.ke.forEach(((l,h)=>h.setReadTime(e)));const o=new vc(e,t,this.Qe,this.ke,s);return this.ke=Or(),this.qe=sy(),this.Qe=new st(Be),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new iy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt(Be),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new iy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sy(){return new st(ye.comparator)}function oy(){return new st(ye.comparator)}const yS={asc:"ASCENDING",desc:"DESCENDING"},_S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vS={and:"AND",or:"OR"};class wS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fd(r,e){return r.useProto3Json||pc(e)?e:{value:e}}function rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function av(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ES(r,e){return rc(r,e.toTimestamp())}function sr(r){return qe(!!r),Se.fromTimestamp((function(t){const s=wi(t);return new vt(s.seconds,s.nanos)})(r))}function Sf(r,e){return Ud(r,e).canonicalString()}function Ud(r,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function lv(r){const e=et.fromString(r);return qe(fv(e)),e}function zd(r,e){return Sf(r.databaseId,e.path)}function yd(r,e){const t=lv(e);if(t.get(1)!==r.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(cv(t))}function uv(r,e){return Sf(r.databaseId,e)}function TS(r){const e=lv(r);return e.length===4?et.emptyPath():cv(e)}function Bd(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cv(r){return qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function ay(r,e,t){return{name:zd(r,e),fields:t.value.mapValue.fields}}function IS(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ie()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,w){return _.useProto3Json?(qe(w===void 0||typeof w=="string"),Vt.fromBase64String(w||"")):(qe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Vt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(_){const w=_.code===void 0?G.UNKNOWN:iv(_.code);return new le(w,_.message||"")})(h);t=new ov(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yd(r,s.document.name),l=sr(s.document.updateTime),h=s.document.createTime?sr(s.document.createTime):Se.min(),f=new rn({mapValue:{fields:s.document.fields}}),g=zt.newFoundDocument(o,l,h,f),_=s.targetIds||[],w=s.removedTargetIds||[];t=new Bu(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yd(r,s.document),l=s.readTime?sr(s.readTime):Se.min(),h=zt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new Bu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yd(r,s.document),l=s.removedTargetIds||[];t=new Bu([],l,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new dS(o,l),f=s.targetId;t=new sv(f,h)}}return t}function SS(r,e){let t;if(e instanceof sl)t={update:ay(r,e.key,e.value)};else if(e instanceof Ef)t={delete:zd(r,e.key)};else if(e instanceof Si)t={update:ay(r,e.key,e.data),updateMask:DS(e.fieldMask)};else{if(!(e instanceof uS))return Ie();t={verify:zd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const f=h.transform;if(f instanceof Wa)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ka)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ga)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Ie()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:ES(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie()})(r,e.precondition)),t}function xS(r,e){return r&&r.length>0?(qe(e!==void 0),r.map((t=>(function(o,l){let h=o.updateTime?sr(o.updateTime):sr(l);return h.isEqual(Se.min())&&(h=sr(l)),new oS(h,o.transformResults||[])})(t,e)))):[]}function kS(r,e){return{documents:[uv(r,e.path)]}}function AS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=uv(r,o);const l=(function(_){if(_.length!==0)return dv($n.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(_){if(_.length!==0)return _.map((w=>(function(P){return{field:ao(P.field),direction:CS(P.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Fd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:t,parent:o}}function PS(r){let e=TS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){qe(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(A){const P=hv(A);return P instanceof $n&&z_(P)?P.getFilters():[P]})(t.where));let h=[];t.orderBy&&(h=(function(A){return A.map((P=>(function(B){return new Ha(lo(B.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(P)))})(t.orderBy));let f=null;t.limit&&(f=(function(A){let P;return P=typeof A=="object"?A.value:A,pc(P)?null:P})(t.limit));let g=null;t.startAt&&(g=(function(A){const P=!!A.before,F=A.values||[];return new tc(F,P)})(t.startAt));let _=null;return t.endAt&&(_=(function(A){const P=!A.before,F=A.values||[];return new tc(F,P)})(t.endAt)),W1(e,o,h,l,f,"F",g,_)}function RS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hv(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=lo(t.unaryFilter.field);return ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}})(r):r.fieldFilter!==void 0?(function(t){return ft.create(lo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return $n.create(t.compositeFilter.filters.map((s=>hv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}})(t.compositeFilter.op))})(r):Ie()}function CS(r){return yS[r]}function NS(r){return _S[r]}function bS(r){return vS[r]}function ao(r){return{fieldPath:r.canonicalString()}}function lo(r){return bt.fromServerFormat(r.fieldPath)}function dv(r){return r instanceof ft?(function(t){if(t.op==="=="){if(Kg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NAN"}};if(Wg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NAN"}};if(Wg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(t.field),op:NS(t.op),value:t.value}}})(r):r instanceof $n?(function(t){const s=t.getFilters().map((o=>dv(o)));return s.length===1?s[0]:{compositeFilter:{op:bS(t.op),filters:s}}})(r):Ie()}function DS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function fv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class fi{constructor(e,t,s,o,l=Se.min(),h=Se.min(),f=Vt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VS{constructor(e){this.ct=e}}function OS(r){const e=PS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jd(e,e.limit,"L"):e}class LS{constructor(){this.un=new MS}addToCollectionParentIndex(e,t){return this.un.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(vi.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class MS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(et.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}class wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wo(0)}static kn(){return new wo(-1)}}class jS{constructor(){this.changes=new Ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class US{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&La(s.mutation,o,dn.empty(),vt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const o=ts();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=Ra();return l.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=ts();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,s,o){let l=Or();const h=Oa(),f=(function(){return Oa()})();return t.forEach(((g,_)=>{const w=s.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof Si)?l=l.insert(_.key,_):w!==void 0?(h.set(_.key,w.mutation.getFieldMask()),La(w.mutation,_,w.mutation.getFieldMask(),vt.now())):h.set(_.key,dn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((_,w)=>h.set(_,w))),t.forEach(((_,w)=>{var A;return f.set(_,new FS(w,(A=h.get(_))!==null&&A!==void 0?A:null))})),f)))}recalculateAndSaveOverlays(e,t){const s=Oa();let o=new st(((h,f)=>h-f)),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const _=t.get(g);if(_===null)return;let w=s.get(g)||dn.empty();w=f.applyToLocalView(_,w),s.set(g,w);const A=(o.get(f.batchId)||De()).add(g);o=o.insert(f.batchId,A)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),_=g.key,w=g.value,A=Y_();w.forEach((P=>{if(!l.has(P)){const F=nv(t.get(P),s.get(P));F!==null&&A.set(P,F),l=l.add(P)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):H_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):X.resolve(ts());let f=-1,g=l;return h.next((_=>X.forEach(_,((w,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),l.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next((P=>{g=g.insert(w,P)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,g,_,De()))).next((w=>({batchId:f,changes:Q_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let o=Ra();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Ra();return this.indexManager.getCollectionParents(e,l).next((f=>X.forEach(f,(g=>{const _=(function(A,P){return new ko(P,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((w=>{w.forEach(((A,P)=>{h=h.insert(A,P)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((g,_)=>{const w=_.getKey();h.get(w)===null&&(h=h.insert(w,zt.newInvalidDocument(w)))}));let f=Ra();return h.forEach(((g,_)=>{const w=l.get(g);w!==void 0&&La(w.mutation,_,dn.empty(),vt.now()),gc(t,_)&&(f=f.insert(g,_))})),f}))}}class zS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return X.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:sr(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:OS(o.bundledQuery),readTime:sr(o.readTime)}})(t)),X.resolve()}}class BS{constructor(){this.overlays=new st(ye.comparator),this.Ir=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ts();return X.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.ht(e,t,l)})),X.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const o=ts(),l=t.length+1,h=new ye(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new st(((_,w)=>_-w));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let w=l.get(_.largestBatchId);w===null&&(w=ts(),l=l.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const f=ts(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,w)=>f.set(_,w))),!(f.size()>=o)););return X.resolve(f)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new hS(t,s));let l=this.Ir.get(t);l===void 0&&(l=De(),this.Ir.set(t,l)),this.Ir.set(t,l.add(s.key))}}class $S{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}class xf{constructor(){this.Tr=new Dt(xt.Er),this.dr=new Dt(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new xt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new xt(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new ye(new et([])),s=new xt(t,e),o=new xt(t,e+1),l=[];return this.dr.forEachInRange([s,o],(h=>{this.Vr(h),l.push(h.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ye(new et([])),s=new xt(t,e),o=new xt(t,e+1);let l=De();return this.dr.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new xt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class xt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ye.comparator(e.key,t.key)||Be(e.wr,t.wr)}static Ar(e,t){return Be(e.wr,t.wr)||ye.comparator(e.key,t.key)}}class qS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dt(xt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cS(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.br=this.br.add(new xt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,t){return X.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new xt(t,0),o=new xt(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([s,o],(h=>{const f=this.Dr(h.wr);l.push(f)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Be);return t.forEach((o=>{const l=new xt(o,0),h=new xt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,h],(f=>{s=s.add(f.wr)}))})),X.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const h=new xt(new ye(l),0);let f=new Dt(Be);return this.br.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(f=f.add(g.wr)),!0)}),h),X.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return X.forEach(t.mutations,(o=>{const l=new xt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new xt(t,0),o=this.br.firstAfterOrEqual(s);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class HS{constructor(e){this.Mr=e,this.docs=(function(){return new st(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let s=Or();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Or();const h=t.path,f=new ye(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||A1(k1(w),s)<=0||(o.has(w.key)||gc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ie()}Or(e,t){return X.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new WS(this)}getSize(e){return X.resolve(this.size)}}class WS extends jS{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),X.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class KS{constructor(e){this.persistence=e,this.Nr=new Ao((t=>yf(t)),_f),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xf,this.targetCount=0,this.kr=wo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),X.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Kn(t),X.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Nr.forEach(((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Nr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),X.waitFor(l).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this.Br.containsKey(t))}}class GS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ff(0),this.Kr=!1,this.Kr=!0,this.$r=new $S,this.referenceDelegate=e(this),this.Ur=new KS(this),this.indexManager=new LS,this.remoteDocumentCache=(function(o){return new HS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new VS(t),this.Gr=new zS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new qS(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new QS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,t){return X.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class QS extends R1{constructor(e){super(),this.currentSequenceNumber=e}}class kf{constructor(e){this.persistence=e,this.Jr=new xf,this.Yr=null}static Zr(e){return new kf(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),X.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,(s=>{const o=ye.fromPath(s);return this.ei(e,o).next((l=>{l||t.removeEntry(o,Se.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return X.or([()=>X.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Af{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=De(),o=De();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Af(e,t.fromCache,s,o)}}class YS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return jw()?8:C1(Bt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Yi(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.Zi(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new YS;return this.Xi(e,t,h).next((f=>{if(l.result=f,this.zi)return this.es(e,t,h,f.size)}))})).next((()=>l.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(xa()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(xa()<=Oe.DEBUG&&fe("QueryEngine","Query:",oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(xa()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(t))):X.resolve())}Yi(e,t){if(Xg(t))return X.resolve(null);let s=ir(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=jd(t,null,"F"),s=ir(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=De(...l);return this.Ji.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,s).next((g=>{const _=this.ts(t,f);return this.ns(t,_,h,g.readTime)?this.Yi(e,jd(t,null,"F")):this.rs(e,_,t,g)}))))})))))}Zi(e,t,s,o){return Xg(t)||o.isEqual(Se.min())?X.resolve(null):this.Ji.getDocuments(e,s).next((l=>{const h=this.ts(t,l);return this.ns(t,h,s,o)?X.resolve(null):(xa()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(t)),this.rs(e,h,t,x1(o,-1)).next((f=>f)))}))}ts(e,t){let s=new Dt(K_(e));return t.forEach(((o,l)=>{gc(e,l)&&(s=s.add(l))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,t,s){return xa()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",oo(t)),this.Ji.getDocumentsMatchingQuery(e,t,vi.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}class JS{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new st(Be),this._s=new Ao((l=>yf(l)),_f),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new US(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function ZS(r,e,t,s){return new JS(r,e,t,s)}async function pv(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],f=[];let g=De();for(const _ of o){h.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of l){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((_=>({hs:_,removedBatchIds:h,addedBatchIds:f})))}))}))}function ex(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(f,g,_,w){const A=_.batch,P=A.keys();let F=X.resolve();return P.forEach((B=>{F=F.next((()=>w.getEntry(g,B))).next((H=>{const $=_.docVersions.get(B);qe($!==null),H.version.compareTo($)<0&&(A.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),w.addEntry(H)))}))})),F.next((()=>f.mutationQueue.removeMutationBatch(g,A)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let g=De();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(g=g.add(f.batch.mutations[_].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function mv(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function tx(r,e){const t=xe(r),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const f=[];e.targetChanges.forEach(((w,A)=>{const P=o.get(A);if(!P)return;f.push(t.Ur.removeMatchingKeys(l,w.removedDocuments,A).next((()=>t.Ur.addMatchingKeys(l,w.addedDocuments,A))));let F=P.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(Vt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,s)),o=o.insert(A,F),(function(H,$,ie){return H.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(P,F,w)&&f.push(t.Ur.updateTargetData(l,F))}));let g=Or(),_=De();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(nx(l,h,e.documentUpdates).next((w=>{g=w.Ps,_=w.Is}))),!s.isEqual(Se.min())){const w=t.Ur.getLastRemoteSnapshotVersion(l).next((A=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(w)}return X.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,_))).next((()=>g))})).then((l=>(t.os=o,l)))}function nx(r,e,t){let s=De(),o=De();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let h=Or();return t.forEach(((f,g)=>{const _=l.get(f);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",g.version)})),{Ps:h,Is:o}}))}function rx(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ix(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((l=>l?(o=l,X.resolve(o)):t.Ur.allocateTargetId(s).next((h=>(o=new fi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function $d(r,e,t){const s=xe(r),o=s.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!il(h))throw h;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function ly(r,e,t){const s=xe(r);let o=Se.min(),l=De();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,_,w){const A=xe(g),P=A._s.get(w);return P!==void 0?X.resolve(A.os.get(P)):A.Ur.getTargetData(_,w)})(s,h,ir(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,f.targetId).next((g=>{l=g}))})).next((()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?l:De()))).next((f=>(sx(s,G1(e),f),{documents:f,Ts:l})))))}function sx(r,e,t){let s=r.us.get(e)||Se.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.us.set(e,s)}class uy{constructor(){this.activeTargetIds=eS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ox{constructor(){this.so=new uy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ax{_o(e){}shutdown(){}}class cy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cu=null;function _d(){return Cu===null?Cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cu++,"0x"+Cu.toString(16)}const lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ux{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ft="WebChannelConnection";class cx extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(t,s,o,l,h){const f=_d(),g=this.xo(t,s.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,l,h),this.No(t,g,_,o).then((w=>(fe("RestConnection",`Received RPC '${t}' ${f}: `,w),w)),(w=>{throw go("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",o),w}))}Lo(t,s,o,l,h,f){return this.Mo(t,s,o,l,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((l,h)=>t[h]=l)),o&&o.headers.forEach(((l,h)=>t[h]=l))}xo(t,s){const o=lx[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const l=_d();return new Promise(((h,f)=>{const g=new R_;g.setWithCredentials(!0),g.listenOnce(C_.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Fu.NO_ERROR:const w=g.getResponseJson();fe(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Fu.TIMEOUT:fe(Ft,`RPC '${e}' ${l} timed out`),f(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const A=g.getStatus();if(fe(Ft,`RPC '${e}' ${l} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P?.error;if(F&&F.status&&F.message){const B=(function($){const ie=$.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(ie)>=0?ie:G.UNKNOWN})(F.status);f(new le(B,F.message))}else f(new le(G.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new le(G.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{fe(Ft,`RPC '${e}' ${l} completed.`)}}));const _=JSON.stringify(o);fe(Ft,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",_,s,15)}))}Bo(e,t,s){const o=_d(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=D_(),f=b_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=l.join("");fe(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,g);const A=h.createWebChannel(w,g);let P=!1,F=!1;const B=new ux({Io:$=>{F?fe(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(P||(fe(Ft,`Opening RPC '${e}' stream ${o} transport.`),A.open(),P=!0),fe(Ft,`RPC '${e}' stream ${o} sending:`,$),A.send($))},To:()=>A.close()}),H=($,ie,ne)=>{$.listen(ie,(te=>{try{ne(te)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return H(A,Pa.EventType.OPEN,(()=>{F||(fe(Ft,`RPC '${e}' stream ${o} transport opened.`),B.yo())})),H(A,Pa.EventType.CLOSE,(()=>{F||(F=!0,fe(Ft,`RPC '${e}' stream ${o} transport closed`),B.So())})),H(A,Pa.EventType.ERROR,($=>{F||(F=!0,go(Ft,`RPC '${e}' stream ${o} transport errored:`,$),B.So(new le(G.UNAVAILABLE,"The operation could not be completed")))})),H(A,Pa.EventType.MESSAGE,($=>{var ie;if(!F){const ne=$.data[0];qe(!!ne);const te=ne,ae=te.error||((ie=te[0])===null||ie===void 0?void 0:ie.error);if(ae){fe(Ft,`RPC '${e}' stream ${o} received error:`,ae);const Ae=ae.status;let ge=(function(S){const R=dt[S];if(R!==void 0)return iv(R)})(Ae),C=ae.message;ge===void 0&&(ge=G.INTERNAL,C="Unknown error status: "+Ae+" with message "+ae.message),F=!0,B.So(new le(ge,C)),A.close()}else fe(Ft,`RPC '${e}' stream ${o} received:`,ne),B.bo(ne)}})),H(f,N_.STAT_EVENT,($=>{$.stat===bd.PROXY?fe(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===bd.NOPROXY&&fe(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.wo()}),0),B}}function vd(){return typeof document<"u"?document:null}function wc(r){return new wS(r,!0)}class gv{constructor(e,t,s=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class yv{constructor(e,t,s,o,l,h,f,g){this.ui=e,this.Ho=s,this.Jo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gv(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new le(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hx extends yv{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=IS(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Se.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?sr(h.readTime):Se.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=Bd(this.serializer),t.addTarget=(function(l,h){let f;const g=h.target;if(f=Ld(g)?{documents:kS(l,g)}:{query:AS(l,g)._t},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=av(l,h.resumeToken);const _=Fd(l,h.expectedCount);_!==null&&(f.expectedCount=_)}else if(h.snapshotVersion.compareTo(Se.min())>0){f.readTime=rc(l,h.snapshotVersion.toTimestamp());const _=Fd(l,h.expectedCount);_!==null&&(f.expectedCount=_)}return f})(this.serializer,e);const s=RS(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=Bd(this.serializer),t.removeTarget=e,this.a_(t)}}class dx extends yv{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=xS(e.writeResults,e.commitTime),s=sr(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=Bd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>SS(this.serializer,s)))};this.a_(t)}}class fx extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Mo(e,Ud(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(G.UNKNOWN,l.toString())}))}Lo(e,t,s,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Lo(e,Ud(t,s),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(G.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class px{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(t),this.D_=!1):fe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class mx{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((h=>{s.enqueueAndForget((async()=>{ds(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const _=xe(g);_.L_.add(4),await al(_),_.q_.set("Unknown"),_.L_.delete(4),await Ec(_)})(this))}))})),this.q_=new px(s,o)}}async function Ec(r){if(ds(r))for(const e of r.B_)await e(!0)}async function al(r){for(const e of r.B_)await e(!1)}function _v(r,e){const t=xe(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Nf(t)?Cf(t):Po(t).r_()&&Rf(t,e))}function Pf(r,e){const t=xe(r),s=Po(t);t.N_.delete(e),s.r_()&&vv(t,e),t.N_.size===0&&(s.r_()?s.o_():ds(t)&&t.q_.set("Unknown"))}function Rf(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).A_(e)}function vv(r,e){r.Q_.xe(e),Po(r).R_(e)}function Cf(r){r.Q_=new gS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.q_.v_()}function Nf(r){return ds(r)&&!Po(r).n_()&&r.N_.size>0}function ds(r){return xe(r).L_.size===0}function wv(r){r.Q_=void 0}async function gx(r){r.q_.set("Online")}async function yx(r){r.N_.forEach(((e,t)=>{Rf(r,e)}))}async function _x(r,e){wv(r),Nf(r)?(r.q_.M_(e),Cf(r)):r.q_.set("Unknown")}async function vx(r,e,t){if(r.q_.set("Online"),e instanceof ov&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.N_.delete(f),o.Q_.removeTarget(f))})(r,e)}catch(s){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ic(r,s)}else if(e instanceof Bu?r.Q_.Ke(e):e instanceof sv?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Se.min()))try{const s=await mv(r.localStore);t.compareTo(s)>=0&&await(function(l,h){const f=l.Q_.rt(h);return f.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.N_.get(_);w&&l.N_.set(_,w.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,_)=>{const w=l.N_.get(g);if(!w)return;l.N_.set(g,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),vv(l,g);const A=new fi(w.target,g,_,w.sequenceNumber);Rf(l,A)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(s){fe("RemoteStore","Failed to raise snapshot:",s),await ic(r,s)}}async function ic(r,e,t){if(!il(e))throw e;r.L_.add(1),await al(r),r.q_.set("Offline"),t||(t=()=>mv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await Ec(r)}))}function Ev(r,e){return e().catch((t=>ic(r,t,e)))}async function Tc(r){const e=xe(r),t=Ei(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wx(e);)try{const o=await rx(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,Ex(e,o)}catch(o){await ic(e,o)}Tv(e)&&Iv(e)}function wx(r){return ds(r)&&r.O_.length<10}function Ex(r,e){r.O_.push(e);const t=Ei(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Tv(r){return ds(r)&&!Ei(r).n_()&&r.O_.length>0}function Iv(r){Ei(r).start()}async function Tx(r){Ei(r).p_()}async function Ix(r){const e=Ei(r);for(const t of r.O_)e.m_(t.mutations)}async function Sx(r,e,t){const s=r.O_.shift(),o=Tf.from(s,e,t);await Ev(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Tc(r)}async function xx(r,e){e&&Ei(r).V_&&await(async function(s,o){if((function(h){return fS(h)&&h!==G.ABORTED})(o.code)){const l=s.O_.shift();Ei(s).s_(),await Ev(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Tc(s)}})(r,e),Tv(r)&&Iv(r)}async function hy(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const s=ds(t);t.L_.add(3),await al(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Ec(t)}async function kx(r,e){const t=xe(r);e?(t.L_.delete(2),await Ec(t)):e||(t.L_.add(2),await al(t),t.q_.set("Unknown"))}function Po(r){return r.K_||(r.K_=(function(t,s,o){const l=xe(t);return l.w_(),new hx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:gx.bind(null,r),Ro:yx.bind(null,r),mo:_x.bind(null,r),d_:vx.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Nf(r)?Cf(r):r.q_.set("Unknown")):(await r.K_.stop(),wv(r))}))),r.K_}function Ei(r){return r.U_||(r.U_=(function(t,s,o){const l=xe(t);return l.w_(),new dx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Tx.bind(null,r),mo:xx.bind(null,r),f_:Ix.bind(null,r),g_:Sx.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Tc(r)):(await r.U_.stop(),r.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class bf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new bf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Df(r,e){if(Vr("AsyncQueue",`${e}: ${r}`),il(r))return new le(G.UNAVAILABLE,`${e}: ${r}`);throw r}class fo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=Ra(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class dy{constructor(){this.W_=new st(ye.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Eo{constructor(e,t,s,o,l,h,f,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new Eo(e,t,fo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class Ax{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Px{constructor(){this.queries=fy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=xe(t),l=o.queries;o.queries=fy(),l.forEach(((h,f)=>{for(const g of f.j_)g.onError(s)}))})(this,new le(G.ABORTED,"Firestore shutting down"))}}function fy(){return new Ao((r=>W_(r)),mc)}async function Sv(r,e){const t=xe(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.H_()&&e.J_()&&(s=2):(l=new Ax,s=e.J_()?0:1);try{switch(s){case 0:l.z_=await t.onListen(o,!0);break;case 1:l.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Df(h,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&Vf(t)}async function xv(r,e){const t=xe(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.j_.indexOf(e);h>=0&&(l.j_.splice(h,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Rx(r,e){const t=xe(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.j_)f.X_(o)&&(s=!0);h.z_=o}}s&&Vf(t)}function Cx(r,e,t){const s=xe(r),o=s.queries.get(e);if(o)for(const l of o.j_)l.onError(t);s.queries.delete(e)}function Vf(r){r.Y_.forEach((e=>{e.next()}))}var qd,py;(py=qd||(qd={})).ea="default",py.Cache="cache";class kv{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qd.Cache}}class Av{constructor(e){this.key=e}}class Pv{constructor(e){this.key=e}}class Nx{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=K_(e),this.Ra=new fo(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new dy,o=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,A)=>{const P=o.get(w),F=gc(this.query,A)?A:null,B=!!P&&this.mutatedKeys.has(P.key),H=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let $=!1;P&&F?P.data.isEqual(F.data)?B!==H&&(s.track({type:3,doc:F}),$=!0):this.ga(P,F)||(s.track({type:2,doc:F}),$=!0,(g&&this.Aa(F,g)>0||_&&this.Aa(F,_)<0)&&(f=!0)):!P&&F?(s.track({type:0,doc:F}),$=!0):P&&!F&&(s.track({type:1,doc:P}),$=!0,(g||_)&&(f=!0)),$&&(F?(h=h.add(F),l=H?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{Ra:h,fa:s,ns:f,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((w,A)=>(function(F,B){const H=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return H(F)-H(B)})(w.type,A.type)||this.Aa(w.doc,A.doc))),this.pa(s),o=o!=null&&o;const f=t&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,_=g!==this.Ea;return this.Ea=g,h.length!==0||_?{snapshot:new Eo(this.query,e.Ra,l,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new Pv(s))})),this.da.forEach((s=>{e.has(s)||t.push(new Av(s))})),t}ba(e){this.Ta=e.Ts,this.da=De();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Dx{constructor(e){this.key=e,this.va=!1}}class Vx{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Ao((f=>W_(f)),mc),this.Ma=new Map,this.xa=new Set,this.Oa=new st(ye.comparator),this.Na=new Map,this.La=new xf,this.Ba={},this.ka=new Map,this.qa=wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ox(r,e,t=!0){const s=Vv(r);let o;const l=s.Fa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await Rv(s,e,t,!0),o}async function Lx(r,e){const t=Vv(r);await Rv(t,e,!0,!1)}async function Rv(r,e,t,s){const o=await ix(r.localStore,ir(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await Mx(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&_v(r.remoteStore,o),f}async function Mx(r,e,t,s,o){r.Ka=(A,P,F)=>(async function(H,$,ie,ne){let te=$.view.ma(ie);te.ns&&(te=await ly(H.localStore,$.query,!1).then((({documents:C})=>$.view.ma(C,te))));const ae=ne&&ne.targetChanges.get($.targetId),Ae=ne&&ne.targetMismatches.get($.targetId)!=null,ge=$.view.applyChanges(te,H.isPrimaryClient,ae,Ae);return gy(H,$.targetId,ge.wa),ge.snapshot})(r,A,P,F);const l=await ly(r.localStore,e,!0),h=new Nx(e,l.Ts),f=h.ma(l.documents),g=ol.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),_=h.applyChanges(f,r.isPrimaryClient,g);gy(r,t,_.wa);const w=new bx(e,t,h);return r.Fa.set(e,w),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),_.snapshot}async function jx(r,e,t){const s=xe(r),o=s.Fa.get(e),l=s.Ma.get(o.targetId);if(l.length>1)return s.Ma.set(o.targetId,l.filter((h=>!mc(h,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $d(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Pf(s.remoteStore,o.targetId),Hd(s,o.targetId)})).catch(rl)):(Hd(s,o.targetId),await $d(s.localStore,o.targetId,!0))}async function Fx(r,e){const t=xe(r),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Pf(t.remoteStore,s.targetId))}async function Ux(r,e,t){const s=Kx(r);try{const o=await(function(h,f){const g=xe(h),_=vt.now(),w=f.reduce(((F,B)=>F.add(B.key)),De());let A,P;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let B=Or(),H=De();return g.cs.getEntries(F,w).next(($=>{B=$,B.forEach(((ie,ne)=>{ne.isValidDocument()||(H=H.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,B))).next(($=>{A=$;const ie=[];for(const ne of f){const te=lS(ne,A.get(ne.key).overlayedDocument);te!=null&&ie.push(new Si(ne.key,te,j_(te.value.mapValue),Bn.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,ie,f)})).next(($=>{P=$;const ie=$.applyToLocalDocumentSet(A,H);return g.documentOverlayCache.saveOverlays(F,$.batchId,ie)}))})).then((()=>({batchId:P.batchId,changes:Q_(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let _=h.Ba[h.currentUser.toKey()];_||(_=new st(Be)),_=_.insert(f,g),h.Ba[h.currentUser.toKey()]=_})(s,o.batchId,t),await ll(s,o.changes),await Tc(s.remoteStore)}catch(o){const l=Df(o,"Failed to persist write");t.reject(l)}}async function Cv(r,e){const t=xe(r);try{const s=await tx(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Na.get(l);h&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?qe(h.va):o.removedDocuments.size>0&&(qe(h.va),h.va=!1))})),await ll(t,s,e)}catch(s){await rl(s)}}function my(r,e,t){const s=xe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((l,h)=>{const f=h.view.Z_(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=xe(h);g.onlineState=f;let _=!1;g.queries.forEach(((w,A)=>{for(const P of A.j_)P.Z_(f)&&(_=!0)})),_&&Vf(g)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zx(r,e,t){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),l=o&&o.key;if(l){let h=new st(ye.comparator);h=h.insert(l,zt.newNoDocument(l,Se.min()));const f=De().add(l),g=new vc(Se.min(),new Map,new st(Be),h,f);await Cv(s,g),s.Oa=s.Oa.remove(l),s.Na.delete(e),Of(s)}else await $d(s.localStore,e,!1).then((()=>Hd(s,e,t))).catch(rl)}async function Bx(r,e){const t=xe(r),s=e.batch.batchId;try{const o=await ex(t.localStore,e);bv(t,s,null),Nv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ll(t,o)}catch(o){await rl(o)}}async function $x(r,e,t){const s=xe(r);try{const o=await(function(h,f){const g=xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let w;return g.mutationQueue.lookupMutationBatch(_,f).next((A=>(qe(A!==null),w=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w))).next((()=>g.localDocuments.getDocuments(_,w)))}))})(s.localStore,e);bv(s,e,t),Nv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ll(s,o)}catch(o){await rl(o)}}function Nv(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function bv(r,e,t){const s=xe(r);let o=s.Ba[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Hd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||Dv(r,s)}))}function Dv(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Pf(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Of(r))}function gy(r,e,t){for(const s of t)s instanceof Av?(r.La.addReference(s.key,e),qx(r,s)):s instanceof Pv?(fe("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||Dv(r,s.key)):Ie()}function qx(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(fe("SyncEngine","New document in limbo: "+t),r.xa.add(s),Of(r))}function Of(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new ye(et.fromString(e)),s=r.qa.next();r.Na.set(s,new Dx(t)),r.Oa=r.Oa.insert(t,s),_v(r.remoteStore,new fi(ir(vf(t.path)),s,"TargetPurposeLimboResolution",ff.oe))}}async function ll(r,e,t){const s=xe(r),o=[],l=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach(((f,g)=>{h.push(s.Ka(g,e,t).then((_=>{var w;if((_||t)&&s.isPrimaryClient){const A=_?!_.fromCache:(w=t?.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Af.Wi(g.targetId,_);l.push(A)}})))})),await Promise.all(h),s.Ca.d_(o),await(async function(g,_){const w=xe(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(P=>X.forEach(P.$i,(F=>w.persistence.referenceDelegate.addReference(A,P.targetId,F))).next((()=>X.forEach(P.Ui,(F=>w.persistence.referenceDelegate.removeReference(A,P.targetId,F)))))))))}catch(A){if(!il(A))throw A;fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const P=A.targetId;if(!A.fromCache){const F=w.os.get(P),B=F.snapshotVersion,H=F.withLastLimboFreeSnapshotVersion(B);w.os=w.os.insert(P,H)}}})(s.localStore,l))}async function Hx(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const s=await pv(t.localStore,e);t.currentUser=e,(function(l,h){l.ka.forEach((f=>{f.forEach((g=>{g.reject(new le(G.CANCELLED,h))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ll(t,s.hs)}}function Wx(r,e){const t=xe(r),s=t.Na.get(e);if(s&&s.va)return De().add(s.key);{let o=De();const l=t.Ma.get(e);if(!l)return o;for(const h of l){const f=t.Fa.get(h);o=o.unionWith(f.view.Va)}return o}}function Vv(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zx.bind(null,e),e.Ca.d_=Rx.bind(null,e.eventManager),e.Ca.$a=Cx.bind(null,e.eventManager),e}function Kx(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$x.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ZS(this.persistence,new XS,e.initialUser,this.serializer)}Ga(e){return new GS(kf.Zr,this.serializer)}Wa(e){return new ox}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class Wd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>my(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hx.bind(null,this.syncEngine),await kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Px})()}createDatastore(e){const t=wc(e.databaseInfo.databaseId),s=(function(l){return new cx(l)})(e.databaseInfo);return(function(l,h,f,g){return new fx(l,h,f,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,f){return new mx(s,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>my(this.syncEngine,t,0)),(function(){return cy.D()?new cy:new ax})())}createSyncEngine(e,t){return(function(o,l,h,f,g,_,w){const A=new Vx(o,l,h,f,g,_);return w&&(A.Qa=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=xe(o);fe("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await al(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Wd.provider={build:()=>new Wd};class Ov{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Gx{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=O_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{fe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Df(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wd(r,e){r.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await pv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Qx(r);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>hy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>hy(e.remoteStore,o))),r._onlineComponents=e}async function Qx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await wd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;go("Error using user provided cache. Falling back to memory cache: "+t),await wd(r,new sc)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await wd(r,new sc);return r._offlineComponents}async function Lv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await yy(r,r._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await yy(r,new Wd))),r._onlineComponents}function Yx(r){return Lv(r).then((e=>e.syncEngine))}async function Mv(r){const e=await Lv(r),t=e.eventManager;return t.onListen=Ox.bind(null,e.syncEngine),t.onUnlisten=jx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fx.bind(null,e.syncEngine),t}function Xx(r,e,t={}){const s=new Cr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,g,_){const w=new Ov({next:P=>{w.Za(),h.enqueueAndForget((()=>xv(l,A)));const F=P.docs.has(f);!F&&P.fromCache?_.reject(new le(G.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&P.fromCache&&g&&g.source==="server"?_.reject(new le(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(P)},error:P=>_.reject(P)}),A=new kv(vf(f.path),w,{includeMetadataChanges:!0,_a:!0});return Sv(l,A)})(await Mv(r),r.asyncQueue,e,t,s))),s.promise}function Jx(r,e,t={}){const s=new Cr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,g,_){const w=new Ov({next:P=>{w.Za(),h.enqueueAndForget((()=>xv(l,A))),P.fromCache&&g.source==="server"?_.reject(new le(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),A=new kv(f,w,{includeMetadataChanges:!0,_a:!0});return Sv(l,A)})(await Mv(r),r.asyncQueue,e,t,s))),s.promise}function jv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const _y=new Map;function Fv(r,e,t){if(!t)throw new le(G.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Zx(r,e,t,s){if(e===!0&&s===!0)throw new le(G.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function vy(r){if(!ye.isDocumentKey(r))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wy(r){if(ye.isDocumentKey(r))throw new le(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ic(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie()}function ar(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ic(r);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Ey{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ey({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ey(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new g1;switch(s.type){case"firstParty":return new w1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=_y.get(t);s&&(fe("ComponentProvider","Removing Datastore"),_y.delete(t),s.terminate())})(this),Promise.resolve()}}function ek(r,e,t,s={}){var o;const l=(r=ar(r,Sc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ut.MOCK_USER;else{f=Nw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ut(_)}r._authCredentials=new y1(new V_(f,g))}}class fs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class Gt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class _i extends fs{constructor(e,t,s){super(e,t,vf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ye(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function tk(r,e,...t){if(r=kt(r),Fv("collection","path",e),r instanceof Sc){const s=et.fromString(e,...t);return wy(s),new _i(r,null,s)}{if(!(r instanceof Gt||r instanceof _i))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return wy(s),new _i(r.firestore,null,s)}}function po(r,e,...t){if(r=kt(r),arguments.length===1&&(e=O_.newId()),Fv("doc","path",e),r instanceof Sc){const s=et.fromString(e,...t);return vy(s),new Gt(r,null,new ye(s))}{if(!(r instanceof Gt||r instanceof _i))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return vy(s),new Gt(r.firestore,r instanceof _i?r.converter:null,new ye(s))}}class Ty{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gv(this,"async_queue_retry"),this.Vu=()=>{const s=vd();s&&fe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=vd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=vd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Cr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!il(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f})(s);throw Vr("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=bf.createAndSchedule(this,e,t,s,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ro extends Sc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ty,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ty(e),this._firestoreClient=void 0,await e}}}function nk(r,e){const t=typeof r=="object"?r:Hy(),s=typeof r=="string"?r:"(default)",o=Zd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Rw("firestore");l&&ek(o,...l)}return o}function Lf(r){if(r._terminated)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||rk(r),r._firestoreClient}function rk(r){var e,t,s;const o=r._freezeSettings(),l=(function(f,g,_,w){return new D1(f,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,jv(w.experimentalLongPollingOptions),w.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Gx(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(f){const g=f?._online.build();return{_offline:f?._offline.build(g),_online:g}})(r._componentsProvider))}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Vt.fromBase64String(e))}catch(t){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new To(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kc{constructor(e){this._methodName=e}}class Mf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}class jf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}}const ik=/^__.*__$/;class sk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}class Uv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Si(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class Ff{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return oc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zv(this.Cu)&&ik.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ok{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wc(e)}Qu(e,t,s,o=!1){return new Ff({Cu:e,methodName:t,qu:s,path:bt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uf(r){const e=r._freezeSettings(),t=wc(r._databaseId);return new ok(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ak(r,e,t,s,o,l={}){const h=r.Qu(l.merge||l.mergeFields?2:0,e,t,o);Bf("Data must be an object, but it was:",h,s);const f=Bv(s,h);let g,_;if(l.merge)g=new dn(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const A of l.mergeFields){const P=Kd(e,A,t);if(!h.contains(P))throw new le(G.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);qv(w,P)||w.push(P)}g=new dn(w),_=h.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=h.fieldTransforms;return new sk(new rn(f),g,_)}class Ac extends kc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}class zf extends kc{_toFieldTransform(e){return new iS(e.path,new Wa)}isEqual(e){return e instanceof zf}}function lk(r,e,t,s){const o=r.Qu(1,e,t);Bf("Data must be an object, but it was:",o,s);const l=[],h=rn.empty();hs(s,((g,_)=>{const w=$f(e,g,t);_=kt(_);const A=o.Nu(w);if(_ instanceof Ac)l.push(w);else{const P=ul(_,A);P!=null&&(l.push(w),h.set(w,P))}}));const f=new dn(l);return new Uv(h,f,o.fieldTransforms)}function uk(r,e,t,s,o,l){const h=r.Qu(1,e,t),f=[Kd(e,s,t)],g=[o];if(l.length%2!=0)throw new le(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<l.length;P+=2)f.push(Kd(e,l[P])),g.push(l[P+1]);const _=[],w=rn.empty();for(let P=f.length-1;P>=0;--P)if(!qv(_,f[P])){const F=f[P];let B=g[P];B=kt(B);const H=h.Nu(F);if(B instanceof Ac)_.push(F);else{const $=ul(B,H);$!=null&&(_.push(F),w.set(F,$))}}const A=new dn(_);return new Uv(w,A,h.fieldTransforms)}function ck(r,e,t,s=!1){return ul(t,r.Qu(s?4:3,e))}function ul(r,e){if($v(r=kt(r)))return Bf("Unsupported field value:",e,r),Bv(r,e);if(r instanceof kc)return(function(s,o){if(!zv(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const f of s){let g=ul(f,o.Lu(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=vt.fromDate(s);return{timestampValue:rc(o.serializer,l)}}if(s instanceof vt){const l=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rc(o.serializer,l)}}if(s instanceof Mf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:av(o.serializer,s._byteString)};if(s instanceof Gt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof jf)return(function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw f.Bu("VectorValues must only contain numeric values.");return wf(f.serializer,g)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${Ic(s)}`)})(r,e)}function Bv(r,e){const t={};return L_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(r,((s,o)=>{const l=ul(o,e.Mu(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function $v(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof Mf||r instanceof To||r instanceof Gt||r instanceof kc||r instanceof jf)}function Bf(r,e,t){if(!$v(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=Ic(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function Kd(r,e,t){if((e=kt(e))instanceof xc)return e._internalPath;if(typeof e=="string")return $f(r,e);throw oc("Field path arguments must be of type string or ",r,!1,void 0,t)}const hk=new RegExp("[~\\*/\\[\\]]");function $f(r,e,t){if(e.search(hk)>=0)throw oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch{throw oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function oc(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(G.INVALID_ARGUMENT,f+r+g)}function qv(r,e){return r.some((t=>t.isEqual(e)))}class Hv{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dk extends Hv{data(){return super.data()}}function Pc(r,e){return typeof e=="string"?$f(r,e):e instanceof xc?e._internalPath:e._delegate._internalPath}function fk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qf{}class Wv extends qf{}function Iy(r,e,...t){let s=[];e instanceof qf&&s.push(e),s=s.concat(t),(function(l){const h=l.filter((g=>g instanceof Hf)).length,f=l.filter((g=>g instanceof Rc)).length;if(h>1||h>0&&f>0)throw new le(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Rc extends Wv{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Rc(e,t,s)}_apply(e){const t=this._parse(e);return Kv(e._query,t),new fs(e.firestore,e.converter,Md(e._query,t))}_parse(e){const t=Uf(e.firestore);return(function(l,h,f,g,_,w,A){let P;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new le(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){ky(A,w);const F=[];for(const B of A)F.push(xy(g,l,B));P={arrayValue:{values:F}}}else P=xy(g,l,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||ky(A,w),P=ck(f,h,A,w==="in"||w==="not-in");return ft.create(_,w,P)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pk(r,e,t){const s=e,o=Pc("where",r);return Rc._create(o,s,t)}class Hf extends qf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const f=l.getFlattenedFilters();for(const g of f)Kv(h,g),h=Md(h,g)})(e._query,t),new fs(e.firestore,e.converter,Md(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wf extends Wv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wf(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new le(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ha(l,h)})(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new ko(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Sy(r,e="asc"){const t=e,s=Pc("orderBy",r);return Wf._create(s,t)}function xy(r,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new le(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H_(e)&&t.indexOf("/")!==-1)throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ye.isDocumentKey(s))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hg(r,new ye(s))}if(t instanceof Gt)return Hg(r,t._key);throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ic(t)}.`)}function ky(r,e){if(!Array.isArray(r)||r.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kv(r,e){const t=(function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mk{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return hs(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>ut(h.doubleValue)));return new jf(l)}convertGeoPoint(e){return new Mf(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const t=wi(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);qe(fv(s));const o=new $a(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return o.isEqual(t)||Vr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function gk(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Na{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gv extends Hv{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Pc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class $u extends Gv{data(e={}){return super.data(e)}}class yk{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Na(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new $u(this._firestore,this._userDataWriter,s.key,s,new Na(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new $u(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Na(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new $u(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Na(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return f.type!==0&&(_=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:_k(f.type),doc:g,oldIndex:_,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _k(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function vk(r){r=ar(r,Gt);const e=ar(r.firestore,Ro);return Xx(Lf(e),r._key).then((t=>Tk(e,r,t)))}class Qv extends mk{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function wk(r){r=ar(r,fs);const e=ar(r.firestore,Ro),t=Lf(e),s=new Qv(e);return fk(r._query),Jx(t,r._query).then((o=>new yk(e,s,r,o)))}function Yv(r,e,t){r=ar(r,Gt);const s=ar(r.firestore,Ro),o=gk(r.converter,e,t);return Kf(s,[ak(Uf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Bn.none())])}function Ek(r,e,t,...s){r=ar(r,Gt);const o=ar(r.firestore,Ro),l=Uf(o);let h;return h=typeof(e=kt(e))=="string"||e instanceof xc?uk(l,"updateDoc",r._key,e,t,s):lk(l,"updateDoc",r._key,e),Kf(o,[h.toMutation(r._key,Bn.exists(!0))])}function Xv(r){return Kf(ar(r.firestore,Ro),[new Ef(r._key,Bn.none())])}function Kf(r,e){return(function(s,o){const l=new Cr;return s.asyncQueue.enqueueAndForget((async()=>Ux(await Yx(s),o,l))),l.promise})(Lf(r),e)}function Tk(r,e,t){const s=t.docs.get(e._key),o=new Qv(r);return new Gv(r,o,e._key,s,new Na(t.hasPendingWrites,t.fromCache),e.converter)}function ac(){return new zf("serverTimestamp")}(function(e,t=!0){(function(o){xo=o})(Io),mo(new os("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new Ro(new _1(s.getProvider("auth-internal")),new T1(s.getProvider("app-check-internal")),(function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(_.options.projectId,w)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),yi(Ug,"4.7.3",e),yi(Ug,"4.7.3","esm2017")})();const Ik={apiKey:"AIzaSyB1UL7Ji4gqaJ2EX_r1UoZzmZYl-succf4",authDomain:"lastz-power.firebaseapp.com",projectId:"lastz-power",storageBucket:"lastz-power.firebasestorage.app",messagingSenderId:"158054571749",appId:"1:158054571749:web:e223407cf48ec8cb93be0c"},Jv=qy(Ik),rs=d1(Jv),is=nk(Jv),Sk=async(r,e)=>{try{let t=e.gameId.trim();if(t=t.replace(/\//g,"_"),!t)throw new Error("Game ID ");const s=po(is,"users",t),o={gameId:e.gameId.trim(),alliance:e.alliance.trim(),team1Power:Number(e.team1Power),team2Power:Number(e.team2Power),team3Power:Number(e.team3Power),updatedAt:ac(),submittedAt:ac()};return await Yv(s,o,{merge:!0}),{success:!0}}catch(t){return console.error(":",t),{success:!1,error:t.message}}},xk=async r=>{try{const e=po(is,"admins",r),t=await vk(e);return t.exists()&&t.data().isActive?{success:!0,isAdmin:!0,adminData:t.data()}:{success:!0,isAdmin:!1}}catch(e){return console.error(":",e),{success:!1,error:e.message}}},Zv=()=>{const[r,e]=pe.useState(null),[t,s]=pe.useState(!1),[o,l]=pe.useState(null),[h,f]=pe.useState(!0);return pe.useEffect(()=>{const g=tI(rs,async _=>{if(e(_),_){const w=await xk(_.uid);s(w.isAdmin||!1),l(w.isAdmin?w.adminData:null)}else s(!1),l(null);f(!1)});return()=>g()},[]),{user:r,isAdmin:t,adminData:o,loading:h}},kk={zh:{title:"",subtitle:" V2",guest_mode:"",admin_tag:"",logout:"",personal_entry:"",all_management:"",footer_text:" 2026 ",admin_login_gate:"",status_operational:"",loading_system:"...",preparing_env:"...",back_to_guest:" ",login_success:"",register_success:"",op_failed:"",email_in_use:" Email ",invalid_email:"Email ",weak_password:"6",auth_failed:"Email ",google_failed:"Google ",system_name:"",login:"",register:"",password_label:"",processing:"...",or_text:"",google_login:" Google ",form_title:"",form_desc:"",save_success:" ",save_failed:"",error_occurred:"",game_id:" ID",alliance:"",game_id_placeholder:": KingArthas",alliance_placeholder:": LastHope",team1:" (M)",team2:" (M)",team3:" (M)",save_data:"",saving:"...",combat_details:"",current_total:"",data_preview:"",sync_notice:"",last_updated:"",id_required:" ID ",alliance_required:"",admin_title:"",admin_desc:"",refresh:"",export_csv:"",preparing_export:" CSV...",stats_overview:"",display_count:"",avg_s1:"S1 ",avg_s2:"S2 ",avg_s3:"S3 ",search_placeholder:"  ID  ...",filter_options:"",member_id:" ID",alliance_label:"",s1_power:"S1 (M)",s2_power:"S2 (M)",s3_power:"S3 (M)",total_eval:"",update_record:"",actions:"",delete_confirm:"  {id} ",delete_success:"",edit:"",edit_record:"",update_success:"",cancel:"",confirm_save:"",no_data:"",no_results:"",intel_v2:" V2.0 ",data_count:"",loading_data:"...",alliance_total_power:"",alliance_avg_power:"",view_members:"",view_alliances:"",total_member:""},en:{title:"Combat Tracker",subtitle:"Alliance Intel V2",guest_mode:"Guest Mode",admin_tag:"ADMIN",logout:"Logout",personal_entry:"Entry Form",all_management:"Dashboard",footer_text:" 2026 Combat Tracker",admin_login_gate:"Admin Server Entrance",status_operational:"Operational",loading_system:"Initializing Combat System...",preparing_env:"Preparing Combat Environment...",back_to_guest:" Back to Guest Mode",login_success:"Login successful!",register_success:"Registration successful!",op_failed:"Operation failed, please try again later",email_in_use:"This Email is already in use",invalid_email:"Invalid Email format",weak_password:"Password too weak (at least 6 characters)",auth_failed:"Invalid Email or password",google_failed:"Google login failed, please try again",system_name:"Game Power Tracker",login:"Login",register:"Register",password_label:"Password",processing:"Processing...",or_text:"Or",google_login:"Sign in with Google",form_title:"Power Data Entry",form_desc:"Enter your latest hero power info to keep allies updated",save_success:" Data saved successfully!",save_failed:"Save failed: ",error_occurred:"Error occurred: ",game_id:"Game ID",alliance:"Alliance",game_id_placeholder:"e.g., KingArthas",alliance_placeholder:"e.g., LastHope",team1:"Team 1 Power (M)",team2:"Team 2 Power (M)",team3:"Team 3 Power (M)",save_data:"Save Data",saving:"Saving...",combat_details:"Team Power Details",current_total:"Total Combat Power",data_preview:"Data Preview",sync_notice:"Data will be synced to Alliance database",last_updated:"Last updated",id_required:"Game ID is required",alliance_required:"Alliance name is required",admin_title:"Alliance Intel Center",admin_desc:"Monitor and analyze member power distribution",refresh:"Refresh",export_csv:"Export CSV",preparing_export:"Preparing CSV download...",stats_overview:"Statistics",display_count:"Members",avg_s1:"S1 Avg",avg_s2:"S2 Avg",avg_s3:"S3 Avg",search_placeholder:"Search Game ID or Alliance...",filter_options:"Filters",member_id:"Member ID",alliance_label:"Alliance",s1_power:"S1 Power(M)",s2_power:"S2 Power(M)",s3_power:"S3 Power(M)",total_eval:"Total Eval",update_record:"Update Record",actions:"Action",delete_confirm:" Are you sure you want to delete {id}? This cannot be undone.",delete_success:"Deleted successfully",edit:"Edit",edit_record:"Edit Member Record",update_success:"Update successful",cancel:"Cancel",confirm_save:"Save Changes",no_data:"No data submitted yet",no_results:"No matching records found",intel_v2:"Alliance Intel V2.0 Stable",data_count:"Total Records",loading_data:"Loading Big Data...",alliance_total_power:"Total Alliance Power",alliance_avg_power:"Avg Member Power",view_members:"Member List",view_alliances:"Alliance Summary",total_member:"Total Members"}},e0=pe.createContext(),Ak=({children:r})=>{const[e,t]=pe.useState(localStorage.getItem("preferred_lang")||"zh"),s=l=>kk[e][l]||l,o=()=>{const l=e==="zh"?"en":"zh";t(l),localStorage.setItem("preferred_lang",l)};return T.jsx(e0.Provider,{value:{lang:e,t:s,toggleLang:o},children:r})},Cc=()=>pe.useContext(e0);function t0(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=t0(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function pi(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=t0(r))&&(s&&(s+=" "),s+=e);return s}const Qa=r=>typeof r=="number"&&!isNaN(r),ss=r=>typeof r=="string",fn=r=>typeof r=="function",qu=r=>ss(r)||fn(r)?r:null,Gd=r=>pe.isValidElement(r)||ss(r)||fn(r)||Qa(r);function Pk(r,e,t){t===void 0&&(t=300);const{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function Nc(r){let{enter:e,exit:t,appendPosition:s=!1,collapse:o=!0,collapseDuration:l=300}=r;return function(h){let{children:f,position:g,preventExitTransition:_,done:w,nodeRef:A,isIn:P,playToast:F}=h;const B=s?`${e}--${g}`:e,H=s?`${t}--${g}`:t,$=pe.useRef(0);return pe.useLayoutEffect(()=>{const ie=A.current,ne=B.split(" "),te=ae=>{ae.target===A.current&&(F(),ie.removeEventListener("animationend",te),ie.removeEventListener("animationcancel",te),$.current===0&&ae.type!=="animationcancel"&&ie.classList.remove(...ne))};ie.classList.add(...ne),ie.addEventListener("animationend",te),ie.addEventListener("animationcancel",te)},[]),pe.useEffect(()=>{const ie=A.current,ne=()=>{ie.removeEventListener("animationend",ne),o?Pk(ie,w,l):w()};P||(_?ne():($.current=1,ie.className+=` ${H}`,ie.addEventListener("animationend",ne)))},[P]),He.createElement(He.Fragment,null,f)}}function Ay(r,e){return r!=null?{content:r.content,containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,status:e}:{}}const Kt=new Map;let Ya=[];const Qd=new Set,Rk=r=>Qd.forEach(e=>e(r)),n0=()=>Kt.size>0;function r0(r,e){var t;if(e)return!((t=Kt.get(e))==null||!t.isToastActive(r));let s=!1;return Kt.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function i0(r,e){Gd(r)&&(n0()||Ya.push({content:r,options:e}),Kt.forEach(t=>{t.buildToast(r,e)}))}function Py(r,e){Kt.forEach(t=>{e!=null&&e!=null&&e.containerId?e?.containerId===t.id&&t.toggle(r,e?.id):t.toggle(r,e?.id)})}function Ck(r){const{subscribe:e,getSnapshot:t,setProps:s}=pe.useRef((function(l){const h=l.containerId||1;return{subscribe(f){const g=(function(w,A,P){let F=1,B=0,H=[],$=[],ie=[],ne=A;const te=new Map,ae=new Set,Ae=()=>{ie=Array.from(te.values()),ae.forEach(I=>I())},ge=I=>{$=I==null?[]:$.filter(S=>S!==I),Ae()},C=I=>{const{toastId:S,onOpen:R,updateId:D,children:O}=I.props,k=D==null;I.staleId&&te.delete(I.staleId),te.set(S,I),$=[...$,I.props.toastId].filter(Le=>Le!==I.staleId),Ae(),P(Ay(I,k?"added":"updated")),k&&fn(R)&&R(pe.isValidElement(O)&&O.props)};return{id:w,props:ne,observe:I=>(ae.add(I),()=>ae.delete(I)),toggle:(I,S)=>{te.forEach(R=>{S!=null&&S!==R.props.toastId||fn(R.toggle)&&R.toggle(I)})},removeToast:ge,toasts:te,clearQueue:()=>{B-=H.length,H=[]},buildToast:(I,S)=>{if((W=>{let{containerId:se,toastId:he,updateId:we}=W;const ke=se?se!==w:w!==1,Ne=te.has(he)&&we==null;return ke||Ne})(S))return;const{toastId:R,updateId:D,data:O,staleId:k,delay:Le}=S,Xe=()=>{ge(R)},be=D==null;be&&B++;const Pe={...ne,style:ne.toastStyle,key:F++,...Object.fromEntries(Object.entries(S).filter(W=>{let[se,he]=W;return he!=null})),toastId:R,updateId:D,data:O,closeToast:Xe,isIn:!1,className:qu(S.className||ne.toastClassName),bodyClassName:qu(S.bodyClassName||ne.bodyClassName),progressClassName:qu(S.progressClassName||ne.progressClassName),autoClose:!S.isLoading&&(Z=S.autoClose,U=ne.autoClose,Z===!1||Qa(Z)&&Z>0?Z:U),deleteToast(){const W=te.get(R),{onClose:se,children:he}=W.props;fn(se)&&se(pe.isValidElement(he)&&he.props),P(Ay(W,"removed")),te.delete(R),B--,B<0&&(B=0),H.length>0?C(H.shift()):Ae()}};var Z,U;Pe.closeButton=ne.closeButton,S.closeButton===!1||Gd(S.closeButton)?Pe.closeButton=S.closeButton:S.closeButton===!0&&(Pe.closeButton=!Gd(ne.closeButton)||ne.closeButton);let K=I;pe.isValidElement(I)&&!ss(I.type)?K=pe.cloneElement(I,{closeToast:Xe,toastProps:Pe,data:O}):fn(I)&&(K=I({closeToast:Xe,toastProps:Pe,data:O}));const b={content:K,props:Pe,staleId:k};ne.limit&&ne.limit>0&&B>ne.limit&&be?H.push(b):Qa(Le)?setTimeout(()=>{C(b)},Le):C(b)},setProps(I){ne=I},setToggle:(I,S)=>{te.get(I).toggle=S},isToastActive:I=>$.some(S=>S===I),getSnapshot:()=>ie}})(h,l,Rk);Kt.set(h,g);const _=g.observe(f);return Ya.forEach(w=>i0(w.content,w.options)),Ya=[],()=>{_(),Kt.delete(h)}},setProps(f){var g;(g=Kt.get(h))==null||g.setProps(f)},getSnapshot(){var f;return(f=Kt.get(h))==null?void 0:f.getSnapshot()}}})(r)).current;s(r);const o=pe.useSyncExternalStore(e,t,t);return{getToastToRender:function(l){if(!o)return[];const h=new Map;return r.newestOnTop&&o.reverse(),o.forEach(f=>{const{position:g}=f.props;h.has(g)||h.set(g,[]),h.get(g).push(f)}),Array.from(h,f=>l(f[0],f[1]))},isToastActive:r0,count:o?.length}}function Nk(r){const[e,t]=pe.useState(!1),[s,o]=pe.useState(!1),l=pe.useRef(null),h=pe.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:g,closeToast:_,onClick:w,closeOnClick:A}=r;var P,F;function B(){t(!0)}function H(){t(!1)}function $(te){const ae=l.current;h.canDrag&&ae&&(h.didMove=!0,e&&H(),h.delta=r.draggableDirection==="x"?te.clientX-h.start:te.clientY-h.start,h.start!==te.clientX&&(h.canCloseOnClick=!1),ae.style.transform=`translate3d(${r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`},0)`,ae.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function ie(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",ie);const te=l.current;if(h.canDrag&&h.didMove&&te){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return o(!0),r.closeToast(),void r.collapseAll();te.style.transition="transform 0.2s, opacity 0.2s",te.style.removeProperty("transform"),te.style.removeProperty("opacity")}}(F=Kt.get((P={id:r.toastId,containerId:r.containerId,fn:t}).containerId||1))==null||F.setToggle(P.id,P.fn),pe.useEffect(()=>{if(r.pauseOnFocusLoss)return document.hasFocus()||H(),window.addEventListener("focus",B),window.addEventListener("blur",H),()=>{window.removeEventListener("focus",B),window.removeEventListener("blur",H)}},[r.pauseOnFocusLoss]);const ne={onPointerDown:function(te){if(r.draggable===!0||r.draggable===te.pointerType){h.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",ie);const ae=l.current;h.canCloseOnClick=!0,h.canDrag=!0,ae.style.transition="none",r.draggableDirection==="x"?(h.start=te.clientX,h.removalDistance=ae.offsetWidth*(r.draggablePercent/100)):(h.start=te.clientY,h.removalDistance=ae.offsetHeight*(r.draggablePercent===80?1.5*r.draggablePercent:r.draggablePercent)/100)}},onPointerUp:function(te){const{top:ae,bottom:Ae,left:ge,right:C}=l.current.getBoundingClientRect();te.nativeEvent.type!=="touchend"&&r.pauseOnHover&&te.clientX>=ge&&te.clientX<=C&&te.clientY>=ae&&te.clientY<=Ae?H():B()}};return f&&g&&(ne.onMouseEnter=H,r.stacked||(ne.onMouseLeave=B)),A&&(ne.onClick=te=>{w&&w(te),h.canCloseOnClick&&_()}),{playToast:B,pauseToast:H,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:ne}}function bk(r){let{delay:e,isRunning:t,closeToast:s,type:o="default",hide:l,className:h,style:f,controlledProgress:g,progress:_,rtl:w,isIn:A,theme:P}=r;const F=l||g&&_===0,B={...f,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};g&&(B.transform=`scaleX(${_})`);const H=pi("Toastify__progress-bar",g?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${P}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":w}),$=fn(h)?h({rtl:w,type:o,defaultClassName:H}):pi(H,h),ie={[g&&_>=1?"onTransitionEnd":"onAnimationEnd"]:g&&_<1?null:()=>{A&&s()}};return He.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":F},He.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${P} Toastify__progress-bar--${o}`}),He.createElement("div",{role:"progressbar","aria-hidden":F?"true":"false","aria-label":"notification timer",className:$,style:B,...ie}))}let Dk=1;const s0=()=>""+Dk++;function Vk(r){return r&&(ss(r.toastId)||Qa(r.toastId))?r.toastId:s0()}function Ma(r,e){return i0(r,e),e.toastId}function lc(r,e){return{...e,type:e&&e.type||r,toastId:Vk(e)}}function Nu(r){return(e,t)=>Ma(e,lc(r,t))}function Re(r,e){return Ma(r,lc("default",e))}Re.loading=(r,e)=>Ma(r,lc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Re.promise=function(r,e,t){let s,{pending:o,error:l,success:h}=e;o&&(s=ss(o)?Re.loading(o,t):Re.loading(o.render,{...t,...o}));const f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(w,A,P)=>{if(A==null)return void Re.dismiss(s);const F={type:w,...f,...t,data:P},B=ss(A)?{render:A}:A;return s?Re.update(s,{...F,...B}):Re(B.render,{...F,...B}),P},_=fn(r)?r():r;return _.then(w=>g("success",h,w)).catch(w=>g("error",l,w)),_},Re.success=Nu("success"),Re.info=Nu("info"),Re.error=Nu("error"),Re.warning=Nu("warning"),Re.warn=Re.warning,Re.dark=(r,e)=>Ma(r,lc("default",{theme:"dark",...e})),Re.dismiss=function(r){(function(e){var t;if(n0()){if(e==null||ss(t=e)||Qa(t))Kt.forEach(s=>{s.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const s=Kt.get(e.containerId);s?s.removeToast(e.id):Kt.forEach(o=>{o.removeToast(e.id)})}}else Ya=Ya.filter(s=>e!=null&&s.options.toastId!==e)})(r)},Re.clearWaitingQueue=function(r){r===void 0&&(r={}),Kt.forEach(e=>{!e.props.limit||r.containerId&&e.id!==r.containerId||e.clearQueue()})},Re.isActive=r0,Re.update=function(r,e){e===void 0&&(e={});const t=((s,o)=>{var l;let{containerId:h}=o;return(l=Kt.get(h||1))==null?void 0:l.toasts.get(s)})(r,e);if(t){const{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||r,updateId:s0()};l.toastId!==r&&(l.staleId=r);const h=l.render||o;delete l.render,Ma(h,l)}},Re.done=r=>{Re.update(r,{progress:1})},Re.onChange=function(r){return Qd.add(r),()=>{Qd.delete(r)}},Re.play=r=>Py(!0,r),Re.pause=r=>Py(!1,r);const Ok=typeof window<"u"?pe.useLayoutEffect:pe.useEffect,bu=r=>{let{theme:e,type:t,isLoading:s,...o}=r;return He.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o})},Ed={info:function(r){return He.createElement(bu,{...r},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(r){return He.createElement(bu,{...r},He.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(r){return He.createElement(bu,{...r},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(r){return He.createElement(bu,{...r},He.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return He.createElement("div",{className:"Toastify__spinner"})}},Lk=r=>{const{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=Nk(r),{closeButton:h,children:f,autoClose:g,onClick:_,type:w,hideProgressBar:A,closeToast:P,transition:F,position:B,className:H,style:$,bodyClassName:ie,bodyStyle:ne,progressClassName:te,progressStyle:ae,updateId:Ae,role:ge,progress:C,rtl:I,toastId:S,deleteToast:R,isIn:D,isLoading:O,closeOnClick:k,theme:Le}=r,Xe=pi("Toastify__toast",`Toastify__toast-theme--${Le}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":k}),be=fn(H)?H({rtl:I,position:B,type:w,defaultClassName:Xe}):pi(Xe,H),Pe=(function(b){let{theme:W,type:se,isLoading:he,icon:we}=b,ke=null;const Ne={theme:W,type:se};return we===!1||(fn(we)?ke=we({...Ne,isLoading:he}):pe.isValidElement(we)?ke=pe.cloneElement(we,Ne):he?ke=Ed.spinner():(Fe=>Fe in Ed)(se)&&(ke=Ed[se](Ne))),ke})(r),Z=!!C||!g,U={closeToast:P,type:w,theme:Le};let K=null;return h===!1||(K=fn(h)?h(U):pe.isValidElement(h)?pe.cloneElement(h,U):(function(b){let{closeToast:W,theme:se,ariaLabel:he="close"}=b;return He.createElement("button",{className:`Toastify__close-button Toastify__close-button--${se}`,type:"button",onClick:we=>{we.stopPropagation(),W(we)},"aria-label":he},He.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},He.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))})(U)),He.createElement(F,{isIn:D,done:R,position:B,preventExitTransition:t,nodeRef:s,playToast:l},He.createElement("div",{id:S,onClick:_,"data-in":D,className:be,...o,style:$,ref:s},He.createElement("div",{...D&&{role:ge},className:fn(ie)?ie({type:w}):pi("Toastify__toast-body",ie),style:ne},Pe!=null&&He.createElement("div",{className:pi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},Pe),He.createElement("div",null,f)),K,He.createElement(bk,{...Ae&&!Z?{key:`pb-${Ae}`}:{},rtl:I,theme:Le,delay:g,isRunning:e,isIn:D,closeToast:P,hide:A,type:w,style:ae,className:te,controlledProgress:Z,progress:C||0})))},bc=function(r,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}},Mk=Nc(bc("bounce",!0));Nc(bc("slide",!0));Nc(bc("zoom"));Nc(bc("flip"));const jk={position:"top-right",transition:Mk,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Fk(r){let e={...jk,...r};const t=r.stacked,[s,o]=pe.useState(!0),l=pe.useRef(null),{getToastToRender:h,isToastActive:f,count:g}=Ck(e),{className:_,style:w,rtl:A,containerId:P}=e;function F(H){const $=pi("Toastify__toast-container",`Toastify__toast-container--${H}`,{"Toastify__toast-container--rtl":A});return fn(_)?_({position:H,rtl:A,defaultClassName:$}):pi($,qu(_))}function B(){t&&(o(!0),Re.play())}return Ok(()=>{if(t){var H;const $=l.current.querySelectorAll('[data-in="true"]'),ie=12,ne=(H=e.position)==null?void 0:H.includes("top");let te=0,ae=0;Array.from($).reverse().forEach((Ae,ge)=>{const C=Ae;C.classList.add("Toastify__toast--stacked"),ge>0&&(C.dataset.collapsed=`${s}`),C.dataset.pos||(C.dataset.pos=ne?"top":"bot");const I=te*(s?.2:1)+(s?0:ie*ge);C.style.setProperty("--y",`${ne?I:-1*I}px`),C.style.setProperty("--g",`${ie}`),C.style.setProperty("--s",""+(1-(s?ae:0))),te+=C.offsetHeight,ae+=.025})}},[s,g,t]),He.createElement("div",{ref:l,className:"Toastify",id:P,onMouseEnter:()=>{t&&(o(!1),Re.pause())},onMouseLeave:B},h((H,$)=>{const ie=$.length?{...w}:{...w,pointerEvents:"none"};return He.createElement("div",{className:F(H),style:ie,key:`container-${H}`},$.map(ne=>{let{content:te,props:ae}=ne;return He.createElement(Lk,{...ae,stacked:t,collapseAll:B,isIn:f(ae.toastId,ae.containerId),style:ae.style,key:`toast-${ae.key}`},te)}))}))}function Uk(){const{t:r}=Cc(),[e,t]=pe.useState(!0),[s,o]=pe.useState(""),[l,h]=pe.useState(""),[f,g]=pe.useState(!1),_=async A=>{A.preventDefault(),g(!0);try{e?(await JT(rs,s,l),Re.success(r("login_success"))):(await XT(rs,s,l),Re.success(r("register_success")))}catch(P){console.error("Authentication error:",P);let F=r("op_failed");P.code==="auth/email-already-in-use"?F=r("email_in_use"):P.code==="auth/invalid-email"?F=r("invalid_email"):P.code==="auth/weak-password"?F=r("weak_password"):(P.code==="auth/user-not-found"||P.code==="auth/wrong-password"||P.code==="auth/invalid-credential")&&(F=r("auth_failed")),Re.error(F)}finally{g(!1)}},w=async()=>{g(!0);const A=new kr;try{await EI(rs,A),Re.success(r("login_success"))}catch(P){console.error("Google sign in error:",P),Re.error(r("google_failed"))}finally{g(!1)}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent px-4",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md border border-gray-100 animate-in fade-in zoom-in duration-500",children:[T.jsx("h1",{className:"text-3xl font-black text-center text-gray-900 mb-8 tracking-tighter uppercase",children:r("system_name")}),T.jsx("div",{className:"mb-8",children:T.jsxs("div",{className:"flex p-1 bg-gray-50 rounded-xl border border-gray-100",children:[T.jsx("button",{className:`flex-1 py-2.5 text-center text-sm font-black rounded-lg transition-all duration-300 ${e?"bg-white text-indigo-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,onClick:()=>t(!0),children:r("login")}),T.jsx("button",{className:`flex-1 py-2.5 text-center text-sm font-black rounded-lg transition-all duration-300 ${e?"text-gray-400 hover:text-gray-600":"bg-white text-indigo-600 shadow-sm"}`,onClick:()=>t(!1),children:r("register")})]})}),T.jsxs("form",{onSubmit:_,className:"space-y-5",children:[T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Email"}),T.jsx("input",{type:"email",value:s,onChange:A=>o(A.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold",placeholder:"commander@alliance.com"})]}),T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:r("password_label")}),T.jsx("input",{type:"password",value:l,onChange:A=>h(A.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold",placeholder:""})]}),T.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 text-white py-4 rounded-xl font-black uppercase tracking-widest text-xs hover:from-indigo-700 hover:to-blue-700 transition-all shadow-lg shadow-indigo-100 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transform active:scale-[0.98]",children:r(f?"processing":e?"login":"register")})]}),T.jsxs("div",{className:"relative my-8",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-100"})}),T.jsx("div",{className:"relative flex justify-center text-[10px] font-black uppercase tracking-[0.3em]",children:T.jsx("span",{className:"px-3 bg-white text-gray-300",children:r("or_text")})})]}),T.jsxs("button",{onClick:w,disabled:f,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-600 py-3.5 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm disabled:opacity-50",children:[T.jsxs("svg",{className:"w-5 h-5 translate-y-[-1px]",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"})]}),r("google_login")]})]})})}var zk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bk=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(r,e)=>{const t=pe.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:h,className:f="",children:g,..._},w)=>pe.createElement("svg",{ref:w,...zk,width:o,height:o,stroke:s,strokeWidth:h?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Bk(r)}`,f].join(" "),..._},[...e.map(([A,P])=>pe.createElement(A,P)),...Array.isArray(g)?g:[g]]));return t.displayName=`${r}`,t};const Ry=We("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Cy=We("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const $k=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const qk=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Hk=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Wk=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Kk=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Gk=We("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const Ny=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Qk=We("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const Yk=We("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);const Xk=We("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Jk=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const by=We("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const Zk=We("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const Du=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const o0=We("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Dy=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const eA=We("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const uc=We("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const Td=We("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);const a0=We("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const tA=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const nA=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const rA=We("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const l0=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Hu=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const iA=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vu=r=>r==null||r===""?"0":Number(r).toLocaleString("en-US",{maximumFractionDigits:2}),sA=r=>r?new Date(r).toLocaleString("zh-TW"):"",oA=({user:r})=>{const{t:e}=Cc(),[t,s]=pe.useState({gameId:"",alliance:"",team1Power:"",team2Power:"",team3Power:""}),[o,l]=pe.useState({}),[h,f]=pe.useState(!1),[g,_]=pe.useState(null);pe.useEffect(()=>{const B=localStorage.getItem("game_power_last_entry"),H=localStorage.getItem("game_power_last_time");B&&s(JSON.parse(B)),H&&_(H)},[]);const w=B=>{const{name:H,value:$}=B.target;s(ie=>({...ie,[H]:$})),o[H]&&l(ie=>({...ie,[H]:""}))},A=B=>{const H={};return B.gameId?.trim()||(H.gameId=e("id_required")),B.alliance?.trim()||(H.alliance=e("alliance_required")),{valid:Object.keys(H).length===0,errors:H}},P=async B=>{B.preventDefault();const H=A(t);if(!H.valid){l(H.errors);return}f(!0);try{const $={gameId:t.gameId,alliance:t.alliance,team1Power:Number(t.team1Power||0),team2Power:Number(t.team2Power||0),team3Power:Number(t.team3Power||0)},ie=await Sk(r.uid,$);if(ie.success){const ne=new Date().toISOString();Re.success(e("save_success")),_(ne),localStorage.setItem("game_power_last_entry",JSON.stringify(t)),localStorage.setItem("game_power_last_time",ne)}else Re.error(e("save_failed")+ie.error),l({submit:e("save_failed")+ie.error})}catch($){Re.error(e("error_occurred")+$.message),l({submit:e("error_occurred")+$.message})}finally{f(!1)}},F=Number(t.team1Power||0)+Number(t.team2Power||0)+Number(t.team3Power||0);return T.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[T.jsxs("div",{className:"text-center space-y-2",children:[T.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight flex items-center justify-center gap-2",children:[T.jsx(rA,{className:"text-yellow-500"})," ",e("form_title")]}),T.jsx("p",{className:"text-gray-500",children:e("form_desc")})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[T.jsx("form",{onSubmit:P,className:"lg:col-span-3 space-y-6",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100 p-8 space-y-6",children:[o.submit&&T.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm rounded-r-lg animate-pulse",children:o.submit}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[T.jsx(l0,{size:16,className:"text-blue-500"})," ",e("game_id")," *"]}),T.jsx("input",{type:"text",name:"gameId",value:t.gameId,onChange:w,className:`w-full px-4 py-3 rounded-xl border transition-all duration-200 outline-none focus:ring-2 ${o.gameId?"border-red-300 ring-red-100 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-100 hover:border-gray-300"}`,placeholder:e("game_id_placeholder")}),o.gameId&&T.jsx("p",{className:"text-xs text-red-500 mt-1",children:o.gameId})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[T.jsx(Hu,{size:16,className:"text-green-500"})," ",e("alliance")," *"]}),T.jsx("input",{type:"text",name:"alliance",value:t.alliance,onChange:w,className:`w-full px-4 py-3 rounded-xl border transition-all duration-200 outline-none focus:ring-2 ${o.alliance?"border-red-300 ring-red-100 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-100 hover:border-gray-300"}`,placeholder:e("alliance_placeholder")}),o.alliance&&T.jsx("p",{className:"text-xs text-red-500 mt-1",children:o.alliance})]})]}),T.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),T.jsxs("div",{className:"space-y-5",children:[T.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-bold mb-2 text-sm uppercase tracking-wide",children:[T.jsx(a0,{className:"text-red-500",size:18})," ",e("combat_details")]}),T.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{name:"team1Power",label:e("team1"),color:"blue"},{name:"team2Power",label:e("team2"),color:"indigo"},{name:"team3Power",label:e("team3"),color:"purple"}].map(B=>T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"flex justify-between items-center mb-1",children:T.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-1",children:[T.jsx(uc,{size:12})," ",B.label]})}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"number",step:"any",name:B.name,value:t[B.name],onChange:w,className:"w-full px-4 py-3 pl-10 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all hover:border-gray-300 font-mono text-lg",placeholder:"0"}),T.jsxs("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold italic group-hover:text-indigo-400 transition-colors",children:["S",B.name.charAt(4)]})]})]},B.name))})]}),T.jsx("button",{type:"submit",disabled:h,className:"w-full py-4 mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all duration-300 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transform active:scale-[0.98] flex items-center justify-center gap-2",children:h?T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e("saving")]}):T.jsxs(T.Fragment,{children:[T.jsx(o0,{size:18})," ",e("save_data")]})})]})}),T.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[T.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-blue-700 rounded-2xl p-6 text-white shadow-xl shadow-indigo-100 flex flex-col justify-between h-[180px] relative overflow-hidden",children:[T.jsxs("div",{className:"relative z-10",children:[T.jsx("p",{className:"text-indigo-100 text-[10px] font-black uppercase tracking-widest opacity-80",children:e("current_total")}),T.jsx("h3",{className:"text-4xl font-black mt-2 tracking-tighter tabular-nums leading-none",children:Vu(F)})]}),T.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("p",{className:"text-[10px] text-indigo-100/60 uppercase font-bold tracking-wider",children:e("game_id")}),T.jsx("p",{className:"font-bold truncate max-w-[120px] text-sm tabular-nums",children:t.gameId||"---"})]}),T.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-lg p-2.5 flex items-center gap-2 border border-white/20",children:[T.jsx(Ny,{size:14}),T.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest leading-none",children:"STATUS OK"})]})]}),T.jsx("div",{className:"absolute -right-4 -top-4 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),T.jsx("div",{className:"absolute -left-4 -bottom-4 w-24 h-24 bg-indigo-400/20 rounded-full blur-xl"})]}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100 p-6 space-y-4",children:[T.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-3",children:[T.jsxs("h4",{className:"font-black text-gray-800 flex items-center gap-2 text-[10px] uppercase tracking-widest",children:[T.jsx(Ny,{size:14,className:"text-gray-400"})," ",e("data_preview")]}),g&&T.jsxs("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-tighter",children:[e("last_updated")," ",sA(g).split(" ")[1]]})]}),T.jsx("div",{className:"space-y-4",children:[{label:e("game_id"),value:t.gameId},{label:e("alliance"),value:t.alliance},{label:e("team1"),value:Vu(t.team1Power),emphasize:!0},{label:e("team2"),value:Vu(t.team2Power),emphasize:!0},{label:e("team3"),value:Vu(t.team3Power),emphasize:!0}].map((B,H)=>T.jsxs("div",{className:"flex justify-between items-center text-xs group",children:[T.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-wider group-hover:text-gray-600 transition-colors",children:B.label}),T.jsx("span",{className:`font-black ${B.emphasize?"text-gray-700 font-mono text-sm":"text-gray-800"}`,children:B.value||(H<2?"---":"0")})]},H))}),T.jsx("div",{className:"pt-4 mt-2 border-t border-dashed border-gray-200",children:T.jsxs("div",{className:"flex items-center gap-2 text-blue-600 font-bold text-[10px] p-3 bg-blue-50/50 rounded-xl border border-blue-100/50 uppercase tracking-tight",children:[T.jsx(uc,{size:14}),T.jsx("span",{children:e("sync_notice")})]})})]})]})]})]})},aA=async(r=[])=>{try{const e=tk(is,"users");let t;!r||r.length===0||r.includes("*")?t=Iy(e,Sy("updatedAt","desc")):t=Iy(e,pk("alliance","in",r),Sy("updatedAt","desc"));const s=await wk(t),o=[];return s.forEach(l=>{o.push({id:l.id,...l.data()})}),o}catch(e){throw console.error(":",e),new Error(e.message||"")}},lA=async r=>{try{return await Xv(po(is,"users",r)),{success:!0}}catch(e){throw console.error(":",e),new Error("")}},uA=async(r,e)=>{try{const{id:t,...s}=e;let o=e.gameId.trim().replace(/\//g,"_");if(o!==r){const l=po(is,"users",o),h=po(is,"users",r);await Yv(l,{...s,updatedAt:ac()}),await Xv(h)}else{const l=po(is,"users",r);await Ek(l,{...s,updatedAt:ac()})}return{success:!0}}catch(t){throw console.error(":",t),new Error(t.message||"")}},cA=r=>{if(!r||r.length===0)return{totalUsers:0,averageTeam1Power:0,averageTeam2Power:0,averageTeam3Power:0,averageTotalPower:0,maxTotalPower:0,minTotalPower:0};const e=r.map(f=>{const g=Number(f.team1Power)||0,_=Number(f.team2Power)||0,w=Number(f.team3Power)||0;return{team1:g,team2:_,team3:w,total:g+_+w}}),t=e.reduce((f,g)=>f+g.team1,0),s=e.reduce((f,g)=>f+g.team2,0),o=e.reduce((f,g)=>f+g.team3,0),l=e.reduce((f,g)=>f+g.total,0),h=e.map(f=>f.total);return{totalUsers:r.length,averageTeam1Power:Math.round(t/r.length),averageTeam2Power:Math.round(s/r.length),averageTeam3Power:Math.round(o/r.length),averageTotalPower:Math.round(l/r.length),maxTotalPower:Math.max(...h),minTotalPower:Math.min(...h)}},hA=r=>{if(!r||r.length===0)return[];const e={};return r.forEach(t=>{const s=t.alliance||"";e[s]||(e[s]={name:s,memberCount:0,totalPower:0,avgPower:0,team1Power:0,team2Power:0,team3Power:0,lastUpdated:null});const o=Number(t.team1Power)||0,l=Number(t.team2Power)||0,h=Number(t.team3Power)||0,f=o+l+h,g=t.submittedAt?.toDate?.()||new Date(t.submittedAt);e[s].memberCount++,e[s].totalPower+=f,e[s].team1Power+=o,e[s].team2Power+=l,e[s].team3Power+=h,(!e[s].lastUpdated||g>e[s].lastUpdated)&&(e[s].lastUpdated=g)}),Object.values(e).map(t=>({...t,avgPower:Math.round(t.totalPower/t.memberCount),avgTeam1Power:Math.round(t.team1Power/t.memberCount),avgTeam2Power:Math.round(t.team2Power/t.memberCount),avgTeam3Power:Math.round(t.team3Power/t.memberCount)})).sort((t,s)=>s.totalPower-t.totalPower)},dA=r=>r==null||r===""?"0":Number(r).toLocaleString("en-US",{maximumFractionDigits:2}),Vy=r=>{if(!r)return"";const e=r.toDate?r.toDate():new Date(r),t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),h=String(e.getMinutes()).padStart(2,"0");return`${t}-${s}-${o} ${l}:${h}`},tr=r=>dA(r),fA=()=>{const{t:r}=Cc(),{adminData:e}=Zv(),[t,s]=pe.useState([]),[o,l]=pe.useState(!0),[h,f]=pe.useState(""),[g,_]=pe.useState(null),[w,A]=pe.useState([]),[P,F]=pe.useState("members"),[B,H]=pe.useState(""),[$,ie]=pe.useState({key:"submittedAt",direction:"desc"}),[ne,te]=pe.useState(null),[ae,Ae]=pe.useState(!1),[ge,C]=pe.useState({gameId:"",alliance:"",team1Power:"",team2Power:"",team3Power:""}),[I,S]=pe.useState(!1);pe.useEffect(()=>{e&&R()},[e]);const R=async()=>{l(!0),f("");try{const U=await aA(e?.allowedAlliances||[]);Array.isArray(U)&&(s(U),_(cA(U)),A(hA(U)))}catch(U){f(r("error_occurred")+U.message),Re.error(r("error_occurred"))}finally{l(!1)}},D=U=>{let K="desc";$.key===U&&$.direction==="desc"&&(K="asc"),ie({key:U,direction:K})},O=async(U,K)=>{if(window.confirm(r("delete_confirm").replace("{id}",K)))try{const b=await lA(U);b.success?(Re.success(r("delete_success")),R()):Re.error(r("error_occurred")+b.error)}catch(b){Re.error(r("error_occurred")+b.message)}},k=U=>{te(U),C({gameId:U.gameId||"",alliance:U.alliance||"",team1Power:U.team1Power||0,team2Power:U.team2Power||0,team3Power:U.team3Power||0}),Ae(!0)},Le=U=>{const{name:K,value:b}=U.target;C(W=>({...W,[K]:b}))},Xe=async U=>{if(U.preventDefault(),!!ne){S(!0);try{const K={...ne,gameId:ge.gameId,alliance:ge.alliance,team1Power:Number(ge.team1Power||0),team2Power:Number(ge.team2Power||0),team3Power:Number(ge.team3Power||0)};(await uA(ne.id,K)).success&&(Re.success(r("update_success")),Ae(!1),te(null),R())}catch(K){Re.error(r("error_occurred")+K.message)}finally{S(!1)}}},be=t.filter(U=>U.gameId?.toLowerCase().includes(B.toLowerCase())||U.alliance?.toLowerCase().includes(B.toLowerCase())).sort((U,K)=>{let b,W;return $.key==="totalPower"?(b=(U.team1Power||0)+(U.team2Power||0)+(U.team3Power||0),W=(K.team1Power||0)+(K.team2Power||0)+(K.team3Power||0)):(b=U[$.key],W=K[$.key]),b<W?$.direction==="asc"?-1:1:b>W?$.direction==="asc"?1:-1:0});be.length,be.length>0&&Math.round(be.reduce((U,K)=>U+(K.team1Power||0),0)/be.length),be.length>0&&Math.round(be.reduce((U,K)=>U+(K.team2Power||0),0)/be.length),be.length>0&&Math.round(be.reduce((U,K)=>U+(K.team3Power||0),0)/be.length);const Pe=()=>{const U=[r("member_id"),r("alliance_label"),r("team1"),r("team2"),r("team3"),r("total_eval"),r("update_record")],K=be.map(he=>[he.gameId,he.alliance,he.team1Power,he.team2Power,he.team3Power,(he.team1Power||0)+(he.team2Power||0)+(he.team3Power||0),Vy(he.submittedAt)]),b=[U.join(","),...K.map(he=>he.join(","))].join(`
`),W=new Blob(["\uFEFF"+b],{type:"text/csv;charset=utf-8;"}),se=document.createElement("a");se.href=URL.createObjectURL(W),se.download=`_${new Date().toISOString().split("T")[0]}.csv`,se.click(),Re.info(r("preparing_export"))},Z=U=>$.key!==U?T.jsx(Du,{size:12,className:"opacity-20 translate-y-[2px]"}):$.direction==="asc"?T.jsx(Hk,{size:14,className:"text-blue-500"}):T.jsx($k,{size:14,className:"text-blue-500"});return o?T.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4 text-center animate-in fade-in transition-all duration-700",children:[T.jsx(Du,{className:"w-10 h-10 text-blue-500 animate-spin"}),T.jsx("p",{className:"text-gray-400 font-black tracking-widest uppercase text-[10px]",children:r("loading_data")})]}):T.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 relative",children:[ae&&T.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>Ae(!1)}),T.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg relative z-10 overflow-hidden animate-in zoom-in duration-300 border border-gray-100",children:[T.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 p-6 text-white flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md border border-white/20",children:T.jsx(by,{size:20})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-black text-lg tracking-tight",children:r("edit_record")}),T.jsx("p",{className:"text-xs text-indigo-100 font-bold opacity-80 uppercase tracking-widest",children:ne?.gameId})]})]}),T.jsx("button",{onClick:()=>Ae(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:T.jsx(iA,{size:20})})]}),T.jsxs("form",{onSubmit:Xe,className:"p-8 space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"space-y-1.5",children:[T.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-1.5",children:[T.jsx(l0,{size:12,className:"text-blue-500"})," ",r("game_id")]}),T.jsx("input",{type:"text",name:"gameId",value:ge.gameId,onChange:Le,className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold"})]}),T.jsxs("div",{className:"space-y-1.5",children:[T.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-1.5",children:[T.jsx(uc,{size:12,className:"text-green-500"})," ",r("alliance_label")]}),T.jsx("input",{type:"text",name:"alliance",value:ge.alliance,onChange:Le,className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 transition-all text-sm font-bold"})]})]}),T.jsx("div",{className:"h-px bg-gray-100 italic flex items-center justify-center",children:T.jsx("span",{className:"bg-white px-3 text-[9px] font-black text-gray-300 uppercase tracking-[0.3em]",children:r("combat_details")})}),T.jsx("div",{className:"space-y-4",children:[{name:"team1Power",label:r("s1_power")},{name:"team2Power",label:r("s2_power")},{name:"team3Power",label:r("s3_power")}].map(U=>T.jsxs("div",{className:"flex items-center gap-4 group",children:[T.jsx("label",{className:"w-24 text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-indigo-500 transition-colors",children:U.label}),T.jsxs("div",{className:"flex-grow relative",children:[T.jsx("input",{type:"number",name:U.name,value:ge[U.name],onChange:Le,className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 outline-none focus:border-indigo-500 transition-all text-sm font-mono font-bold"}),T.jsx(a0,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-indigo-400 transition-colors"})]})]},U.name))}),T.jsxs("div",{className:"pt-6 flex gap-4",children:[T.jsx("button",{type:"button",onClick:()=>Ae(!1),className:"flex-1 py-3 px-6 rounded-xl border border-gray-200 text-gray-400 text-xs font-black uppercase tracking-widest hover:bg-gray-50 transition-all",children:r("cancel")}),T.jsxs("button",{type:"submit",disabled:I,className:"flex-[2] py-3 px-6 bg-indigo-600 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 flex items-center justify-center gap-2 cursor-pointer disabled:opacity-50",children:[I?T.jsx(Du,{size:14,className:"animate-spin"}):T.jsx(o0,{size:14}),T.jsx("span",{children:r("confirm_save")})]})]})]})]})]}),T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsxs("h2",{className:"text-2xl font-black text-gray-900 tracking-tight flex items-center gap-2 uppercase",children:[T.jsx(Ry,{className:"text-indigo-600"})," ",r("admin_title")]}),T.jsx("p",{className:"text-sm text-gray-500",children:r("admin_desc")})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"bg-white border border-gray-100 p-1 rounded-xl flex shadow-sm mr-2",children:[T.jsxs("button",{onClick:()=>F("members"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-tight flex items-center gap-1.5 transition-all ${P==="members"?"bg-indigo-600 text-white shadow-md":"text-gray-400 hover:bg-gray-50"}`,children:[T.jsx(Hu,{size:14})," ",r("view_members")]}),T.jsxs("button",{onClick:()=>F("alliances"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-tight flex items-center gap-1.5 transition-all ${P==="alliances"?"bg-indigo-600 text-white shadow-md":"text-gray-400 hover:bg-gray-50"}`,children:[T.jsx(Qk,{size:14})," ",r("view_alliances")]})]}),T.jsxs("button",{onClick:R,className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm flex items-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[T.jsx(Du,{size:14})," ",T.jsx("span",{className:"hidden sm:inline",children:r("refresh")})]}),T.jsxs("button",{onClick:Pe,className:"p-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[T.jsx(Wk,{size:14})," ",r("export_csv")]})]})]}),g&&T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:r("total_member"),value:t.length,icon:T.jsx(Hu,{}),color:"blue"},{label:r("alliance_total_power"),value:tr(t.reduce((U,K)=>U+(K.team1Power||0)+(K.team2Power||0)+(K.team3Power||0),0)),icon:T.jsx(Zk,{}),color:"green"},{label:r("alliance_avg_power"),value:tr(t.length>0?Math.round(t.reduce((U,K)=>U+(K.team1Power||0)+(K.team2Power||0)+(K.team3Power||0),0)/t.length):0),icon:T.jsx(nA,{}),color:"indigo"},{label:r("data_count"),value:t.length,icon:T.jsx(Ry,{}),color:"purple"}].map((U,K)=>T.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4 group hover:shadow-md transition-shadow",children:[T.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-50 flex items-center justify-center group-hover:bg-indigo-50 transition-colors",children:T.jsx("div",{className:"text-indigo-600 group-hover:scale-110 transition-transform",children:U.icon})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:U.label}),T.jsx("p",{className:"text-xl font-black text-gray-800 tracking-tighter tabular-nums leading-none mt-1",children:U.value})]})]},K))}),T.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-xl shadow-gray-200/40 relative overflow-hidden",children:[T.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/30 flex flex-col sm:flex-row gap-4",children:[T.jsxs("div",{className:"relative flex-grow",children:[T.jsx(Dy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),T.jsx("input",{type:"text",placeholder:r("search_placeholder"),value:B,onChange:U=>H(U.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50/50 outline-none transition-all text-xs font-bold"})]}),T.jsxs("button",{className:"px-4 py-2.5 bg-white border border-gray-200 text-gray-400 rounded-xl hover:bg-gray-50 transition-all text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[T.jsx(Kk,{size:14})," ",r("filter_options")]})]}),T.jsx("div",{className:"overflow-x-auto",children:P==="alliances"?T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"bg-gray-50/50",children:[T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r("alliance_label")}),T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r("total_member")}),T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-indigo-600 bg-indigo-50/10 uppercase tracking-widest",children:r("avg_s1")}),T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-indigo-600 bg-indigo-50/10 uppercase tracking-widest",children:r("avg_s2")}),T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-indigo-600 bg-indigo-50/10 uppercase tracking-widest",children:r("avg_s3")}),T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r("alliance_avg_power")}),T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r("last_updated")})]})}),T.jsx("tbody",{className:"divide-y divide-gray-100",children:w.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:"7",className:"px-6 py-20 text-center text-gray-400 font-bold uppercase text-xs tracking-widest opacity-20",children:r("no_data")})}):w.filter(U=>U.name.toLowerCase().includes(B.toLowerCase())).map(U=>T.jsxs("tr",{className:"group hover:bg-indigo-50/20 transition-colors",children:[T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-[10px] font-black text-indigo-500 border border-indigo-200",children:T.jsx(uc,{size:14})}),T.jsx("span",{className:"font-bold text-gray-800 tracking-tight",children:U.name})]})}),T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Hu,{size:14,className:"text-gray-300"}),T.jsx("span",{className:"font-bold text-gray-600 tabular-nums",children:U.memberCount})]})}),T.jsx("td",{className:"px-6 py-5",children:T.jsx("span",{className:"font-black text-indigo-600 font-mono text-sm tabular-nums tracking-tighter",children:tr(U.avgTeam1Power)})}),T.jsx("td",{className:"px-6 py-5",children:T.jsx("span",{className:"font-black text-indigo-600 font-mono text-sm tabular-nums tracking-tighter",children:tr(U.avgTeam2Power)})}),T.jsx("td",{className:"px-6 py-5",children:T.jsx("span",{className:"font-black text-indigo-600 font-mono text-sm tabular-nums tracking-tighter",children:tr(U.avgTeam3Power)})}),T.jsx("td",{className:"px-6 py-5 font-mono text-sm text-gray-400 tabular-nums",children:tr(U.avgPower)}),T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-[10px] font-bold uppercase tabular-nums",children:[T.jsx(Cy,{size:12}),U.lastUpdated?U.lastUpdated.toLocaleString("zh-TW").split(" ")[0]:"---"]})})]},U.name))})]}):T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"bg-gray-50/50",children:[[{key:"gameId",label:r("member_id")},{key:"alliance",label:r("alliance_label")},{key:"team1Power",label:r("s1_power")},{key:"team2Power",label:r("s2_power")},{key:"team3Power",label:r("s3_power")},{key:"totalPower",label:r("total_eval"),focus:!0},{key:"submittedAt",label:r("update_record")}].map(U=>T.jsx("th",{onClick:()=>D(U.key),className:`px-6 py-4 text-[10px] font-black uppercase tracking-widest cursor-pointer hover:bg-gray-100/50 transition-colors select-none ${U.focus?"text-indigo-600 bg-indigo-50/10":"text-gray-400"}`,children:T.jsxs("div",{className:"flex items-center justify-between gap-1",children:[U.label,Z(U.key)]})},U.key)),T.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:r("actions")})]})}),T.jsx("tbody",{className:"divide-y divide-gray-100",children:be.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:"8",className:"px-6 py-20 text-center",children:T.jsxs("div",{className:"flex flex-col items-center space-y-4 opacity-20",children:[T.jsx(Dy,{size:48}),T.jsx("p",{className:"font-bold uppercase text-xs tracking-widest",children:r(B?"no_results":"no_data")})]})})}):be.map(U=>{const K=(U.team1Power||0)+(U.team2Power||0)+(U.team3Power||0);return T.jsxs("tr",{className:"group hover:bg-indigo-50/20 transition-colors",children:[T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-[10px] font-black text-gray-500 border border-gray-200",children:U.gameId?.substring(0,2).toUpperCase()}),T.jsx("span",{className:"font-bold text-gray-800 tracking-tight",children:U.gameId})]})}),T.jsx("td",{className:"px-6 py-5 text-xs font-bold text-gray-500 uppercase tracking-tighter",children:U.alliance}),T.jsx("td",{className:"px-6 py-5 font-mono text-sm text-gray-400 tabular-nums",children:tr(U.team1Power)}),T.jsx("td",{className:"px-6 py-5 font-mono text-sm text-gray-400 tabular-nums",children:tr(U.team2Power)}),T.jsx("td",{className:"px-6 py-5 font-mono text-sm text-gray-400 tabular-nums",children:tr(U.team3Power)}),T.jsx("td",{className:"px-6 py-5",children:T.jsx("span",{className:"font-black text-indigo-600 font-mono text-base tabular-nums tracking-tighter",children:tr(K)})}),T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-[10px] font-bold uppercase tabular-nums",children:[T.jsx(Cy,{size:12}),Vy(U.submittedAt).split(" ")[0]]})}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsxs("div",{className:"flex items-center justify-center gap-2",children:[T.jsx("button",{onClick:()=>k(U),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:r("edit"),children:T.jsx(by,{size:16})}),T.jsx("button",{onClick:()=>O(U.id,U.gameId),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:r("delete"),children:T.jsx(tA,{size:16})})]})})]},U.id)})})]})}),T.jsxs("div",{className:"p-4 bg-gray-50/50 border-t border-gray-100 text-[9px] font-black text-gray-300 uppercase tracking-[0.2em] flex justify-between items-center",children:[T.jsx("span",{children:r("intel_v2")}),T.jsxs("span",{className:"bg-white px-2 py-0.5 rounded border border-gray-200 text-gray-400",children:[r(P==="alliances"?"alliance_label":"data_count"),": ",P==="alliances"?w.length:be.length]})]})]})]})};function pA(){const[r,e]=pe.useState("form"),[t,s]=pe.useState(!1),{user:o,isAdmin:l,loading:h}=Zv(),{lang:f,t:g,toggleLang:_}=Cc();pe.useEffect(()=>{const F=localStorage.getItem("isLoginMode")==="true";!h&&!o&&!t&&!F&&KT(rs).catch(B=>{console.error(":",B)}),!o&&F&&s(!0)},[o,h,t]),pe.useEffect(()=>{o&&(localStorage.removeItem("isLoginMode"),s(!1))},[o]);const w=async()=>{try{localStorage.removeItem("isLoginMode"),s(!1),await Rg(rs)}catch(F){console.error(":",F)}},A=async()=>{localStorage.setItem("isLoginMode","true"),s(!0),await Rg(rs)},P=()=>{localStorage.removeItem("isLoginMode"),s(!1)};return h?T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 space-y-4",children:[T.jsx(Xk,{className:"w-10 h-10 text-blue-600 animate-spin"}),T.jsx("p",{className:"text-gray-500 font-medium animate-pulse",children:g("loading_system")})]}):t&&!o?T.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-blue-100 via-white to-indigo-100 flex flex-col items-center justify-center p-4",children:T.jsxs("div",{className:"w-full max-w-md animate-in fade-in zoom-in duration-500",children:[T.jsx(Uk,{}),T.jsx("button",{onClick:P,className:"w-full mt-6 py-3 text-gray-400 hover:text-gray-600 text-sm font-bold flex items-center justify-center gap-2 transition-colors border border-transparent hover:border-gray-200 rounded-xl",children:g("back_to_guest")})]})}):o?T.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex flex-col font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-gray-100 shadow-sm",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-18 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-3 group cursor-default",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-tr from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200 group-hover:rotate-12 transition-transform duration-300",children:T.jsx(Td,{className:"text-white w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-lg font-black text-gray-900 tracking-tight leading-none",children:g("title")}),T.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-[0.2em] mt-1 opacity-80",children:g("subtitle")})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-3 py-1.5 rounded-full border border-gray-100 bg-gray-50 text-xs font-bold text-gray-600 hover:bg-gray-100 transition-all",children:[T.jsx(Gk,{size:14,className:"text-blue-500"}),f==="zh"?"English":""]}),T.jsxs("div",{className:"hidden md:flex items-center gap-4 py-1.5 px-3 bg-gray-50 rounded-full border border-gray-100",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${o.isAnonymous?"bg-orange-400 animate-pulse":"bg-green-500"}`}),T.jsx("span",{className:"text-xs font-bold text-gray-600 tracking-wide",children:o.isAnonymous?g("guest_mode"):o.email?.split("@")[0]})]}),l&&T.jsx("span",{className:"bg-indigo-600 text-[10px] text-white px-2 py-0.5 rounded-full font-black uppercase tracking-wider shadow-sm",children:g("admin_tag")})]}),!o.isAnonymous&&T.jsx("button",{onClick:w,className:"group flex items-center gap-2 text-gray-400 hover:text-red-500 transition-colors p-2 rounded-lg hover:bg-red-50",title:g("logout"),children:T.jsx(Jk,{size:20,className:"group-hover:-translate-x-0.5 transition-transform"})})]})]})}),T.jsx("main",{className:"flex-grow",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12",children:[l&&T.jsxs("div",{className:"inline-flex p-1 bg-white border border-gray-200 rounded-2xl mb-10 shadow-sm",children:[T.jsxs("button",{onClick:()=>e("form"),className:`flex items-center gap-2 py-2.5 px-6 rounded-xl text-sm font-bold transition-all duration-300 ${r==="form"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[T.jsx(Yk,{size:18})," ",g("personal_entry")]}),T.jsxs("button",{onClick:()=>e("admin"),className:`flex items-center gap-2 py-2.5 px-6 rounded-xl text-sm font-bold transition-all duration-300 ${r==="admin"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[T.jsx(eA,{size:18})," ",g("all_management")]})]}),T.jsx("div",{className:"relative",children:r==="admin"&&l?T.jsx(fA,{}):T.jsx(oA,{user:o})})]})}),T.jsx("footer",{className:"bg-white border-t border-gray-100 py-12 px-4",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[T.jsxs("div",{className:"flex flex-col items-center md:items-start gap-2",children:[T.jsxs("div",{className:"flex items-center gap-2 opacity-30 grayscale",children:[T.jsx(Td,{size:20}),T.jsx("span",{className:"font-black text-lg tracking-tighter uppercase whitespace-nowrap",children:g("title")})]}),T.jsx("p",{className:"text-gray-400 text-xs font-medium",children:g("footer_text")})]}),T.jsxs("div",{className:"flex items-center gap-8",children:[T.jsxs("div",{className:"text-[10px] font-black text-gray-300 uppercase tracking-[0.3em] hidden sm:block",children:["Intel Status: ",T.jsx("span",{className:"text-green-500",children:g("status_operational")})]}),o.isAnonymous&&T.jsxs("button",{onClick:A,className:"group flex items-center gap-2 py-2 px-4 rounded-full border border-gray-200 text-[11px] font-black text-gray-500 hover:bg-gray-900 hover:text-white hover:border-gray-900 transition-all shadow-sm",children:[g("admin_login_gate")," ",T.jsx(qk,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]})]})]})}),T.jsx(Fk,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1,theme:"light"})]}):T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 space-y-4",children:[T.jsx(Td,{className:"w-12 h-12 text-blue-600 animate-bounce"}),T.jsx("div",{className:"text-gray-600 font-black tracking-widest uppercase text-xs",children:g("preparing_env")})]})}Ew.createRoot(document.getElementById("root")).render(T.jsx(He.StrictMode,{children:T.jsx(Ak,{children:T.jsx(pA,{})})}));
